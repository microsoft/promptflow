interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - promptflow-azure-sdk/1.0.0.dev0 azure-ai-ml/1.15.0 azsdk-python-mgmt-machinelearningservices/0.1.0
        Python/3.9.19 (Windows-10-10.0.22631-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000
  response:
    body:
      string: '{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000",
        "name": "00000", "type": "Microsoft.MachineLearningServices/workspaces", "location":
        "eastus", "tags": {}, "etag": null, "kind": "Default", "sku": {"name": "Basic",
        "tier": "Basic"}, "properties": {"discoveryUrl": "https://eastus.api.azureml.ms/discovery"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3701'
      content-type:
      - application/json; charset=utf-8
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-request-time:
      - '0.040'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - promptflow-azure-sdk/1.0.0.dev0 azsdk-python-azuremachinelearningdesignerserviceclient/unknown
        Python/3.9.19 (Windows-10-10.0.22631-SP0)
    method: GET
    uri: https://eastus.api.azureml.ms/flow/api/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/BulkRuns/resume_from_run_with_image_and_aggregation_node
  response:
    body:
      string: '{"flowGraph": {"nodes": [{"name": "flip_image", "type": "python", "source":
        {"type": "code", "path": "flip_image.py"}, "inputs": {"input_image": "${inputs.input_image}"},
        "tool": "flip_image.py", "reduce": false}, {"name": "count_image", "type":
        "python", "source": {"type": "code", "path": "count_image.py"}, "inputs":
        {"images": "${flip_image.output}"}, "tool": "count_image.py", "reduce": true}],
        "tools": [{"name": "Azure OpenAI GPT-4 Turbo with Vision", "type": "custom_llm",
        "inputs": {"connection": {"type": ["AzureOpenAIConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        0}}, "deployment_name": {"type": ["string"], "enabled_by": "connection", "dynamic_list":
        {"func_path": "promptflow.tools.aoai_gpt4v.list_deployment_names", "func_kwargs":
        [{"name": "connection", "reference": "${inputs.connection}", "type": ["AzureOpenAIConnection"]}]},
        "allow_manual_entry": true, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 1}}, "frequency_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 7}}, "max_tokens": {"type": ["int"], "default": 512,
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 4}}, "presence_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 6}}, "seed": {"type": ["int"], "default": "", "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        8}}, "stop": {"type": ["list"], "default": "", "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 5}},
        "temperature": {"type": ["double"], "default": 1, "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 2}},
        "top_p": {"type": ["double"], "default": 1, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "ui_hints": {"index": 3}}}, "description":
        "Use Azure OpenAI GPT-4 Turbo with Vision to leverage AOAI vision ability.",
        "module": "promptflow.tools.aoai_gpt4v", "class_name": "AzureOpenAI", "function":
        "chat", "icon": {"dark": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA2ElEQVR4nJXSzW3CQBAF4DUSTjk+Al1AD0ikESslpBIEheRALhEpgAYSWV8OGUublf/yLuP3PPNmdndS+gdwXZrYDmh7fGE/W+wXbaYd8IYm4rxJPnZ0boI3wZcdJxs/n+AwV7DFK7aFyfQdYIMLPvES8YJNf5yp4jMeeEYdWh38gXOR35YGHe5xabvQdsHv6PLi8qV6gycc8YH3iMfQu6Lh4ASr+F5Hh3XwVWnQYzUkVlX1nccplAb1SN6Y/sfgmlK64VS8wimldIv/0yj2QLkHizG0iWP4AVAfQ34DVQONAAAAAElFTkSuQmCC",
        "light": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAx0lEQVR4nJWSwQ2CQBBFX0jAcjgqXUgPJNiIsQQrIVCIFy8GC6ABDcGDX7Mus9n1Xz7zZ+fPsLPwH4bUg0dD2wMPcbR48Uxq4AKU4iSTDwZ1LhWXipN/B3V0J6hjBTvgLHZNonewBXrgDpzEvXSIjN0BE3AACmmF4kl5F6tNzcCoLpW0SvGovFvsb4oZ2AANcAOu4ka6axCcINN3rg654sww+CYsPD0OwjcozFNh/Qcd78tqVbCIW+n+Fky472Bh/Q6SYb1EEy8tDzd+9IsVPAAAAABJRU5ErkJggg=="},
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "default_prompt": "# system:\nAs an AI assistant, your task involves interpreting
        images and responding to questions about the image.\nRemember to provide accurate
        answers based on the information present in the image.\n\n# user:\nCan you
        tell me what the image depicts?\n![image]({{image_input}})\n", "enable_kwargs":
        false, "tool_state": "preview"}, {"name": "Content Safety (Text Analyze)",
        "type": "python", "inputs": {"connection": {"type": ["AzureContentSafetyConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "hate_category": {"type": ["string"], "default": "medium_sensitivity", "enum":
        ["disable", "low_sensitivity", "medium_sensitivity", "high_sensitivity"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "self_harm_category": {"type": ["string"], "default": "medium_sensitivity",
        "enum": ["disable", "low_sensitivity", "medium_sensitivity", "high_sensitivity"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "sexual_category": {"type": ["string"], "default": "medium_sensitivity", "enum":
        ["disable", "low_sensitivity", "medium_sensitivity", "high_sensitivity"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "text": {"type": ["string"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "violence_category": {"type": ["string"],
        "default": "medium_sensitivity", "enum": ["disable", "low_sensitivity", "medium_sensitivity",
        "high_sensitivity"], "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}}, "description": "Use Azure Content Safety to detect
        harmful content.", "module": "promptflow.tools.azure_content_safety", "function":
        "analyze_text", "is_builtin": true, "package": "promptflow-tools", "package_version":
        "1.4.0rc3", "enable_kwargs": false, "deprecated_tools": ["content_safety_text.tools.content_safety_text_tool.analyze_text"],
        "tool_state": "stable"}, {"name": "Embedding", "type": "python", "inputs":
        {"connection": {"type": ["AzureOpenAIConnection", "OpenAIConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "deployment_name":
        {"type": ["string"], "enabled_by": "connection", "enabled_by_type": ["AzureOpenAIConnection"],
        "model_list": ["text-embedding-ada-002", "text-search-ada-doc-001", "text-search-ada-query-001"],
        "capabilities": {"completion": false, "chat_completion": false, "embeddings":
        true}, "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}, "input": {"type": ["string"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "model": {"type": ["string"], "enum": ["text-embedding-ada-002",
        "text-search-ada-doc-001", "text-search-ada-query-001"], "enabled_by": "connection",
        "enabled_by_type": ["OpenAIConnection"], "allow_manual_entry": true, "is_multi_select":
        false, "input_type": "default"}}, "description": "Use OpenAI''s embedding
        model to create an embedding vector representing the input text.", "module":
        "promptflow.tools.embedding", "function": "embedding", "is_builtin": true,
        "package": "promptflow-tools", "package_version": "1.4.0rc3", "enable_kwargs":
        false, "tool_state": "stable"}, {"name": "Open Model LLM", "type": "custom_llm",
        "inputs": {"api": {"type": ["string"], "enum": ["chat", "completion"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        2}}, "deployment_name": {"type": ["string"], "default": "", "dynamic_list":
        {"func_path": "promptflow.tools.open_model_llm.list_deployment_names", "func_kwargs":
        [{"name": "endpoint", "optional": true, "reference": "${inputs.endpoint}",
        "type": ["string"]}]}, "allow_manual_entry": true, "is_multi_select": false,
        "input_type": "default", "ui_hints": {"index": 1}}, "endpoint_name": {"type":
        ["string"], "dynamic_list": {"func_path": "promptflow.tools.open_model_llm.list_endpoint_names"},
        "allow_manual_entry": true, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 0}}, "max_new_tokens": {"type": ["int"], "default":
        500, "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default", "ui_hints": {"index": 4}}, "model_kwargs": {"type": ["object"],
        "default": "{}", "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default", "advanced": true, "ui_hints": {"index": 6}}, "temperature": {"type":
        ["double"], "default": 1.0, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "ui_hints": {"index": 3}}, "top_p": {"type":
        ["double"], "default": 1.0, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "advanced": true, "ui_hints": {"index": 5}}},
        "description": "Use an open model from the Azure Model catalog, deployed to
        an AzureML Online Endpoint for LLM Chat or Completion API calls.", "module":
        "promptflow.tools.open_model_llm", "class_name": "OpenModelLLM", "function":
        "call", "icon": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACgElEQVR4nGWSz2vcVRTFP/e9NzOZ1KDGohASslLEH6VLV0ak4l/QpeDCrfQPcNGliODKnVm4EBdBsIjQIlhciKW0ycKFVCSNbYnjdDLtmPnmO/nO9917XcxMkjYX3uLx7nnn3HOuMK2Nix4fP78ZdrYXVkLVWjf3l3B1B+HpcjzGFtmqa6cePz7/x0dnn1n5qhj3iBJPYREIURAJuCtpY8PjReDbrf9WG7H1fuefwQU9qKztTcMJT+PNnEFvjGVDBDlSsH6p/9MLzy6+NxwVqI8RAg4IPmWedMckdLYP6O6UpIaQfvyyXG012+e79/ZfHukoS1ISMT2hGTB1RkUmNgQ5QZ0w+a2VWDq73MbdEWmfnnv6UWe7oNzPaLapl5CwuLTXK9WUGBuCjqekzhP+z52ZXOrKMD3OJg0Hh778aiOuvpnYvp05d6GJO4iAO4QAe/eV36/X5LFRV4Zmn+AdkqlL8Vjp3oVioOz+WTPzzYEgsN+fgPLYyJVheSbPPVl2ikeGZRjtG52/8rHuaV9VOlpP2OtKyVndcRVCSqOhsvxa4vW359i6OuKdD+aP8Q4SYPdOzS/flGjt1JUSaMqZ5nwa1Y8qWb/Ud/eZZkHisYezEM0m+fcelDr8F1SqW2LNK6r1jXQwyLzy1hxvrLXZulry7ocL+FS6G4QIu3fG/Px1gdYeW7LIgXU2P/115TOA5G7e3Rmj2aS/m7l5pThiZzrCcE/d1XHzbln373nw7y6veeoUm5KCNKT/IPPwbiY1hYd/l5MIT65BMFt87sU4v9D7/JMflr44uV6hGh1+L4RCkg6z5iK2tAhNLeLsNGwYA4fDYnC/drvuuFxe86NV/x+Ut27g0FvykgAAAABJRU5ErkJggg==",
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "enable_kwargs": false, "tool_state": "stable"}, {"name": "OpenAI GPT-4V",
        "type": "custom_llm", "inputs": {"connection": {"type": ["OpenAIConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 0}}, "frequency_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 7}}, "max_tokens": {"type": ["int"], "default": 512,
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 4}}, "model": {"type": ["string"], "enum": ["gpt-4-vision-preview"],
        "allow_manual_entry": true, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 1}}, "presence_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 6}}, "seed": {"type": ["int"], "default": "", "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        8}}, "stop": {"type": ["list"], "default": "", "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 5}},
        "temperature": {"type": ["double"], "default": 1, "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 2}},
        "top_p": {"type": ["double"], "default": 1, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "ui_hints": {"index": 3}}}, "description":
        "Use OpenAI GPT-4V to leverage vision ability.", "module": "promptflow.tools.openai_gpt4v",
        "class_name": "OpenAI", "function": "chat", "icon": {"dark": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA2ElEQVR4nJXSzW3CQBAF4DUSTjk+Al1AD0ikESslpBIEheRALhEpgAYSWV8OGUublf/yLuP3PPNmdndS+gdwXZrYDmh7fGE/W+wXbaYd8IYm4rxJPnZ0boI3wZcdJxs/n+AwV7DFK7aFyfQdYIMLPvES8YJNf5yp4jMeeEYdWh38gXOR35YGHe5xabvQdsHv6PLi8qV6gycc8YH3iMfQu6Lh4ASr+F5Hh3XwVWnQYzUkVlX1nccplAb1SN6Y/sfgmlK64VS8wimldIv/0yj2QLkHizG0iWP4AVAfQ34DVQONAAAAAElFTkSuQmCC",
        "light": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAx0lEQVR4nJWSwQ2CQBBFX0jAcjgqXUgPJNiIsQQrIVCIFy8GC6ABDcGDX7Mus9n1Xz7zZ+fPsLPwH4bUg0dD2wMPcbR48Uxq4AKU4iSTDwZ1LhWXipN/B3V0J6hjBTvgLHZNonewBXrgDpzEvXSIjN0BE3AACmmF4kl5F6tNzcCoLpW0SvGovFvsb4oZ2AANcAOu4ka6axCcINN3rg654sww+CYsPD0OwjcozFNh/Qcd78tqVbCIW+n+Fky472Bh/Q6SYb1EEy8tDzd+9IsVPAAAAABJRU5ErkJggg=="},
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "default_prompt": "# system:\nAs an AI assistant, your task involves interpreting
        images and responding to questions about the image.\nRemember to provide accurate
        answers based on the information present in the image.\n\n# user:\nCan you
        tell me what the image depicts?\n![image]({{image_input}})\n", "enable_kwargs":
        false, "tool_state": "preview"}, {"name": "Serp API", "type": "python", "inputs":
        {"connection": {"type": ["SerpConnection"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "engine": {"type": ["string"], "default":
        "google", "enum": ["google", "bing"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "location": {"type": ["string"], "default":
        "", "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "num": {"type": ["int"], "default": "10", "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "query": {"type": ["string"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "safe": {"type":
        ["string"], "default": "off", "enum": ["active", "off"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}}, "description":
        "Use Serp API to obtain search results from a specific search engine.", "module":
        "promptflow.tools.serpapi", "class_name": "SerpAPI", "function": "search",
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "enable_kwargs": false, "tool_state": "stable"}, {"name": "Index Lookup",
        "type": "python", "inputs": {"acs_content_field": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["Azure AI Search"], "dynamic_list": {"func_path":
        "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_fields",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}, {"default": "Edm.String", "name": "field_data_type",
        "optional": false, "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "uionly_hidden"}, "acs_embedding_field": {"type": ["string"],
        "enabled_by": "index_type", "enabled_by_value": ["Azure AI Search"], "dynamic_list":
        {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_fields",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}, {"default": "Collection(Edm.Single)", "name": "field_data_type",
        "optional": false, "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "uionly_hidden"}, "acs_index_connection": {"type": ["CognitiveSearchConnection"],
        "enabled_by": "index_type", "enabled_by_value": ["Azure AI Search"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "uionly_hidden"}, "acs_index_name":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Azure
        AI Search"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_indices",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]}]},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "acs_metadata_field": {"type": ["string"], "enabled_by": "index_type", "enabled_by_value":
        ["Azure AI Search"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_fields",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}, {"default": "Edm.String", "name": "field_data_type",
        "optional": false, "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "uionly_hidden"}, "aoai_embedding_connection": {"type":
        ["AzureOpenAIConnection"], "enabled_by": "embedding_type", "enabled_by_value":
        ["Azure OpenAI"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "uionly_hidden"}, "embedding_deployment": {"type": ["string"], "enabled_by":
        "embedding_type", "enabled_by_value": ["Azure OpenAI"], "dynamic_list": {"func_path":
        "promptflow_vectordb.tool.common_index_lookup_utils.list_aoai_embedding_deployments",
        "func_kwargs": [{"name": "aoai_connection", "optional": false, "reference":
        "${inputs.aoai_embedding_connection}", "type": ["AzurOpenAIConnection"]}]},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "embedding_model": {"type": ["string"], "enabled_by": "embedding_type", "enabled_by_value":
        ["OpenAI", "Hugging Face"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_embedding_models",
        "func_kwargs": [{"name": "embedding_type", "optional": false, "reference":
        "${inputs.embedding_type}", "type": ["string"]}]}, "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "uionly_hidden"}, "embedding_type":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Azure
        AI Search", "FAISS", "Pinecone"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_available_embedding_types",
        "func_kwargs": [{"name": "index_type", "optional": false, "reference": "${inputs.index_type}",
        "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "uionly_hidden"}, "faiss_index_path": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["FAISS"], "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "uionly_hidden"}, "index_type": {"type":
        ["string"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_available_index_types"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "mlindex_asset_id": {"type": ["string"], "enabled_by": "index_type", "enabled_by_value":
        ["Registered Index"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_registered_mlindices"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "mlindex_content": {"type": ["string"], "allow_manual_entry": false, "is_multi_select":
        false, "generated_by": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.forward_mapping",
        "func_kwargs": [{"name": "index_type", "reference": "${inputs.index_type}",
        "type": ["string"]}, {"name": "mlindex_asset_id", "optional": true, "reference":
        "${inputs.mlindex_asset_id}", "type": ["string"]}, {"name": "mlindex_path",
        "optional": true, "reference": "${inputs.mlindex_path}", "type": ["string"]},
        {"name": "acs_index_connection", "optional": true, "reference": "${inputs.acs_index_connection}",
        "type": ["CognitiveSearchConnection"]}, {"name": "acs_index_name", "optional":
        true, "reference": "${inputs.acs_index_name}", "type": ["string"]}, {"name":
        "acs_content_field", "optional": true, "reference": "${inputs.acs_content_field}",
        "type": ["string"]}, {"name": "acs_embedding_field", "optional": true, "reference":
        "${inputs.acs_embedding_field}", "type": ["string"]}, {"name": "acs_metadata_field",
        "optional": true, "reference": "${inputs.acs_metadata_field}", "type": ["string"]},
        {"name": "semantic_configuration", "optional": true, "reference": "${inputs.semantic_configuration}",
        "type": ["string"]}, {"name": "faiss_index_path", "optional": true, "reference":
        "${inputs.faiss_index_path}", "type": ["string"]}, {"name": "pinecone_index_connection",
        "optional": true, "reference": "${inputs.pinecone_index_connection}", "type":
        ["string"]}, {"name": "pinecone_index_name", "optional": true, "reference":
        "${inputs.pinecone_index_name}", "type": ["string"]}, {"name": "pinecone_content_field",
        "optional": true, "reference": "${inputs.pinecone_content_field}", "type":
        ["string"]}, {"name": "pinecone_metadata_field", "optional": true, "reference":
        "${inputs.pinecone_metadata_field}", "type": ["string"]}, {"name": "embedding_type",
        "optional": true, "reference": "${inputs.embedding_type}", "type": ["string"]},
        {"name": "aoai_embedding_connection", "optional": true, "reference": "${inputs.aoai_embedding_connection}",
        "type": ["AzureOpenAIConnection"]}, {"name": "oai_embedding_connection", "optional":
        true, "reference": "${inputs.oai_embedding_connection}", "type": ["string"]},
        {"name": "embedding_model", "optional": true, "reference": "${inputs.embedding_model}",
        "type": ["string"]}, {"name": "embedding_deployment", "optional": true, "reference":
        "${inputs.embedding_deployment}", "type": ["string"]}, {"name": "serverless_embedding_connection",
        "optional": true, "reference": "${inputs.serverless_embedding_connection}",
        "type": ["string"]}], "reverse_func_path": "promptflow_vectordb.tool.common_index_lookup_utils.reverse_mapping"},
        "input_type": "default"}, "mlindex_path": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["MLIndex file from path"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "uionly_hidden"}, "oai_embedding_connection":
        {"type": ["OpenAIConnection"], "enabled_by": "embedding_type", "enabled_by_value":
        ["OpenAI"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "uionly_hidden"}, "pinecone_content_field": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["Pinecone"], "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "uionly_hidden"}, "pinecone_index_connection":
        {"type": ["PineconeConnection"], "enabled_by": "index_type", "enabled_by_value":
        ["Pinecone"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_pinecone_connections"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "pinecone_index_name": {"type": ["string"], "enabled_by": "index_type", "enabled_by_value":
        ["Pinecone"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_pinecone_indices",
        "func_kwargs": [{"name": "pinecone_connection_name", "optional": false, "reference":
        "${inputs.pinecone_index_connection}", "type": ["string"]}]}, "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "uionly_hidden"}, "pinecone_metadata_field":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Pinecone"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "queries": {"type": ["object"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "query_type": {"type": ["string"], "dynamic_list":
        {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_available_query_types",
        "func_kwargs": [{"name": "mlindex_content", "optional": false, "reference":
        "${inputs.mlindex_content}", "type": ["string"]}]}, "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "semantic_configuration":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Azure
        AI Search"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_semantic_configurations",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "uionly_hidden"}, "serverless_embedding_connection": {"type":
        ["string"], "enabled_by": "embedding_type", "enabled_by_value": ["Serverless
        Endpoint"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_serverless_embedding_connections"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "top_k": {"type": ["int"], "default": 3, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}}, "description": "Search an AzureML Vector
        Index for relevant results using one or more text queries.", "module": "promptflow_vectordb.tool.common_index_lookup",
        "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "preview"},
        {"name": "Faiss Index Lookup", "type": "python", "inputs": {"path": {"type":
        ["string"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}, "top_k": {"type": ["int"], "default": "3", "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "vector": {"type":
        ["list"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}}, "description": "Search vector based query from the FAISS index
        file.", "module": "promptflow_vectordb.tool.faiss_index_lookup", "class_name":
        "FaissIndexLookup", "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "archived"},
        {"name": "Vector DB Lookup", "type": "python", "inputs": {"class_name": {"type":
        ["string"], "enabled_by": "connection", "enabled_by_type": ["WeaviateConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "collection_name": {"type": ["string"], "enabled_by": "connection", "enabled_by_type":
        ["QdrantConnection"], "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}, "connection": {"type": ["CognitiveSearchConnection",
        "QdrantConnection", "WeaviateConnection"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "index_name": {"type": ["string"], "enabled_by":
        "connection", "enabled_by_type": ["CognitiveSearchConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "search_filters":
        {"type": ["object"], "enabled_by": "connection", "enabled_by_type": ["CognitiveSearchConnection",
        "QdrantConnection"], "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}, "search_params": {"type": ["object"], "enabled_by":
        "connection", "enabled_by_type": ["CognitiveSearchConnection", "QdrantConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "text_field": {"type": ["string"], "enabled_by": "connection", "enabled_by_type":
        ["CognitiveSearchConnection", "QdrantConnection", "WeaviateConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "top_k": {"type":
        ["int"], "default": "3", "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}, "vector": {"type": ["list"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "vector_field":
        {"type": ["string"], "enabled_by": "connection", "enabled_by_type": ["CognitiveSearchConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"}},
        "description": "Search vector based query from existing Vector Database.",
        "module": "promptflow_vectordb.tool.vector_db_lookup", "class_name": "VectorDBLookup",
        "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "archived"},
        {"name": "Vector Index Lookup", "type": "python", "inputs": {"path": {"type":
        ["string"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}, "query": {"type": ["object"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "top_k": {"type": ["int"], "default": "3",
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"}},
        "description": "Search text or vector based query from AzureML Vector Index.",
        "module": "promptflow_vectordb.tool.vector_index_lookup", "class_name": "VectorIndexLookup",
        "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "archived"},
        {"name": "count_image.py", "type": "python", "inputs": {"images": {"type":
        ["object"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}}, "source": "count_image.py", "function": "aggregate", "is_builtin":
        false, "enable_kwargs": false, "tool_state": "stable"}, {"name": "flip_image.py",
        "type": "python", "inputs": {"input_image": {"type": ["image"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}}, "source": "flip_image.py",
        "function": "passthrough", "is_builtin": false, "enable_kwargs": false, "tool_state":
        "stable"}], "inputs": {"input_image": {"type": "image", "default": "https://developer.microsoft.com/_devcom/images/logo-ms-social.png",
        "is_chat_input": false}}, "outputs": {"output_image": {"type": "string", "reference":
        "${flip_image.output}", "evaluation_only": false, "is_chat_output": false}}},
        "flowRunResourceId": "azureml://locations/eastus/workspaces/00000/flows/resume_from_run_with_image_and_aggregation_node/flowRuns/resume_from_run_with_image_and_aggregation_node",
        "flowRunId": "resume_from_run_with_image_and_aggregation_node", "flowRunDisplayName":
        "resume_from_run_with_image_and_aggregation_node", "batchDataInput": {"dataUri":
        "azureml://datastores/workspaceblobstore/paths/LocalUpload/f0a11846460e7f82ede2efcac357243a/input_data/"},
        "flowRunType": "FlowRun", "flowType": "Default", "runtimeName": "automatic",
        "inputsMapping": {"input_image": "${data.input_image}"}, "outputDatastoreName":
        "workspaceblobstore", "childRunBasePath": "promptflow/PromptFlowArtifacts/resume_from_run_with_image_and_aggregation_node/flow_artifacts",
        "flowDagFileRelativePath": "flow.dag.yaml", "flowSnapshotId": "5736ca27-2c86-4efa-b25b-786d71f83a72",
        "sessionId": "dd798e161fe6ff4d5da384b8b0cfda2c1de3b1d9275b138e", "studioPortalEndpoint":
        "https://ml.azure.com/runs/resume_from_run_with_image_and_aggregation_node?wsid=/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000"}'
    headers:
      connection:
      - keep-alive
      content-length:
      - '28313'
      content-type:
      - application/json; charset=utf-8
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-request-time:
      - '0.253'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - promptflow-azure-sdk/1.0.0.dev0 azsdk-python-azuremachinelearningdesignerserviceclient/unknown
        Python/3.9.19 (Windows-10-10.0.22631-SP0)
    method: GET
    uri: https://eastus.api.azureml.ms/flow/api/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/BulkRuns/resume_from_run_with_image_and_aggregation_node
  response:
    body:
      string: '{"flowGraph": {"nodes": [{"name": "flip_image", "type": "python", "source":
        {"type": "code", "path": "flip_image.py"}, "inputs": {"input_image": "${inputs.input_image}"},
        "tool": "flip_image.py", "reduce": false}, {"name": "count_image", "type":
        "python", "source": {"type": "code", "path": "count_image.py"}, "inputs":
        {"images": "${flip_image.output}"}, "tool": "count_image.py", "reduce": true}],
        "tools": [{"name": "Azure OpenAI GPT-4 Turbo with Vision", "type": "custom_llm",
        "inputs": {"connection": {"type": ["AzureOpenAIConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        0}}, "deployment_name": {"type": ["string"], "enabled_by": "connection", "dynamic_list":
        {"func_path": "promptflow.tools.aoai_gpt4v.list_deployment_names", "func_kwargs":
        [{"name": "connection", "reference": "${inputs.connection}", "type": ["AzureOpenAIConnection"]}]},
        "allow_manual_entry": true, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 1}}, "frequency_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 7}}, "max_tokens": {"type": ["int"], "default": 512,
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 4}}, "presence_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 6}}, "seed": {"type": ["int"], "default": "", "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        8}}, "stop": {"type": ["list"], "default": "", "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 5}},
        "temperature": {"type": ["double"], "default": 1, "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 2}},
        "top_p": {"type": ["double"], "default": 1, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "ui_hints": {"index": 3}}}, "description":
        "Use Azure OpenAI GPT-4 Turbo with Vision to leverage AOAI vision ability.",
        "module": "promptflow.tools.aoai_gpt4v", "class_name": "AzureOpenAI", "function":
        "chat", "icon": {"dark": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA2ElEQVR4nJXSzW3CQBAF4DUSTjk+Al1AD0ikESslpBIEheRALhEpgAYSWV8OGUublf/yLuP3PPNmdndS+gdwXZrYDmh7fGE/W+wXbaYd8IYm4rxJPnZ0boI3wZcdJxs/n+AwV7DFK7aFyfQdYIMLPvES8YJNf5yp4jMeeEYdWh38gXOR35YGHe5xabvQdsHv6PLi8qV6gycc8YH3iMfQu6Lh4ASr+F5Hh3XwVWnQYzUkVlX1nccplAb1SN6Y/sfgmlK64VS8wimldIv/0yj2QLkHizG0iWP4AVAfQ34DVQONAAAAAElFTkSuQmCC",
        "light": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAx0lEQVR4nJWSwQ2CQBBFX0jAcjgqXUgPJNiIsQQrIVCIFy8GC6ABDcGDX7Mus9n1Xz7zZ+fPsLPwH4bUg0dD2wMPcbR48Uxq4AKU4iSTDwZ1LhWXipN/B3V0J6hjBTvgLHZNonewBXrgDpzEvXSIjN0BE3AACmmF4kl5F6tNzcCoLpW0SvGovFvsb4oZ2AANcAOu4ka6axCcINN3rg654sww+CYsPD0OwjcozFNh/Qcd78tqVbCIW+n+Fky472Bh/Q6SYb1EEy8tDzd+9IsVPAAAAABJRU5ErkJggg=="},
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "default_prompt": "# system:\nAs an AI assistant, your task involves interpreting
        images and responding to questions about the image.\nRemember to provide accurate
        answers based on the information present in the image.\n\n# user:\nCan you
        tell me what the image depicts?\n![image]({{image_input}})\n", "enable_kwargs":
        false, "tool_state": "preview"}, {"name": "Content Safety (Text Analyze)",
        "type": "python", "inputs": {"connection": {"type": ["AzureContentSafetyConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "hate_category": {"type": ["string"], "default": "medium_sensitivity", "enum":
        ["disable", "low_sensitivity", "medium_sensitivity", "high_sensitivity"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "self_harm_category": {"type": ["string"], "default": "medium_sensitivity",
        "enum": ["disable", "low_sensitivity", "medium_sensitivity", "high_sensitivity"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "sexual_category": {"type": ["string"], "default": "medium_sensitivity", "enum":
        ["disable", "low_sensitivity", "medium_sensitivity", "high_sensitivity"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "text": {"type": ["string"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "violence_category": {"type": ["string"],
        "default": "medium_sensitivity", "enum": ["disable", "low_sensitivity", "medium_sensitivity",
        "high_sensitivity"], "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}}, "description": "Use Azure Content Safety to detect
        harmful content.", "module": "promptflow.tools.azure_content_safety", "function":
        "analyze_text", "is_builtin": true, "package": "promptflow-tools", "package_version":
        "1.4.0rc3", "enable_kwargs": false, "deprecated_tools": ["content_safety_text.tools.content_safety_text_tool.analyze_text"],
        "tool_state": "stable"}, {"name": "Embedding", "type": "python", "inputs":
        {"connection": {"type": ["AzureOpenAIConnection", "OpenAIConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "deployment_name":
        {"type": ["string"], "enabled_by": "connection", "enabled_by_type": ["AzureOpenAIConnection"],
        "model_list": ["text-embedding-ada-002", "text-search-ada-doc-001", "text-search-ada-query-001"],
        "capabilities": {"completion": false, "chat_completion": false, "embeddings":
        true}, "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}, "input": {"type": ["string"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "model": {"type": ["string"], "enum": ["text-embedding-ada-002",
        "text-search-ada-doc-001", "text-search-ada-query-001"], "enabled_by": "connection",
        "enabled_by_type": ["OpenAIConnection"], "allow_manual_entry": true, "is_multi_select":
        false, "input_type": "default"}}, "description": "Use OpenAI''s embedding
        model to create an embedding vector representing the input text.", "module":
        "promptflow.tools.embedding", "function": "embedding", "is_builtin": true,
        "package": "promptflow-tools", "package_version": "1.4.0rc3", "enable_kwargs":
        false, "tool_state": "stable"}, {"name": "Open Model LLM", "type": "custom_llm",
        "inputs": {"api": {"type": ["string"], "enum": ["chat", "completion"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        2}}, "deployment_name": {"type": ["string"], "default": "", "dynamic_list":
        {"func_path": "promptflow.tools.open_model_llm.list_deployment_names", "func_kwargs":
        [{"name": "endpoint", "optional": true, "reference": "${inputs.endpoint}",
        "type": ["string"]}]}, "allow_manual_entry": true, "is_multi_select": false,
        "input_type": "default", "ui_hints": {"index": 1}}, "endpoint_name": {"type":
        ["string"], "dynamic_list": {"func_path": "promptflow.tools.open_model_llm.list_endpoint_names"},
        "allow_manual_entry": true, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 0}}, "max_new_tokens": {"type": ["int"], "default":
        500, "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default", "ui_hints": {"index": 4}}, "model_kwargs": {"type": ["object"],
        "default": "{}", "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default", "advanced": true, "ui_hints": {"index": 6}}, "temperature": {"type":
        ["double"], "default": 1.0, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "ui_hints": {"index": 3}}, "top_p": {"type":
        ["double"], "default": 1.0, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "advanced": true, "ui_hints": {"index": 5}}},
        "description": "Use an open model from the Azure Model catalog, deployed to
        an AzureML Online Endpoint for LLM Chat or Completion API calls.", "module":
        "promptflow.tools.open_model_llm", "class_name": "OpenModelLLM", "function":
        "call", "icon": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACgElEQVR4nGWSz2vcVRTFP/e9NzOZ1KDGohASslLEH6VLV0ak4l/QpeDCrfQPcNGliODKnVm4EBdBsIjQIlhciKW0ycKFVCSNbYnjdDLtmPnmO/nO9917XcxMkjYX3uLx7nnn3HOuMK2Nix4fP78ZdrYXVkLVWjf3l3B1B+HpcjzGFtmqa6cePz7/x0dnn1n5qhj3iBJPYREIURAJuCtpY8PjReDbrf9WG7H1fuefwQU9qKztTcMJT+PNnEFvjGVDBDlSsH6p/9MLzy6+NxwVqI8RAg4IPmWedMckdLYP6O6UpIaQfvyyXG012+e79/ZfHukoS1ISMT2hGTB1RkUmNgQ5QZ0w+a2VWDq73MbdEWmfnnv6UWe7oNzPaLapl5CwuLTXK9WUGBuCjqekzhP+z52ZXOrKMD3OJg0Hh778aiOuvpnYvp05d6GJO4iAO4QAe/eV36/X5LFRV4Zmn+AdkqlL8Vjp3oVioOz+WTPzzYEgsN+fgPLYyJVheSbPPVl2ikeGZRjtG52/8rHuaV9VOlpP2OtKyVndcRVCSqOhsvxa4vW359i6OuKdD+aP8Q4SYPdOzS/flGjt1JUSaMqZ5nwa1Y8qWb/Ud/eZZkHisYezEM0m+fcelDr8F1SqW2LNK6r1jXQwyLzy1hxvrLXZulry7ocL+FS6G4QIu3fG/Px1gdYeW7LIgXU2P/115TOA5G7e3Rmj2aS/m7l5pThiZzrCcE/d1XHzbln373nw7y6veeoUm5KCNKT/IPPwbiY1hYd/l5MIT65BMFt87sU4v9D7/JMflr44uV6hGh1+L4RCkg6z5iK2tAhNLeLsNGwYA4fDYnC/drvuuFxe86NV/x+Ut27g0FvykgAAAABJRU5ErkJggg==",
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "enable_kwargs": false, "tool_state": "stable"}, {"name": "OpenAI GPT-4V",
        "type": "custom_llm", "inputs": {"connection": {"type": ["OpenAIConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 0}}, "frequency_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 7}}, "max_tokens": {"type": ["int"], "default": 512,
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 4}}, "model": {"type": ["string"], "enum": ["gpt-4-vision-preview"],
        "allow_manual_entry": true, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 1}}, "presence_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 6}}, "seed": {"type": ["int"], "default": "", "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        8}}, "stop": {"type": ["list"], "default": "", "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 5}},
        "temperature": {"type": ["double"], "default": 1, "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 2}},
        "top_p": {"type": ["double"], "default": 1, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "ui_hints": {"index": 3}}}, "description":
        "Use OpenAI GPT-4V to leverage vision ability.", "module": "promptflow.tools.openai_gpt4v",
        "class_name": "OpenAI", "function": "chat", "icon": {"dark": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA2ElEQVR4nJXSzW3CQBAF4DUSTjk+Al1AD0ikESslpBIEheRALhEpgAYSWV8OGUublf/yLuP3PPNmdndS+gdwXZrYDmh7fGE/W+wXbaYd8IYm4rxJPnZ0boI3wZcdJxs/n+AwV7DFK7aFyfQdYIMLPvES8YJNf5yp4jMeeEYdWh38gXOR35YGHe5xabvQdsHv6PLi8qV6gycc8YH3iMfQu6Lh4ASr+F5Hh3XwVWnQYzUkVlX1nccplAb1SN6Y/sfgmlK64VS8wimldIv/0yj2QLkHizG0iWP4AVAfQ34DVQONAAAAAElFTkSuQmCC",
        "light": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAx0lEQVR4nJWSwQ2CQBBFX0jAcjgqXUgPJNiIsQQrIVCIFy8GC6ABDcGDX7Mus9n1Xz7zZ+fPsLPwH4bUg0dD2wMPcbR48Uxq4AKU4iSTDwZ1LhWXipN/B3V0J6hjBTvgLHZNonewBXrgDpzEvXSIjN0BE3AACmmF4kl5F6tNzcCoLpW0SvGovFvsb4oZ2AANcAOu4ka6axCcINN3rg654sww+CYsPD0OwjcozFNh/Qcd78tqVbCIW+n+Fky472Bh/Q6SYb1EEy8tDzd+9IsVPAAAAABJRU5ErkJggg=="},
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "default_prompt": "# system:\nAs an AI assistant, your task involves interpreting
        images and responding to questions about the image.\nRemember to provide accurate
        answers based on the information present in the image.\n\n# user:\nCan you
        tell me what the image depicts?\n![image]({{image_input}})\n", "enable_kwargs":
        false, "tool_state": "preview"}, {"name": "Serp API", "type": "python", "inputs":
        {"connection": {"type": ["SerpConnection"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "engine": {"type": ["string"], "default":
        "google", "enum": ["google", "bing"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "location": {"type": ["string"], "default":
        "", "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "num": {"type": ["int"], "default": "10", "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "query": {"type": ["string"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "safe": {"type":
        ["string"], "default": "off", "enum": ["active", "off"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}}, "description":
        "Use Serp API to obtain search results from a specific search engine.", "module":
        "promptflow.tools.serpapi", "class_name": "SerpAPI", "function": "search",
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "enable_kwargs": false, "tool_state": "stable"}, {"name": "Index Lookup",
        "type": "python", "inputs": {"acs_content_field": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["Azure AI Search"], "dynamic_list": {"func_path":
        "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_fields",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}, {"default": "Edm.String", "name": "field_data_type",
        "optional": false, "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "uionly_hidden"}, "acs_embedding_field": {"type": ["string"],
        "enabled_by": "index_type", "enabled_by_value": ["Azure AI Search"], "dynamic_list":
        {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_fields",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}, {"default": "Collection(Edm.Single)", "name": "field_data_type",
        "optional": false, "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "uionly_hidden"}, "acs_index_connection": {"type": ["CognitiveSearchConnection"],
        "enabled_by": "index_type", "enabled_by_value": ["Azure AI Search"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "uionly_hidden"}, "acs_index_name":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Azure
        AI Search"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_indices",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]}]},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "acs_metadata_field": {"type": ["string"], "enabled_by": "index_type", "enabled_by_value":
        ["Azure AI Search"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_fields",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}, {"default": "Edm.String", "name": "field_data_type",
        "optional": false, "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "uionly_hidden"}, "aoai_embedding_connection": {"type":
        ["AzureOpenAIConnection"], "enabled_by": "embedding_type", "enabled_by_value":
        ["Azure OpenAI"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "uionly_hidden"}, "embedding_deployment": {"type": ["string"], "enabled_by":
        "embedding_type", "enabled_by_value": ["Azure OpenAI"], "dynamic_list": {"func_path":
        "promptflow_vectordb.tool.common_index_lookup_utils.list_aoai_embedding_deployments",
        "func_kwargs": [{"name": "aoai_connection", "optional": false, "reference":
        "${inputs.aoai_embedding_connection}", "type": ["AzurOpenAIConnection"]}]},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "embedding_model": {"type": ["string"], "enabled_by": "embedding_type", "enabled_by_value":
        ["OpenAI", "Hugging Face"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_embedding_models",
        "func_kwargs": [{"name": "embedding_type", "optional": false, "reference":
        "${inputs.embedding_type}", "type": ["string"]}]}, "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "uionly_hidden"}, "embedding_type":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Azure
        AI Search", "FAISS", "Pinecone"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_available_embedding_types",
        "func_kwargs": [{"name": "index_type", "optional": false, "reference": "${inputs.index_type}",
        "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "uionly_hidden"}, "faiss_index_path": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["FAISS"], "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "uionly_hidden"}, "index_type": {"type":
        ["string"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_available_index_types"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "mlindex_asset_id": {"type": ["string"], "enabled_by": "index_type", "enabled_by_value":
        ["Registered Index"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_registered_mlindices"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "mlindex_content": {"type": ["string"], "allow_manual_entry": false, "is_multi_select":
        false, "generated_by": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.forward_mapping",
        "func_kwargs": [{"name": "index_type", "reference": "${inputs.index_type}",
        "type": ["string"]}, {"name": "mlindex_asset_id", "optional": true, "reference":
        "${inputs.mlindex_asset_id}", "type": ["string"]}, {"name": "mlindex_path",
        "optional": true, "reference": "${inputs.mlindex_path}", "type": ["string"]},
        {"name": "acs_index_connection", "optional": true, "reference": "${inputs.acs_index_connection}",
        "type": ["CognitiveSearchConnection"]}, {"name": "acs_index_name", "optional":
        true, "reference": "${inputs.acs_index_name}", "type": ["string"]}, {"name":
        "acs_content_field", "optional": true, "reference": "${inputs.acs_content_field}",
        "type": ["string"]}, {"name": "acs_embedding_field", "optional": true, "reference":
        "${inputs.acs_embedding_field}", "type": ["string"]}, {"name": "acs_metadata_field",
        "optional": true, "reference": "${inputs.acs_metadata_field}", "type": ["string"]},
        {"name": "semantic_configuration", "optional": true, "reference": "${inputs.semantic_configuration}",
        "type": ["string"]}, {"name": "faiss_index_path", "optional": true, "reference":
        "${inputs.faiss_index_path}", "type": ["string"]}, {"name": "pinecone_index_connection",
        "optional": true, "reference": "${inputs.pinecone_index_connection}", "type":
        ["string"]}, {"name": "pinecone_index_name", "optional": true, "reference":
        "${inputs.pinecone_index_name}", "type": ["string"]}, {"name": "pinecone_content_field",
        "optional": true, "reference": "${inputs.pinecone_content_field}", "type":
        ["string"]}, {"name": "pinecone_metadata_field", "optional": true, "reference":
        "${inputs.pinecone_metadata_field}", "type": ["string"]}, {"name": "embedding_type",
        "optional": true, "reference": "${inputs.embedding_type}", "type": ["string"]},
        {"name": "aoai_embedding_connection", "optional": true, "reference": "${inputs.aoai_embedding_connection}",
        "type": ["AzureOpenAIConnection"]}, {"name": "oai_embedding_connection", "optional":
        true, "reference": "${inputs.oai_embedding_connection}", "type": ["string"]},
        {"name": "embedding_model", "optional": true, "reference": "${inputs.embedding_model}",
        "type": ["string"]}, {"name": "embedding_deployment", "optional": true, "reference":
        "${inputs.embedding_deployment}", "type": ["string"]}, {"name": "serverless_embedding_connection",
        "optional": true, "reference": "${inputs.serverless_embedding_connection}",
        "type": ["string"]}], "reverse_func_path": "promptflow_vectordb.tool.common_index_lookup_utils.reverse_mapping"},
        "input_type": "default"}, "mlindex_path": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["MLIndex file from path"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "uionly_hidden"}, "oai_embedding_connection":
        {"type": ["OpenAIConnection"], "enabled_by": "embedding_type", "enabled_by_value":
        ["OpenAI"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "uionly_hidden"}, "pinecone_content_field": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["Pinecone"], "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "uionly_hidden"}, "pinecone_index_connection":
        {"type": ["PineconeConnection"], "enabled_by": "index_type", "enabled_by_value":
        ["Pinecone"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_pinecone_connections"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "pinecone_index_name": {"type": ["string"], "enabled_by": "index_type", "enabled_by_value":
        ["Pinecone"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_pinecone_indices",
        "func_kwargs": [{"name": "pinecone_connection_name", "optional": false, "reference":
        "${inputs.pinecone_index_connection}", "type": ["string"]}]}, "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "uionly_hidden"}, "pinecone_metadata_field":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Pinecone"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "queries": {"type": ["object"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "query_type": {"type": ["string"], "dynamic_list":
        {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_available_query_types",
        "func_kwargs": [{"name": "mlindex_content", "optional": false, "reference":
        "${inputs.mlindex_content}", "type": ["string"]}]}, "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "semantic_configuration":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Azure
        AI Search"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_semantic_configurations",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "uionly_hidden"}, "serverless_embedding_connection": {"type":
        ["string"], "enabled_by": "embedding_type", "enabled_by_value": ["Serverless
        Endpoint"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_serverless_embedding_connections"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "top_k": {"type": ["int"], "default": 3, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}}, "description": "Search an AzureML Vector
        Index for relevant results using one or more text queries.", "module": "promptflow_vectordb.tool.common_index_lookup",
        "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "preview"},
        {"name": "Faiss Index Lookup", "type": "python", "inputs": {"path": {"type":
        ["string"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}, "top_k": {"type": ["int"], "default": "3", "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "vector": {"type":
        ["list"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}}, "description": "Search vector based query from the FAISS index
        file.", "module": "promptflow_vectordb.tool.faiss_index_lookup", "class_name":
        "FaissIndexLookup", "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "archived"},
        {"name": "Vector DB Lookup", "type": "python", "inputs": {"class_name": {"type":
        ["string"], "enabled_by": "connection", "enabled_by_type": ["WeaviateConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "collection_name": {"type": ["string"], "enabled_by": "connection", "enabled_by_type":
        ["QdrantConnection"], "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}, "connection": {"type": ["CognitiveSearchConnection",
        "QdrantConnection", "WeaviateConnection"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "index_name": {"type": ["string"], "enabled_by":
        "connection", "enabled_by_type": ["CognitiveSearchConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "search_filters":
        {"type": ["object"], "enabled_by": "connection", "enabled_by_type": ["CognitiveSearchConnection",
        "QdrantConnection"], "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}, "search_params": {"type": ["object"], "enabled_by":
        "connection", "enabled_by_type": ["CognitiveSearchConnection", "QdrantConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "text_field": {"type": ["string"], "enabled_by": "connection", "enabled_by_type":
        ["CognitiveSearchConnection", "QdrantConnection", "WeaviateConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "top_k": {"type":
        ["int"], "default": "3", "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}, "vector": {"type": ["list"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "vector_field":
        {"type": ["string"], "enabled_by": "connection", "enabled_by_type": ["CognitiveSearchConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"}},
        "description": "Search vector based query from existing Vector Database.",
        "module": "promptflow_vectordb.tool.vector_db_lookup", "class_name": "VectorDBLookup",
        "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "archived"},
        {"name": "Vector Index Lookup", "type": "python", "inputs": {"path": {"type":
        ["string"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}, "query": {"type": ["object"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "top_k": {"type": ["int"], "default": "3",
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"}},
        "description": "Search text or vector based query from AzureML Vector Index.",
        "module": "promptflow_vectordb.tool.vector_index_lookup", "class_name": "VectorIndexLookup",
        "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "archived"},
        {"name": "count_image.py", "type": "python", "inputs": {"images": {"type":
        ["object"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}}, "source": "count_image.py", "function": "aggregate", "is_builtin":
        false, "enable_kwargs": false, "tool_state": "stable"}, {"name": "flip_image.py",
        "type": "python", "inputs": {"input_image": {"type": ["image"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}}, "source": "flip_image.py",
        "function": "passthrough", "is_builtin": false, "enable_kwargs": false, "tool_state":
        "stable"}], "inputs": {"input_image": {"type": "image", "default": "https://developer.microsoft.com/_devcom/images/logo-ms-social.png",
        "is_chat_input": false}}, "outputs": {"output_image": {"type": "string", "reference":
        "${flip_image.output}", "evaluation_only": false, "is_chat_output": false}}},
        "flowRunResourceId": "azureml://locations/eastus/workspaces/00000/flows/resume_from_run_with_image_and_aggregation_node/flowRuns/resume_from_run_with_image_and_aggregation_node",
        "flowRunId": "resume_from_run_with_image_and_aggregation_node", "flowRunDisplayName":
        "resume_from_run_with_image_and_aggregation_node", "batchDataInput": {"dataUri":
        "azureml://datastores/workspaceblobstore/paths/LocalUpload/f0a11846460e7f82ede2efcac357243a/input_data/"},
        "flowRunType": "FlowRun", "flowType": "Default", "runtimeName": "automatic",
        "inputsMapping": {"input_image": "${data.input_image}"}, "outputDatastoreName":
        "workspaceblobstore", "childRunBasePath": "promptflow/PromptFlowArtifacts/resume_from_run_with_image_and_aggregation_node/flow_artifacts",
        "flowDagFileRelativePath": "flow.dag.yaml", "flowSnapshotId": "5736ca27-2c86-4efa-b25b-786d71f83a72",
        "sessionId": "dd798e161fe6ff4d5da384b8b0cfda2c1de3b1d9275b138e", "studioPortalEndpoint":
        "https://ml.azure.com/runs/resume_from_run_with_image_and_aggregation_node?wsid=/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000"}'
    headers:
      connection:
      - keep-alive
      content-length:
      - '28313'
      content-type:
      - application/json; charset=utf-8
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-request-time:
      - '0.196'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - promptflow-azure-sdk/1.0.0.dev0 azsdk-python-azuremachinelearningdesignerserviceclient/unknown
        Python/3.9.19 (Windows-10-10.0.22631-SP0)
    method: GET
    uri: https://eastus.api.azureml.ms/flow/api/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/BulkRuns/resume_from_run_with_image_and_aggregation_node
  response:
    body:
      string: '{"flowGraph": {"nodes": [{"name": "flip_image", "type": "python", "source":
        {"type": "code", "path": "flip_image.py"}, "inputs": {"input_image": "${inputs.input_image}"},
        "tool": "flip_image.py", "reduce": false}, {"name": "count_image", "type":
        "python", "source": {"type": "code", "path": "count_image.py"}, "inputs":
        {"images": "${flip_image.output}"}, "tool": "count_image.py", "reduce": true}],
        "tools": [{"name": "Azure OpenAI GPT-4 Turbo with Vision", "type": "custom_llm",
        "inputs": {"connection": {"type": ["AzureOpenAIConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        0}}, "deployment_name": {"type": ["string"], "enabled_by": "connection", "dynamic_list":
        {"func_path": "promptflow.tools.aoai_gpt4v.list_deployment_names", "func_kwargs":
        [{"name": "connection", "reference": "${inputs.connection}", "type": ["AzureOpenAIConnection"]}]},
        "allow_manual_entry": true, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 1}}, "frequency_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 7}}, "max_tokens": {"type": ["int"], "default": 512,
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 4}}, "presence_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 6}}, "seed": {"type": ["int"], "default": "", "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        8}}, "stop": {"type": ["list"], "default": "", "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 5}},
        "temperature": {"type": ["double"], "default": 1, "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 2}},
        "top_p": {"type": ["double"], "default": 1, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "ui_hints": {"index": 3}}}, "description":
        "Use Azure OpenAI GPT-4 Turbo with Vision to leverage AOAI vision ability.",
        "module": "promptflow.tools.aoai_gpt4v", "class_name": "AzureOpenAI", "function":
        "chat", "icon": {"dark": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA2ElEQVR4nJXSzW3CQBAF4DUSTjk+Al1AD0ikESslpBIEheRALhEpgAYSWV8OGUublf/yLuP3PPNmdndS+gdwXZrYDmh7fGE/W+wXbaYd8IYm4rxJPnZ0boI3wZcdJxs/n+AwV7DFK7aFyfQdYIMLPvES8YJNf5yp4jMeeEYdWh38gXOR35YGHe5xabvQdsHv6PLi8qV6gycc8YH3iMfQu6Lh4ASr+F5Hh3XwVWnQYzUkVlX1nccplAb1SN6Y/sfgmlK64VS8wimldIv/0yj2QLkHizG0iWP4AVAfQ34DVQONAAAAAElFTkSuQmCC",
        "light": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAx0lEQVR4nJWSwQ2CQBBFX0jAcjgqXUgPJNiIsQQrIVCIFy8GC6ABDcGDX7Mus9n1Xz7zZ+fPsLPwH4bUg0dD2wMPcbR48Uxq4AKU4iSTDwZ1LhWXipN/B3V0J6hjBTvgLHZNonewBXrgDpzEvXSIjN0BE3AACmmF4kl5F6tNzcCoLpW0SvGovFvsb4oZ2AANcAOu4ka6axCcINN3rg654sww+CYsPD0OwjcozFNh/Qcd78tqVbCIW+n+Fky472Bh/Q6SYb1EEy8tDzd+9IsVPAAAAABJRU5ErkJggg=="},
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "default_prompt": "# system:\nAs an AI assistant, your task involves interpreting
        images and responding to questions about the image.\nRemember to provide accurate
        answers based on the information present in the image.\n\n# user:\nCan you
        tell me what the image depicts?\n![image]({{image_input}})\n", "enable_kwargs":
        false, "tool_state": "preview"}, {"name": "Content Safety (Text Analyze)",
        "type": "python", "inputs": {"connection": {"type": ["AzureContentSafetyConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "hate_category": {"type": ["string"], "default": "medium_sensitivity", "enum":
        ["disable", "low_sensitivity", "medium_sensitivity", "high_sensitivity"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "self_harm_category": {"type": ["string"], "default": "medium_sensitivity",
        "enum": ["disable", "low_sensitivity", "medium_sensitivity", "high_sensitivity"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "sexual_category": {"type": ["string"], "default": "medium_sensitivity", "enum":
        ["disable", "low_sensitivity", "medium_sensitivity", "high_sensitivity"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "text": {"type": ["string"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "violence_category": {"type": ["string"],
        "default": "medium_sensitivity", "enum": ["disable", "low_sensitivity", "medium_sensitivity",
        "high_sensitivity"], "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}}, "description": "Use Azure Content Safety to detect
        harmful content.", "module": "promptflow.tools.azure_content_safety", "function":
        "analyze_text", "is_builtin": true, "package": "promptflow-tools", "package_version":
        "1.4.0rc3", "enable_kwargs": false, "deprecated_tools": ["content_safety_text.tools.content_safety_text_tool.analyze_text"],
        "tool_state": "stable"}, {"name": "Embedding", "type": "python", "inputs":
        {"connection": {"type": ["AzureOpenAIConnection", "OpenAIConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "deployment_name":
        {"type": ["string"], "enabled_by": "connection", "enabled_by_type": ["AzureOpenAIConnection"],
        "model_list": ["text-embedding-ada-002", "text-search-ada-doc-001", "text-search-ada-query-001"],
        "capabilities": {"completion": false, "chat_completion": false, "embeddings":
        true}, "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}, "input": {"type": ["string"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "model": {"type": ["string"], "enum": ["text-embedding-ada-002",
        "text-search-ada-doc-001", "text-search-ada-query-001"], "enabled_by": "connection",
        "enabled_by_type": ["OpenAIConnection"], "allow_manual_entry": true, "is_multi_select":
        false, "input_type": "default"}}, "description": "Use OpenAI''s embedding
        model to create an embedding vector representing the input text.", "module":
        "promptflow.tools.embedding", "function": "embedding", "is_builtin": true,
        "package": "promptflow-tools", "package_version": "1.4.0rc3", "enable_kwargs":
        false, "tool_state": "stable"}, {"name": "Open Model LLM", "type": "custom_llm",
        "inputs": {"api": {"type": ["string"], "enum": ["chat", "completion"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        2}}, "deployment_name": {"type": ["string"], "default": "", "dynamic_list":
        {"func_path": "promptflow.tools.open_model_llm.list_deployment_names", "func_kwargs":
        [{"name": "endpoint", "optional": true, "reference": "${inputs.endpoint}",
        "type": ["string"]}]}, "allow_manual_entry": true, "is_multi_select": false,
        "input_type": "default", "ui_hints": {"index": 1}}, "endpoint_name": {"type":
        ["string"], "dynamic_list": {"func_path": "promptflow.tools.open_model_llm.list_endpoint_names"},
        "allow_manual_entry": true, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 0}}, "max_new_tokens": {"type": ["int"], "default":
        500, "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default", "ui_hints": {"index": 4}}, "model_kwargs": {"type": ["object"],
        "default": "{}", "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default", "advanced": true, "ui_hints": {"index": 6}}, "temperature": {"type":
        ["double"], "default": 1.0, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "ui_hints": {"index": 3}}, "top_p": {"type":
        ["double"], "default": 1.0, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "advanced": true, "ui_hints": {"index": 5}}},
        "description": "Use an open model from the Azure Model catalog, deployed to
        an AzureML Online Endpoint for LLM Chat or Completion API calls.", "module":
        "promptflow.tools.open_model_llm", "class_name": "OpenModelLLM", "function":
        "call", "icon": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACgElEQVR4nGWSz2vcVRTFP/e9NzOZ1KDGohASslLEH6VLV0ak4l/QpeDCrfQPcNGliODKnVm4EBdBsIjQIlhciKW0ycKFVCSNbYnjdDLtmPnmO/nO9917XcxMkjYX3uLx7nnn3HOuMK2Nix4fP78ZdrYXVkLVWjf3l3B1B+HpcjzGFtmqa6cePz7/x0dnn1n5qhj3iBJPYREIURAJuCtpY8PjReDbrf9WG7H1fuefwQU9qKztTcMJT+PNnEFvjGVDBDlSsH6p/9MLzy6+NxwVqI8RAg4IPmWedMckdLYP6O6UpIaQfvyyXG012+e79/ZfHukoS1ISMT2hGTB1RkUmNgQ5QZ0w+a2VWDq73MbdEWmfnnv6UWe7oNzPaLapl5CwuLTXK9WUGBuCjqekzhP+z52ZXOrKMD3OJg0Hh778aiOuvpnYvp05d6GJO4iAO4QAe/eV36/X5LFRV4Zmn+AdkqlL8Vjp3oVioOz+WTPzzYEgsN+fgPLYyJVheSbPPVl2ikeGZRjtG52/8rHuaV9VOlpP2OtKyVndcRVCSqOhsvxa4vW359i6OuKdD+aP8Q4SYPdOzS/flGjt1JUSaMqZ5nwa1Y8qWb/Ud/eZZkHisYezEM0m+fcelDr8F1SqW2LNK6r1jXQwyLzy1hxvrLXZulry7ocL+FS6G4QIu3fG/Px1gdYeW7LIgXU2P/115TOA5G7e3Rmj2aS/m7l5pThiZzrCcE/d1XHzbln373nw7y6veeoUm5KCNKT/IPPwbiY1hYd/l5MIT65BMFt87sU4v9D7/JMflr44uV6hGh1+L4RCkg6z5iK2tAhNLeLsNGwYA4fDYnC/drvuuFxe86NV/x+Ut27g0FvykgAAAABJRU5ErkJggg==",
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "enable_kwargs": false, "tool_state": "stable"}, {"name": "OpenAI GPT-4V",
        "type": "custom_llm", "inputs": {"connection": {"type": ["OpenAIConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 0}}, "frequency_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 7}}, "max_tokens": {"type": ["int"], "default": 512,
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 4}}, "model": {"type": ["string"], "enum": ["gpt-4-vision-preview"],
        "allow_manual_entry": true, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 1}}, "presence_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 6}}, "seed": {"type": ["int"], "default": "", "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        8}}, "stop": {"type": ["list"], "default": "", "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 5}},
        "temperature": {"type": ["double"], "default": 1, "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 2}},
        "top_p": {"type": ["double"], "default": 1, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "ui_hints": {"index": 3}}}, "description":
        "Use OpenAI GPT-4V to leverage vision ability.", "module": "promptflow.tools.openai_gpt4v",
        "class_name": "OpenAI", "function": "chat", "icon": {"dark": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA2ElEQVR4nJXSzW3CQBAF4DUSTjk+Al1AD0ikESslpBIEheRALhEpgAYSWV8OGUublf/yLuP3PPNmdndS+gdwXZrYDmh7fGE/W+wXbaYd8IYm4rxJPnZ0boI3wZcdJxs/n+AwV7DFK7aFyfQdYIMLPvES8YJNf5yp4jMeeEYdWh38gXOR35YGHe5xabvQdsHv6PLi8qV6gycc8YH3iMfQu6Lh4ASr+F5Hh3XwVWnQYzUkVlX1nccplAb1SN6Y/sfgmlK64VS8wimldIv/0yj2QLkHizG0iWP4AVAfQ34DVQONAAAAAElFTkSuQmCC",
        "light": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAx0lEQVR4nJWSwQ2CQBBFX0jAcjgqXUgPJNiIsQQrIVCIFy8GC6ABDcGDX7Mus9n1Xz7zZ+fPsLPwH4bUg0dD2wMPcbR48Uxq4AKU4iSTDwZ1LhWXipN/B3V0J6hjBTvgLHZNonewBXrgDpzEvXSIjN0BE3AACmmF4kl5F6tNzcCoLpW0SvGovFvsb4oZ2AANcAOu4ka6axCcINN3rg654sww+CYsPD0OwjcozFNh/Qcd78tqVbCIW+n+Fky472Bh/Q6SYb1EEy8tDzd+9IsVPAAAAABJRU5ErkJggg=="},
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "default_prompt": "# system:\nAs an AI assistant, your task involves interpreting
        images and responding to questions about the image.\nRemember to provide accurate
        answers based on the information present in the image.\n\n# user:\nCan you
        tell me what the image depicts?\n![image]({{image_input}})\n", "enable_kwargs":
        false, "tool_state": "preview"}, {"name": "Serp API", "type": "python", "inputs":
        {"connection": {"type": ["SerpConnection"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "engine": {"type": ["string"], "default":
        "google", "enum": ["google", "bing"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "location": {"type": ["string"], "default":
        "", "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "num": {"type": ["int"], "default": "10", "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "query": {"type": ["string"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "safe": {"type":
        ["string"], "default": "off", "enum": ["active", "off"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}}, "description":
        "Use Serp API to obtain search results from a specific search engine.", "module":
        "promptflow.tools.serpapi", "class_name": "SerpAPI", "function": "search",
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "enable_kwargs": false, "tool_state": "stable"}, {"name": "Index Lookup",
        "type": "python", "inputs": {"acs_content_field": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["Azure AI Search"], "dynamic_list": {"func_path":
        "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_fields",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}, {"default": "Edm.String", "name": "field_data_type",
        "optional": false, "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "uionly_hidden"}, "acs_embedding_field": {"type": ["string"],
        "enabled_by": "index_type", "enabled_by_value": ["Azure AI Search"], "dynamic_list":
        {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_fields",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}, {"default": "Collection(Edm.Single)", "name": "field_data_type",
        "optional": false, "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "uionly_hidden"}, "acs_index_connection": {"type": ["CognitiveSearchConnection"],
        "enabled_by": "index_type", "enabled_by_value": ["Azure AI Search"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "uionly_hidden"}, "acs_index_name":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Azure
        AI Search"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_indices",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]}]},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "acs_metadata_field": {"type": ["string"], "enabled_by": "index_type", "enabled_by_value":
        ["Azure AI Search"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_fields",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}, {"default": "Edm.String", "name": "field_data_type",
        "optional": false, "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "uionly_hidden"}, "aoai_embedding_connection": {"type":
        ["AzureOpenAIConnection"], "enabled_by": "embedding_type", "enabled_by_value":
        ["Azure OpenAI"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "uionly_hidden"}, "embedding_deployment": {"type": ["string"], "enabled_by":
        "embedding_type", "enabled_by_value": ["Azure OpenAI"], "dynamic_list": {"func_path":
        "promptflow_vectordb.tool.common_index_lookup_utils.list_aoai_embedding_deployments",
        "func_kwargs": [{"name": "aoai_connection", "optional": false, "reference":
        "${inputs.aoai_embedding_connection}", "type": ["AzurOpenAIConnection"]}]},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "embedding_model": {"type": ["string"], "enabled_by": "embedding_type", "enabled_by_value":
        ["OpenAI", "Hugging Face"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_embedding_models",
        "func_kwargs": [{"name": "embedding_type", "optional": false, "reference":
        "${inputs.embedding_type}", "type": ["string"]}]}, "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "uionly_hidden"}, "embedding_type":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Azure
        AI Search", "FAISS", "Pinecone"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_available_embedding_types",
        "func_kwargs": [{"name": "index_type", "optional": false, "reference": "${inputs.index_type}",
        "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "uionly_hidden"}, "faiss_index_path": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["FAISS"], "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "uionly_hidden"}, "index_type": {"type":
        ["string"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_available_index_types"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "mlindex_asset_id": {"type": ["string"], "enabled_by": "index_type", "enabled_by_value":
        ["Registered Index"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_registered_mlindices"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "mlindex_content": {"type": ["string"], "allow_manual_entry": false, "is_multi_select":
        false, "generated_by": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.forward_mapping",
        "func_kwargs": [{"name": "index_type", "reference": "${inputs.index_type}",
        "type": ["string"]}, {"name": "mlindex_asset_id", "optional": true, "reference":
        "${inputs.mlindex_asset_id}", "type": ["string"]}, {"name": "mlindex_path",
        "optional": true, "reference": "${inputs.mlindex_path}", "type": ["string"]},
        {"name": "acs_index_connection", "optional": true, "reference": "${inputs.acs_index_connection}",
        "type": ["CognitiveSearchConnection"]}, {"name": "acs_index_name", "optional":
        true, "reference": "${inputs.acs_index_name}", "type": ["string"]}, {"name":
        "acs_content_field", "optional": true, "reference": "${inputs.acs_content_field}",
        "type": ["string"]}, {"name": "acs_embedding_field", "optional": true, "reference":
        "${inputs.acs_embedding_field}", "type": ["string"]}, {"name": "acs_metadata_field",
        "optional": true, "reference": "${inputs.acs_metadata_field}", "type": ["string"]},
        {"name": "semantic_configuration", "optional": true, "reference": "${inputs.semantic_configuration}",
        "type": ["string"]}, {"name": "faiss_index_path", "optional": true, "reference":
        "${inputs.faiss_index_path}", "type": ["string"]}, {"name": "pinecone_index_connection",
        "optional": true, "reference": "${inputs.pinecone_index_connection}", "type":
        ["string"]}, {"name": "pinecone_index_name", "optional": true, "reference":
        "${inputs.pinecone_index_name}", "type": ["string"]}, {"name": "pinecone_content_field",
        "optional": true, "reference": "${inputs.pinecone_content_field}", "type":
        ["string"]}, {"name": "pinecone_metadata_field", "optional": true, "reference":
        "${inputs.pinecone_metadata_field}", "type": ["string"]}, {"name": "embedding_type",
        "optional": true, "reference": "${inputs.embedding_type}", "type": ["string"]},
        {"name": "aoai_embedding_connection", "optional": true, "reference": "${inputs.aoai_embedding_connection}",
        "type": ["AzureOpenAIConnection"]}, {"name": "oai_embedding_connection", "optional":
        true, "reference": "${inputs.oai_embedding_connection}", "type": ["string"]},
        {"name": "embedding_model", "optional": true, "reference": "${inputs.embedding_model}",
        "type": ["string"]}, {"name": "embedding_deployment", "optional": true, "reference":
        "${inputs.embedding_deployment}", "type": ["string"]}, {"name": "serverless_embedding_connection",
        "optional": true, "reference": "${inputs.serverless_embedding_connection}",
        "type": ["string"]}], "reverse_func_path": "promptflow_vectordb.tool.common_index_lookup_utils.reverse_mapping"},
        "input_type": "default"}, "mlindex_path": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["MLIndex file from path"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "uionly_hidden"}, "oai_embedding_connection":
        {"type": ["OpenAIConnection"], "enabled_by": "embedding_type", "enabled_by_value":
        ["OpenAI"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "uionly_hidden"}, "pinecone_content_field": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["Pinecone"], "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "uionly_hidden"}, "pinecone_index_connection":
        {"type": ["PineconeConnection"], "enabled_by": "index_type", "enabled_by_value":
        ["Pinecone"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_pinecone_connections"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "pinecone_index_name": {"type": ["string"], "enabled_by": "index_type", "enabled_by_value":
        ["Pinecone"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_pinecone_indices",
        "func_kwargs": [{"name": "pinecone_connection_name", "optional": false, "reference":
        "${inputs.pinecone_index_connection}", "type": ["string"]}]}, "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "uionly_hidden"}, "pinecone_metadata_field":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Pinecone"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "queries": {"type": ["object"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "query_type": {"type": ["string"], "dynamic_list":
        {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_available_query_types",
        "func_kwargs": [{"name": "mlindex_content", "optional": false, "reference":
        "${inputs.mlindex_content}", "type": ["string"]}]}, "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "semantic_configuration":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Azure
        AI Search"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_semantic_configurations",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "uionly_hidden"}, "serverless_embedding_connection": {"type":
        ["string"], "enabled_by": "embedding_type", "enabled_by_value": ["Serverless
        Endpoint"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_serverless_embedding_connections"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "top_k": {"type": ["int"], "default": 3, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}}, "description": "Search an AzureML Vector
        Index for relevant results using one or more text queries.", "module": "promptflow_vectordb.tool.common_index_lookup",
        "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "preview"},
        {"name": "Faiss Index Lookup", "type": "python", "inputs": {"path": {"type":
        ["string"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}, "top_k": {"type": ["int"], "default": "3", "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "vector": {"type":
        ["list"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}}, "description": "Search vector based query from the FAISS index
        file.", "module": "promptflow_vectordb.tool.faiss_index_lookup", "class_name":
        "FaissIndexLookup", "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "archived"},
        {"name": "Vector DB Lookup", "type": "python", "inputs": {"class_name": {"type":
        ["string"], "enabled_by": "connection", "enabled_by_type": ["WeaviateConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "collection_name": {"type": ["string"], "enabled_by": "connection", "enabled_by_type":
        ["QdrantConnection"], "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}, "connection": {"type": ["CognitiveSearchConnection",
        "QdrantConnection", "WeaviateConnection"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "index_name": {"type": ["string"], "enabled_by":
        "connection", "enabled_by_type": ["CognitiveSearchConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "search_filters":
        {"type": ["object"], "enabled_by": "connection", "enabled_by_type": ["CognitiveSearchConnection",
        "QdrantConnection"], "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}, "search_params": {"type": ["object"], "enabled_by":
        "connection", "enabled_by_type": ["CognitiveSearchConnection", "QdrantConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "text_field": {"type": ["string"], "enabled_by": "connection", "enabled_by_type":
        ["CognitiveSearchConnection", "QdrantConnection", "WeaviateConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "top_k": {"type":
        ["int"], "default": "3", "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}, "vector": {"type": ["list"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "vector_field":
        {"type": ["string"], "enabled_by": "connection", "enabled_by_type": ["CognitiveSearchConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"}},
        "description": "Search vector based query from existing Vector Database.",
        "module": "promptflow_vectordb.tool.vector_db_lookup", "class_name": "VectorDBLookup",
        "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "archived"},
        {"name": "Vector Index Lookup", "type": "python", "inputs": {"path": {"type":
        ["string"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}, "query": {"type": ["object"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "top_k": {"type": ["int"], "default": "3",
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"}},
        "description": "Search text or vector based query from AzureML Vector Index.",
        "module": "promptflow_vectordb.tool.vector_index_lookup", "class_name": "VectorIndexLookup",
        "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "archived"},
        {"name": "count_image.py", "type": "python", "inputs": {"images": {"type":
        ["object"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}}, "source": "count_image.py", "function": "aggregate", "is_builtin":
        false, "enable_kwargs": false, "tool_state": "stable"}, {"name": "flip_image.py",
        "type": "python", "inputs": {"input_image": {"type": ["image"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}}, "source": "flip_image.py",
        "function": "passthrough", "is_builtin": false, "enable_kwargs": false, "tool_state":
        "stable"}], "inputs": {"input_image": {"type": "image", "default": "https://developer.microsoft.com/_devcom/images/logo-ms-social.png",
        "is_chat_input": false}}, "outputs": {"output_image": {"type": "string", "reference":
        "${flip_image.output}", "evaluation_only": false, "is_chat_output": false}}},
        "flowRunResourceId": "azureml://locations/eastus/workspaces/00000/flows/resume_from_run_with_image_and_aggregation_node/flowRuns/resume_from_run_with_image_and_aggregation_node",
        "flowRunId": "resume_from_run_with_image_and_aggregation_node", "flowRunDisplayName":
        "resume_from_run_with_image_and_aggregation_node", "batchDataInput": {"dataUri":
        "azureml://datastores/workspaceblobstore/paths/LocalUpload/f0a11846460e7f82ede2efcac357243a/input_data/"},
        "flowRunType": "FlowRun", "flowType": "Default", "runtimeName": "automatic",
        "inputsMapping": {"input_image": "${data.input_image}"}, "outputDatastoreName":
        "workspaceblobstore", "childRunBasePath": "promptflow/PromptFlowArtifacts/resume_from_run_with_image_and_aggregation_node/flow_artifacts",
        "flowDagFileRelativePath": "flow.dag.yaml", "flowSnapshotId": "5736ca27-2c86-4efa-b25b-786d71f83a72",
        "sessionId": "dd798e161fe6ff4d5da384b8b0cfda2c1de3b1d9275b138e", "studioPortalEndpoint":
        "https://ml.azure.com/runs/resume_from_run_with_image_and_aggregation_node?wsid=/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000"}'
    headers:
      connection:
      - keep-alive
      content-length:
      - '28313'
      content-type:
      - application/json; charset=utf-8
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-request-time:
      - '0.204'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - promptflow-azure-sdk/1.0.0.dev0 azsdk-python-azuremachinelearningdesignerserviceclient/unknown
        Python/3.9.19 (Windows-10-10.0.22631-SP0)
    method: GET
    uri: https://eastus.api.azureml.ms/flow/api/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/BulkRuns/resume_from_run_with_image_and_aggregation_node
  response:
    body:
      string: '{"flowGraph": {"nodes": [{"name": "flip_image", "type": "python", "source":
        {"type": "code", "path": "flip_image.py"}, "inputs": {"input_image": "${inputs.input_image}"},
        "tool": "flip_image.py", "reduce": false}, {"name": "count_image", "type":
        "python", "source": {"type": "code", "path": "count_image.py"}, "inputs":
        {"images": "${flip_image.output}"}, "tool": "count_image.py", "reduce": true}],
        "tools": [{"name": "Azure OpenAI GPT-4 Turbo with Vision", "type": "custom_llm",
        "inputs": {"connection": {"type": ["AzureOpenAIConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        0}}, "deployment_name": {"type": ["string"], "enabled_by": "connection", "dynamic_list":
        {"func_path": "promptflow.tools.aoai_gpt4v.list_deployment_names", "func_kwargs":
        [{"name": "connection", "reference": "${inputs.connection}", "type": ["AzureOpenAIConnection"]}]},
        "allow_manual_entry": true, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 1}}, "frequency_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 7}}, "max_tokens": {"type": ["int"], "default": 512,
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 4}}, "presence_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 6}}, "seed": {"type": ["int"], "default": "", "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        8}}, "stop": {"type": ["list"], "default": "", "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 5}},
        "temperature": {"type": ["double"], "default": 1, "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 2}},
        "top_p": {"type": ["double"], "default": 1, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "ui_hints": {"index": 3}}}, "description":
        "Use Azure OpenAI GPT-4 Turbo with Vision to leverage AOAI vision ability.",
        "module": "promptflow.tools.aoai_gpt4v", "class_name": "AzureOpenAI", "function":
        "chat", "icon": {"dark": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA2ElEQVR4nJXSzW3CQBAF4DUSTjk+Al1AD0ikESslpBIEheRALhEpgAYSWV8OGUublf/yLuP3PPNmdndS+gdwXZrYDmh7fGE/W+wXbaYd8IYm4rxJPnZ0boI3wZcdJxs/n+AwV7DFK7aFyfQdYIMLPvES8YJNf5yp4jMeeEYdWh38gXOR35YGHe5xabvQdsHv6PLi8qV6gycc8YH3iMfQu6Lh4ASr+F5Hh3XwVWnQYzUkVlX1nccplAb1SN6Y/sfgmlK64VS8wimldIv/0yj2QLkHizG0iWP4AVAfQ34DVQONAAAAAElFTkSuQmCC",
        "light": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAx0lEQVR4nJWSwQ2CQBBFX0jAcjgqXUgPJNiIsQQrIVCIFy8GC6ABDcGDX7Mus9n1Xz7zZ+fPsLPwH4bUg0dD2wMPcbR48Uxq4AKU4iSTDwZ1LhWXipN/B3V0J6hjBTvgLHZNonewBXrgDpzEvXSIjN0BE3AACmmF4kl5F6tNzcCoLpW0SvGovFvsb4oZ2AANcAOu4ka6axCcINN3rg654sww+CYsPD0OwjcozFNh/Qcd78tqVbCIW+n+Fky472Bh/Q6SYb1EEy8tDzd+9IsVPAAAAABJRU5ErkJggg=="},
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "default_prompt": "# system:\nAs an AI assistant, your task involves interpreting
        images and responding to questions about the image.\nRemember to provide accurate
        answers based on the information present in the image.\n\n# user:\nCan you
        tell me what the image depicts?\n![image]({{image_input}})\n", "enable_kwargs":
        false, "tool_state": "preview"}, {"name": "Content Safety (Text Analyze)",
        "type": "python", "inputs": {"connection": {"type": ["AzureContentSafetyConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "hate_category": {"type": ["string"], "default": "medium_sensitivity", "enum":
        ["disable", "low_sensitivity", "medium_sensitivity", "high_sensitivity"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "self_harm_category": {"type": ["string"], "default": "medium_sensitivity",
        "enum": ["disable", "low_sensitivity", "medium_sensitivity", "high_sensitivity"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "sexual_category": {"type": ["string"], "default": "medium_sensitivity", "enum":
        ["disable", "low_sensitivity", "medium_sensitivity", "high_sensitivity"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "text": {"type": ["string"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "violence_category": {"type": ["string"],
        "default": "medium_sensitivity", "enum": ["disable", "low_sensitivity", "medium_sensitivity",
        "high_sensitivity"], "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}}, "description": "Use Azure Content Safety to detect
        harmful content.", "module": "promptflow.tools.azure_content_safety", "function":
        "analyze_text", "is_builtin": true, "package": "promptflow-tools", "package_version":
        "1.4.0rc3", "enable_kwargs": false, "deprecated_tools": ["content_safety_text.tools.content_safety_text_tool.analyze_text"],
        "tool_state": "stable"}, {"name": "Embedding", "type": "python", "inputs":
        {"connection": {"type": ["AzureOpenAIConnection", "OpenAIConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "deployment_name":
        {"type": ["string"], "enabled_by": "connection", "enabled_by_type": ["AzureOpenAIConnection"],
        "model_list": ["text-embedding-ada-002", "text-search-ada-doc-001", "text-search-ada-query-001"],
        "capabilities": {"completion": false, "chat_completion": false, "embeddings":
        true}, "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}, "input": {"type": ["string"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "model": {"type": ["string"], "enum": ["text-embedding-ada-002",
        "text-search-ada-doc-001", "text-search-ada-query-001"], "enabled_by": "connection",
        "enabled_by_type": ["OpenAIConnection"], "allow_manual_entry": true, "is_multi_select":
        false, "input_type": "default"}}, "description": "Use OpenAI''s embedding
        model to create an embedding vector representing the input text.", "module":
        "promptflow.tools.embedding", "function": "embedding", "is_builtin": true,
        "package": "promptflow-tools", "package_version": "1.4.0rc3", "enable_kwargs":
        false, "tool_state": "stable"}, {"name": "Open Model LLM", "type": "custom_llm",
        "inputs": {"api": {"type": ["string"], "enum": ["chat", "completion"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        2}}, "deployment_name": {"type": ["string"], "default": "", "dynamic_list":
        {"func_path": "promptflow.tools.open_model_llm.list_deployment_names", "func_kwargs":
        [{"name": "endpoint", "optional": true, "reference": "${inputs.endpoint}",
        "type": ["string"]}]}, "allow_manual_entry": true, "is_multi_select": false,
        "input_type": "default", "ui_hints": {"index": 1}}, "endpoint_name": {"type":
        ["string"], "dynamic_list": {"func_path": "promptflow.tools.open_model_llm.list_endpoint_names"},
        "allow_manual_entry": true, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 0}}, "max_new_tokens": {"type": ["int"], "default":
        500, "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default", "ui_hints": {"index": 4}}, "model_kwargs": {"type": ["object"],
        "default": "{}", "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default", "advanced": true, "ui_hints": {"index": 6}}, "temperature": {"type":
        ["double"], "default": 1.0, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "ui_hints": {"index": 3}}, "top_p": {"type":
        ["double"], "default": 1.0, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "advanced": true, "ui_hints": {"index": 5}}},
        "description": "Use an open model from the Azure Model catalog, deployed to
        an AzureML Online Endpoint for LLM Chat or Completion API calls.", "module":
        "promptflow.tools.open_model_llm", "class_name": "OpenModelLLM", "function":
        "call", "icon": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACgElEQVR4nGWSz2vcVRTFP/e9NzOZ1KDGohASslLEH6VLV0ak4l/QpeDCrfQPcNGliODKnVm4EBdBsIjQIlhciKW0ycKFVCSNbYnjdDLtmPnmO/nO9917XcxMkjYX3uLx7nnn3HOuMK2Nix4fP78ZdrYXVkLVWjf3l3B1B+HpcjzGFtmqa6cePz7/x0dnn1n5qhj3iBJPYREIURAJuCtpY8PjReDbrf9WG7H1fuefwQU9qKztTcMJT+PNnEFvjGVDBDlSsH6p/9MLzy6+NxwVqI8RAg4IPmWedMckdLYP6O6UpIaQfvyyXG012+e79/ZfHukoS1ISMT2hGTB1RkUmNgQ5QZ0w+a2VWDq73MbdEWmfnnv6UWe7oNzPaLapl5CwuLTXK9WUGBuCjqekzhP+z52ZXOrKMD3OJg0Hh778aiOuvpnYvp05d6GJO4iAO4QAe/eV36/X5LFRV4Zmn+AdkqlL8Vjp3oVioOz+WTPzzYEgsN+fgPLYyJVheSbPPVl2ikeGZRjtG52/8rHuaV9VOlpP2OtKyVndcRVCSqOhsvxa4vW359i6OuKdD+aP8Q4SYPdOzS/flGjt1JUSaMqZ5nwa1Y8qWb/Ud/eZZkHisYezEM0m+fcelDr8F1SqW2LNK6r1jXQwyLzy1hxvrLXZulry7ocL+FS6G4QIu3fG/Px1gdYeW7LIgXU2P/115TOA5G7e3Rmj2aS/m7l5pThiZzrCcE/d1XHzbln373nw7y6veeoUm5KCNKT/IPPwbiY1hYd/l5MIT65BMFt87sU4v9D7/JMflr44uV6hGh1+L4RCkg6z5iK2tAhNLeLsNGwYA4fDYnC/drvuuFxe86NV/x+Ut27g0FvykgAAAABJRU5ErkJggg==",
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "enable_kwargs": false, "tool_state": "stable"}, {"name": "OpenAI GPT-4V",
        "type": "custom_llm", "inputs": {"connection": {"type": ["OpenAIConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 0}}, "frequency_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 7}}, "max_tokens": {"type": ["int"], "default": 512,
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 4}}, "model": {"type": ["string"], "enum": ["gpt-4-vision-preview"],
        "allow_manual_entry": true, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 1}}, "presence_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 6}}, "seed": {"type": ["int"], "default": "", "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        8}}, "stop": {"type": ["list"], "default": "", "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 5}},
        "temperature": {"type": ["double"], "default": 1, "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 2}},
        "top_p": {"type": ["double"], "default": 1, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "ui_hints": {"index": 3}}}, "description":
        "Use OpenAI GPT-4V to leverage vision ability.", "module": "promptflow.tools.openai_gpt4v",
        "class_name": "OpenAI", "function": "chat", "icon": {"dark": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA2ElEQVR4nJXSzW3CQBAF4DUSTjk+Al1AD0ikESslpBIEheRALhEpgAYSWV8OGUublf/yLuP3PPNmdndS+gdwXZrYDmh7fGE/W+wXbaYd8IYm4rxJPnZ0boI3wZcdJxs/n+AwV7DFK7aFyfQdYIMLPvES8YJNf5yp4jMeeEYdWh38gXOR35YGHe5xabvQdsHv6PLi8qV6gycc8YH3iMfQu6Lh4ASr+F5Hh3XwVWnQYzUkVlX1nccplAb1SN6Y/sfgmlK64VS8wimldIv/0yj2QLkHizG0iWP4AVAfQ34DVQONAAAAAElFTkSuQmCC",
        "light": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAx0lEQVR4nJWSwQ2CQBBFX0jAcjgqXUgPJNiIsQQrIVCIFy8GC6ABDcGDX7Mus9n1Xz7zZ+fPsLPwH4bUg0dD2wMPcbR48Uxq4AKU4iSTDwZ1LhWXipN/B3V0J6hjBTvgLHZNonewBXrgDpzEvXSIjN0BE3AACmmF4kl5F6tNzcCoLpW0SvGovFvsb4oZ2AANcAOu4ka6axCcINN3rg654sww+CYsPD0OwjcozFNh/Qcd78tqVbCIW+n+Fky472Bh/Q6SYb1EEy8tDzd+9IsVPAAAAABJRU5ErkJggg=="},
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "default_prompt": "# system:\nAs an AI assistant, your task involves interpreting
        images and responding to questions about the image.\nRemember to provide accurate
        answers based on the information present in the image.\n\n# user:\nCan you
        tell me what the image depicts?\n![image]({{image_input}})\n", "enable_kwargs":
        false, "tool_state": "preview"}, {"name": "Serp API", "type": "python", "inputs":
        {"connection": {"type": ["SerpConnection"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "engine": {"type": ["string"], "default":
        "google", "enum": ["google", "bing"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "location": {"type": ["string"], "default":
        "", "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "num": {"type": ["int"], "default": "10", "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "query": {"type": ["string"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "safe": {"type":
        ["string"], "default": "off", "enum": ["active", "off"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}}, "description":
        "Use Serp API to obtain search results from a specific search engine.", "module":
        "promptflow.tools.serpapi", "class_name": "SerpAPI", "function": "search",
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "enable_kwargs": false, "tool_state": "stable"}, {"name": "Index Lookup",
        "type": "python", "inputs": {"acs_content_field": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["Azure AI Search"], "dynamic_list": {"func_path":
        "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_fields",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}, {"default": "Edm.String", "name": "field_data_type",
        "optional": false, "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "uionly_hidden"}, "acs_embedding_field": {"type": ["string"],
        "enabled_by": "index_type", "enabled_by_value": ["Azure AI Search"], "dynamic_list":
        {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_fields",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}, {"default": "Collection(Edm.Single)", "name": "field_data_type",
        "optional": false, "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "uionly_hidden"}, "acs_index_connection": {"type": ["CognitiveSearchConnection"],
        "enabled_by": "index_type", "enabled_by_value": ["Azure AI Search"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "uionly_hidden"}, "acs_index_name":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Azure
        AI Search"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_indices",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]}]},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "acs_metadata_field": {"type": ["string"], "enabled_by": "index_type", "enabled_by_value":
        ["Azure AI Search"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_fields",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}, {"default": "Edm.String", "name": "field_data_type",
        "optional": false, "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "uionly_hidden"}, "aoai_embedding_connection": {"type":
        ["AzureOpenAIConnection"], "enabled_by": "embedding_type", "enabled_by_value":
        ["Azure OpenAI"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "uionly_hidden"}, "embedding_deployment": {"type": ["string"], "enabled_by":
        "embedding_type", "enabled_by_value": ["Azure OpenAI"], "dynamic_list": {"func_path":
        "promptflow_vectordb.tool.common_index_lookup_utils.list_aoai_embedding_deployments",
        "func_kwargs": [{"name": "aoai_connection", "optional": false, "reference":
        "${inputs.aoai_embedding_connection}", "type": ["AzurOpenAIConnection"]}]},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "embedding_model": {"type": ["string"], "enabled_by": "embedding_type", "enabled_by_value":
        ["OpenAI", "Hugging Face"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_embedding_models",
        "func_kwargs": [{"name": "embedding_type", "optional": false, "reference":
        "${inputs.embedding_type}", "type": ["string"]}]}, "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "uionly_hidden"}, "embedding_type":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Azure
        AI Search", "FAISS", "Pinecone"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_available_embedding_types",
        "func_kwargs": [{"name": "index_type", "optional": false, "reference": "${inputs.index_type}",
        "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "uionly_hidden"}, "faiss_index_path": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["FAISS"], "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "uionly_hidden"}, "index_type": {"type":
        ["string"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_available_index_types"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "mlindex_asset_id": {"type": ["string"], "enabled_by": "index_type", "enabled_by_value":
        ["Registered Index"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_registered_mlindices"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "mlindex_content": {"type": ["string"], "allow_manual_entry": false, "is_multi_select":
        false, "generated_by": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.forward_mapping",
        "func_kwargs": [{"name": "index_type", "reference": "${inputs.index_type}",
        "type": ["string"]}, {"name": "mlindex_asset_id", "optional": true, "reference":
        "${inputs.mlindex_asset_id}", "type": ["string"]}, {"name": "mlindex_path",
        "optional": true, "reference": "${inputs.mlindex_path}", "type": ["string"]},
        {"name": "acs_index_connection", "optional": true, "reference": "${inputs.acs_index_connection}",
        "type": ["CognitiveSearchConnection"]}, {"name": "acs_index_name", "optional":
        true, "reference": "${inputs.acs_index_name}", "type": ["string"]}, {"name":
        "acs_content_field", "optional": true, "reference": "${inputs.acs_content_field}",
        "type": ["string"]}, {"name": "acs_embedding_field", "optional": true, "reference":
        "${inputs.acs_embedding_field}", "type": ["string"]}, {"name": "acs_metadata_field",
        "optional": true, "reference": "${inputs.acs_metadata_field}", "type": ["string"]},
        {"name": "semantic_configuration", "optional": true, "reference": "${inputs.semantic_configuration}",
        "type": ["string"]}, {"name": "faiss_index_path", "optional": true, "reference":
        "${inputs.faiss_index_path}", "type": ["string"]}, {"name": "pinecone_index_connection",
        "optional": true, "reference": "${inputs.pinecone_index_connection}", "type":
        ["string"]}, {"name": "pinecone_index_name", "optional": true, "reference":
        "${inputs.pinecone_index_name}", "type": ["string"]}, {"name": "pinecone_content_field",
        "optional": true, "reference": "${inputs.pinecone_content_field}", "type":
        ["string"]}, {"name": "pinecone_metadata_field", "optional": true, "reference":
        "${inputs.pinecone_metadata_field}", "type": ["string"]}, {"name": "embedding_type",
        "optional": true, "reference": "${inputs.embedding_type}", "type": ["string"]},
        {"name": "aoai_embedding_connection", "optional": true, "reference": "${inputs.aoai_embedding_connection}",
        "type": ["AzureOpenAIConnection"]}, {"name": "oai_embedding_connection", "optional":
        true, "reference": "${inputs.oai_embedding_connection}", "type": ["string"]},
        {"name": "embedding_model", "optional": true, "reference": "${inputs.embedding_model}",
        "type": ["string"]}, {"name": "embedding_deployment", "optional": true, "reference":
        "${inputs.embedding_deployment}", "type": ["string"]}, {"name": "serverless_embedding_connection",
        "optional": true, "reference": "${inputs.serverless_embedding_connection}",
        "type": ["string"]}], "reverse_func_path": "promptflow_vectordb.tool.common_index_lookup_utils.reverse_mapping"},
        "input_type": "default"}, "mlindex_path": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["MLIndex file from path"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "uionly_hidden"}, "oai_embedding_connection":
        {"type": ["OpenAIConnection"], "enabled_by": "embedding_type", "enabled_by_value":
        ["OpenAI"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "uionly_hidden"}, "pinecone_content_field": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["Pinecone"], "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "uionly_hidden"}, "pinecone_index_connection":
        {"type": ["PineconeConnection"], "enabled_by": "index_type", "enabled_by_value":
        ["Pinecone"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_pinecone_connections"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "pinecone_index_name": {"type": ["string"], "enabled_by": "index_type", "enabled_by_value":
        ["Pinecone"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_pinecone_indices",
        "func_kwargs": [{"name": "pinecone_connection_name", "optional": false, "reference":
        "${inputs.pinecone_index_connection}", "type": ["string"]}]}, "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "uionly_hidden"}, "pinecone_metadata_field":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Pinecone"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "queries": {"type": ["object"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "query_type": {"type": ["string"], "dynamic_list":
        {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_available_query_types",
        "func_kwargs": [{"name": "mlindex_content", "optional": false, "reference":
        "${inputs.mlindex_content}", "type": ["string"]}]}, "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "semantic_configuration":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Azure
        AI Search"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_semantic_configurations",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "uionly_hidden"}, "serverless_embedding_connection": {"type":
        ["string"], "enabled_by": "embedding_type", "enabled_by_value": ["Serverless
        Endpoint"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_serverless_embedding_connections"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "top_k": {"type": ["int"], "default": 3, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}}, "description": "Search an AzureML Vector
        Index for relevant results using one or more text queries.", "module": "promptflow_vectordb.tool.common_index_lookup",
        "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "preview"},
        {"name": "Faiss Index Lookup", "type": "python", "inputs": {"path": {"type":
        ["string"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}, "top_k": {"type": ["int"], "default": "3", "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "vector": {"type":
        ["list"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}}, "description": "Search vector based query from the FAISS index
        file.", "module": "promptflow_vectordb.tool.faiss_index_lookup", "class_name":
        "FaissIndexLookup", "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "archived"},
        {"name": "Vector DB Lookup", "type": "python", "inputs": {"class_name": {"type":
        ["string"], "enabled_by": "connection", "enabled_by_type": ["WeaviateConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "collection_name": {"type": ["string"], "enabled_by": "connection", "enabled_by_type":
        ["QdrantConnection"], "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}, "connection": {"type": ["CognitiveSearchConnection",
        "QdrantConnection", "WeaviateConnection"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "index_name": {"type": ["string"], "enabled_by":
        "connection", "enabled_by_type": ["CognitiveSearchConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "search_filters":
        {"type": ["object"], "enabled_by": "connection", "enabled_by_type": ["CognitiveSearchConnection",
        "QdrantConnection"], "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}, "search_params": {"type": ["object"], "enabled_by":
        "connection", "enabled_by_type": ["CognitiveSearchConnection", "QdrantConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "text_field": {"type": ["string"], "enabled_by": "connection", "enabled_by_type":
        ["CognitiveSearchConnection", "QdrantConnection", "WeaviateConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "top_k": {"type":
        ["int"], "default": "3", "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}, "vector": {"type": ["list"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "vector_field":
        {"type": ["string"], "enabled_by": "connection", "enabled_by_type": ["CognitiveSearchConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"}},
        "description": "Search vector based query from existing Vector Database.",
        "module": "promptflow_vectordb.tool.vector_db_lookup", "class_name": "VectorDBLookup",
        "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "archived"},
        {"name": "Vector Index Lookup", "type": "python", "inputs": {"path": {"type":
        ["string"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}, "query": {"type": ["object"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "top_k": {"type": ["int"], "default": "3",
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"}},
        "description": "Search text or vector based query from AzureML Vector Index.",
        "module": "promptflow_vectordb.tool.vector_index_lookup", "class_name": "VectorIndexLookup",
        "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "archived"},
        {"name": "count_image.py", "type": "python", "inputs": {"images": {"type":
        ["object"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}}, "source": "count_image.py", "function": "aggregate", "is_builtin":
        false, "enable_kwargs": false, "tool_state": "stable"}, {"name": "flip_image.py",
        "type": "python", "inputs": {"input_image": {"type": ["image"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}}, "source": "flip_image.py",
        "function": "passthrough", "is_builtin": false, "enable_kwargs": false, "tool_state":
        "stable"}], "inputs": {"input_image": {"type": "image", "default": "https://developer.microsoft.com/_devcom/images/logo-ms-social.png",
        "is_chat_input": false}}, "outputs": {"output_image": {"type": "string", "reference":
        "${flip_image.output}", "evaluation_only": false, "is_chat_output": false}}},
        "flowRunResourceId": "azureml://locations/eastus/workspaces/00000/flows/resume_from_run_with_image_and_aggregation_node/flowRuns/resume_from_run_with_image_and_aggregation_node",
        "flowRunId": "resume_from_run_with_image_and_aggregation_node", "flowRunDisplayName":
        "resume_from_run_with_image_and_aggregation_node", "batchDataInput": {"dataUri":
        "azureml://datastores/workspaceblobstore/paths/LocalUpload/f0a11846460e7f82ede2efcac357243a/input_data/"},
        "flowRunType": "FlowRun", "flowType": "Default", "runtimeName": "automatic",
        "inputsMapping": {"input_image": "${data.input_image}"}, "outputDatastoreName":
        "workspaceblobstore", "childRunBasePath": "promptflow/PromptFlowArtifacts/resume_from_run_with_image_and_aggregation_node/flow_artifacts",
        "flowDagFileRelativePath": "flow.dag.yaml", "flowSnapshotId": "5736ca27-2c86-4efa-b25b-786d71f83a72",
        "sessionId": "dd798e161fe6ff4d5da384b8b0cfda2c1de3b1d9275b138e", "studioPortalEndpoint":
        "https://ml.azure.com/runs/resume_from_run_with_image_and_aggregation_node?wsid=/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000"}'
    headers:
      connection:
      - keep-alive
      content-length:
      - '28313'
      content-type:
      - application/json; charset=utf-8
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-request-time:
      - '0.218'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - promptflow-azure-sdk/1.0.0.dev0 azsdk-python-azuremachinelearningdesignerserviceclient/unknown
        Python/3.9.19 (Windows-10-10.0.22631-SP0)
    method: GET
    uri: https://eastus.api.azureml.ms/flow/api/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/BulkRuns/resume_from_run_with_image_and_aggregation_node/childRuns?endIndex=24&startIndex=0
  response:
    body:
      string: '[{"run_id": "resume_from_run_with_image_and_aggregation_node_2", "status":
        "Failed", "error": {"message": "Execution failure in ''flip_image'': (ValueError)
        Random failure", "messageFormat": "Execution failure in ''{node_name}''.",
        "messageParameters": {"node_name": "flip_image"}, "referenceCode": "Tool/__pf_main__",
        "code": "UserError", "innerError": {"code": "ToolExecutionError", "innerError":
        null}, "additionalInfo": [{"type": "ToolExecutionErrorDetails", "info": {"type":
        "ValueError", "message": "Random failure", "traceback": "Traceback (most recent
        call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\nValueError:
        Random failure\n", "filename": "/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py",
        "lineno": 12, "name": "passthrough"}}], "debugInfo": {"type": "ToolExecutionError",
        "message": "Execution failure in ''flip_image'': (ValueError) Random failure",
        "stackTrace": "\nThe above exception was the direct cause of the following
        exception:\n\nTraceback (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 958, in _exec\n    output, aggregation_inputs = self._exec_inner_with_trace(\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 866, in _exec_inner_with_trace\n    output, aggregation_inputs = self._exec_inner(\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 895, in _exec_inner\n    output, nodes_outputs = self._traverse_nodes(inputs,
        context)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 1144, in _traverse_nodes\n    nodes_outputs, bypassed_nodes = self._submit_to_scheduler(context,
        inputs, batch_nodes)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 1181, in _submit_to_scheduler\n    return scheduler.execute(self._line_timeout_sec)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 89, in execute\n    raise e\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 72, in execute\n    self._dag_manager.complete_nodes(self._collect_outputs(completed_futures))\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 113, in _collect_outputs\n    each_node_result = each_future.result()\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/_base.py\",
        line 439, in result\n    return self.__get_result()\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/_base.py\",
        line 391, in __get_result\n    raise self._exception\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/thread.py\",
        line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 134, in _exec_single_node_in_thread\n    result = context.invoke_tool(node,
        f, kwargs=kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 90, in invoke_tool\n    result = self._invoke_tool_inner(node, f, kwargs)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 206, in _invoke_tool_inner\n    raise ToolExecutionError(node_name=node_name,
        module=module) from e\n", "innerException": {"type": "ValueError", "message":
        "Random failure", "stackTrace": "Traceback (most recent call last):\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 182, in _invoke_tool_inner\n    return f(**kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\n", "innerException":
        null}}}, "inputs": {"input_image": {"data:image/png;path": "e2c8986e-21d7-4454-93a1-f3fa31ecb540.png"},
        "line_number": 2}, "output": null, "metrics": null, "request": null, "parent_run_id":
        "resume_from_run_with_image_and_aggregation_node", "root_run_id": "resume_from_run_with_image_and_aggregation_node",
        "source_run_id": null, "flow_id": "default_flow_id", "start_time": "2024-04-10T13:24:33.966996Z",
        "end_time": "2024-04-10T13:24:34.109327Z", "index": 2, "api_calls": [{"name":
        "flow", "node_name": "flow", "type": "Flow", "start_time": 1712755473.966996,
        "end_time": 1712755474.109327, "children": [{"name": "passthrough", "type":
        "Function", "inputs": {"input_image": {"data:image/png;path": "9de21a9c-238d-4a3d-a613-10cdc4a0e21b.png"}},
        "output": null, "start_time": 1712755474.015354, "end_time": 1712755474.018245,
        "error": {"message": "Random failure", "type": "ValueError"}, "children":
        [], "node_name": "flip_image", "parent_id": "", "id": "3fb29c5c-db42-4c08-a0ee-24a3f2a302ef",
        "function": "passthrough", "system_metrics": {}}], "system_metrics": {"duration":
        0.142331, "prompt_tokens": 0, "completion_tokens": 0, "total_tokens": 0},
        "inputs": {"input_image": {"data:image/png;path": "f36416c8-a1ef-430d-990a-bfc81f606306.png"},
        "line_number": 2}, "output": null, "error": {"message": "Execution failure
        in ''flip_image'': (ValueError) Random failure", "messageFormat": "Execution
        failure in ''{node_name}''.", "messageParameters": {"node_name": "flip_image"},
        "referenceCode": "Tool/__pf_main__", "code": "UserError", "innerError": {"code":
        "ToolExecutionError", "innerError": null}, "additionalInfo": [{"type": "ToolExecutionErrorDetails",
        "info": {"type": "ValueError", "message": "Random failure", "traceback": "Traceback
        (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\nValueError:
        Random failure\n", "filename": "/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py",
        "lineno": 12, "name": "passthrough"}}], "debugInfo": {"type": "ToolExecutionError",
        "message": "Execution failure in ''flip_image'': (ValueError) Random failure",
        "stackTrace": "\nThe above exception was the direct cause of the following
        exception:\n\nTraceback (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 958, in _exec\n    output, aggregation_inputs = self._exec_inner_with_trace(\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 866, in _exec_inner_with_trace\n    output, aggregation_inputs = self._exec_inner(\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 895, in _exec_inner\n    output, nodes_outputs = self._traverse_nodes(inputs,
        context)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 1144, in _traverse_nodes\n    nodes_outputs, bypassed_nodes = self._submit_to_scheduler(context,
        inputs, batch_nodes)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 1181, in _submit_to_scheduler\n    return scheduler.execute(self._line_timeout_sec)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 89, in execute\n    raise e\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 72, in execute\n    self._dag_manager.complete_nodes(self._collect_outputs(completed_futures))\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 113, in _collect_outputs\n    each_node_result = each_future.result()\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/_base.py\",
        line 439, in result\n    return self.__get_result()\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/_base.py\",
        line 391, in __get_result\n    raise self._exception\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/thread.py\",
        line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 134, in _exec_single_node_in_thread\n    result = context.invoke_tool(node,
        f, kwargs=kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 90, in invoke_tool\n    result = self._invoke_tool_inner(node, f, kwargs)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 206, in _invoke_tool_inner\n    raise ToolExecutionError(node_name=node_name,
        module=module) from e\n", "innerException": {"type": "ValueError", "message":
        "Random failure", "stackTrace": "Traceback (most recent call last):\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 182, in _invoke_tool_inner\n    return f(**kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\n", "innerException":
        null}}}}], "name": "", "description": "", "tags": null, "system_metrics":
        {"duration": 0.142331, "prompt_tokens": 0, "completion_tokens": 0, "total_tokens":
        0}, "result": null, "upload_metrics": false, "otel_trace_id": "c557b59040a2dd1f98158019801f7be9",
        "message_format": "basic"}, {"run_id": "resume_from_run_with_image_and_aggregation_node_0",
        "status": "Failed", "error": {"message": "Execution failure in ''flip_image'':
        (ValueError) Random failure", "messageFormat": "Execution failure in ''{node_name}''.",
        "messageParameters": {"node_name": "flip_image"}, "referenceCode": "Tool/__pf_main__",
        "code": "UserError", "innerError": {"code": "ToolExecutionError", "innerError":
        null}, "additionalInfo": [{"type": "ToolExecutionErrorDetails", "info": {"type":
        "ValueError", "message": "Random failure", "traceback": "Traceback (most recent
        call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\nValueError:
        Random failure\n", "filename": "/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py",
        "lineno": 12, "name": "passthrough"}}], "debugInfo": {"type": "ToolExecutionError",
        "message": "Execution failure in ''flip_image'': (ValueError) Random failure",
        "stackTrace": "\nThe above exception was the direct cause of the following
        exception:\n\nTraceback (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 958, in _exec\n    output, aggregation_inputs = self._exec_inner_with_trace(\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 866, in _exec_inner_with_trace\n    output, aggregation_inputs = self._exec_inner(\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 895, in _exec_inner\n    output, nodes_outputs = self._traverse_nodes(inputs,
        context)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 1144, in _traverse_nodes\n    nodes_outputs, bypassed_nodes = self._submit_to_scheduler(context,
        inputs, batch_nodes)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 1181, in _submit_to_scheduler\n    return scheduler.execute(self._line_timeout_sec)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 89, in execute\n    raise e\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 72, in execute\n    self._dag_manager.complete_nodes(self._collect_outputs(completed_futures))\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 113, in _collect_outputs\n    each_node_result = each_future.result()\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/_base.py\",
        line 439, in result\n    return self.__get_result()\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/_base.py\",
        line 391, in __get_result\n    raise self._exception\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/thread.py\",
        line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 134, in _exec_single_node_in_thread\n    result = context.invoke_tool(node,
        f, kwargs=kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 90, in invoke_tool\n    result = self._invoke_tool_inner(node, f, kwargs)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 206, in _invoke_tool_inner\n    raise ToolExecutionError(node_name=node_name,
        module=module) from e\n", "innerException": {"type": "ValueError", "message":
        "Random failure", "stackTrace": "Traceback (most recent call last):\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 182, in _invoke_tool_inner\n    return f(**kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\n", "innerException":
        null}}}, "inputs": {"input_image": {"data:image/jpg;path": "75e929cc-f50d-41a1-9742-68e0fedff8c0.jpg"},
        "line_number": 0}, "output": null, "metrics": null, "request": null, "parent_run_id":
        "resume_from_run_with_image_and_aggregation_node", "root_run_id": "resume_from_run_with_image_and_aggregation_node",
        "source_run_id": null, "flow_id": "default_flow_id", "start_time": "2024-04-10T13:24:33.966738Z",
        "end_time": "2024-04-10T13:24:34.11552Z", "index": 0, "api_calls": [{"name":
        "flow", "node_name": "flow", "type": "Flow", "start_time": 1712755473.966738,
        "end_time": 1712755474.11552, "children": [{"name": "passthrough", "type":
        "Function", "inputs": {"input_image": {"data:image/jpg;path": "a831a4af-4950-429b-8538-da273d77e860.jpg"}},
        "output": null, "start_time": 1712755474.02112, "end_time": 1712755474.025013,
        "error": {"message": "Random failure", "type": "ValueError"}, "children":
        [], "node_name": "flip_image", "parent_id": "", "id": "a0a20439-7fc8-4314-a7ee-3345cfdc55b6",
        "function": "passthrough", "system_metrics": {}}], "system_metrics": {"duration":
        0.148782, "prompt_tokens": 0, "completion_tokens": 0, "total_tokens": 0},
        "inputs": {"input_image": {"data:image/jpg;path": "9cc0a0ae-972a-4335-8ff8-b52ba07b200b.jpg"},
        "line_number": 0}, "output": null, "error": {"message": "Execution failure
        in ''flip_image'': (ValueError) Random failure", "messageFormat": "Execution
        failure in ''{node_name}''.", "messageParameters": {"node_name": "flip_image"},
        "referenceCode": "Tool/__pf_main__", "code": "UserError", "innerError": {"code":
        "ToolExecutionError", "innerError": null}, "additionalInfo": [{"type": "ToolExecutionErrorDetails",
        "info": {"type": "ValueError", "message": "Random failure", "traceback": "Traceback
        (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\nValueError:
        Random failure\n", "filename": "/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py",
        "lineno": 12, "name": "passthrough"}}], "debugInfo": {"type": "ToolExecutionError",
        "message": "Execution failure in ''flip_image'': (ValueError) Random failure",
        "stackTrace": "\nThe above exception was the direct cause of the following
        exception:\n\nTraceback (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 958, in _exec\n    output, aggregation_inputs = self._exec_inner_with_trace(\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 866, in _exec_inner_with_trace\n    output, aggregation_inputs = self._exec_inner(\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 895, in _exec_inner\n    output, nodes_outputs = self._traverse_nodes(inputs,
        context)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 1144, in _traverse_nodes\n    nodes_outputs, bypassed_nodes = self._submit_to_scheduler(context,
        inputs, batch_nodes)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 1181, in _submit_to_scheduler\n    return scheduler.execute(self._line_timeout_sec)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 89, in execute\n    raise e\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 72, in execute\n    self._dag_manager.complete_nodes(self._collect_outputs(completed_futures))\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 113, in _collect_outputs\n    each_node_result = each_future.result()\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/_base.py\",
        line 439, in result\n    return self.__get_result()\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/_base.py\",
        line 391, in __get_result\n    raise self._exception\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/thread.py\",
        line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 134, in _exec_single_node_in_thread\n    result = context.invoke_tool(node,
        f, kwargs=kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 90, in invoke_tool\n    result = self._invoke_tool_inner(node, f, kwargs)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 206, in _invoke_tool_inner\n    raise ToolExecutionError(node_name=node_name,
        module=module) from e\n", "innerException": {"type": "ValueError", "message":
        "Random failure", "stackTrace": "Traceback (most recent call last):\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 182, in _invoke_tool_inner\n    return f(**kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\n", "innerException":
        null}}}}], "name": "", "description": "", "tags": null, "system_metrics":
        {"duration": 0.148782, "prompt_tokens": 0, "completion_tokens": 0, "total_tokens":
        0}, "result": null, "upload_metrics": false, "otel_trace_id": "de71e36bee701a83c567579d185fe210",
        "message_format": "basic"}, {"run_id": "resume_from_run_with_image_and_aggregation_node_1",
        "status": "Failed", "error": {"message": "Execution failure in ''flip_image'':
        (ValueError) Random failure", "messageFormat": "Execution failure in ''{node_name}''.",
        "messageParameters": {"node_name": "flip_image"}, "referenceCode": "Tool/__pf_main__",
        "code": "UserError", "innerError": {"code": "ToolExecutionError", "innerError":
        null}, "additionalInfo": [{"type": "ToolExecutionErrorDetails", "info": {"type":
        "ValueError", "message": "Random failure", "traceback": "Traceback (most recent
        call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\nValueError:
        Random failure\n", "filename": "/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py",
        "lineno": 12, "name": "passthrough"}}], "debugInfo": {"type": "ToolExecutionError",
        "message": "Execution failure in ''flip_image'': (ValueError) Random failure",
        "stackTrace": "\nThe above exception was the direct cause of the following
        exception:\n\nTraceback (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 958, in _exec\n    output, aggregation_inputs = self._exec_inner_with_trace(\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 866, in _exec_inner_with_trace\n    output, aggregation_inputs = self._exec_inner(\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 895, in _exec_inner\n    output, nodes_outputs = self._traverse_nodes(inputs,
        context)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 1144, in _traverse_nodes\n    nodes_outputs, bypassed_nodes = self._submit_to_scheduler(context,
        inputs, batch_nodes)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 1181, in _submit_to_scheduler\n    return scheduler.execute(self._line_timeout_sec)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 89, in execute\n    raise e\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 72, in execute\n    self._dag_manager.complete_nodes(self._collect_outputs(completed_futures))\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 113, in _collect_outputs\n    each_node_result = each_future.result()\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/_base.py\",
        line 439, in result\n    return self.__get_result()\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/_base.py\",
        line 391, in __get_result\n    raise self._exception\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/thread.py\",
        line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 134, in _exec_single_node_in_thread\n    result = context.invoke_tool(node,
        f, kwargs=kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 90, in invoke_tool\n    result = self._invoke_tool_inner(node, f, kwargs)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 206, in _invoke_tool_inner\n    raise ToolExecutionError(node_name=node_name,
        module=module) from e\n", "innerException": {"type": "ValueError", "message":
        "Random failure", "stackTrace": "Traceback (most recent call last):\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 182, in _invoke_tool_inner\n    return f(**kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\n", "innerException":
        null}}}, "inputs": {"input_image": {"data:image/png;path": "bd00abff-49f6-4ffd-a8ce-62ab2e8cbacd.png"},
        "line_number": 1}, "output": null, "metrics": null, "request": null, "parent_run_id":
        "resume_from_run_with_image_and_aggregation_node", "root_run_id": "resume_from_run_with_image_and_aggregation_node",
        "source_run_id": null, "flow_id": "default_flow_id", "start_time": "2024-04-10T13:24:33.956772Z",
        "end_time": "2024-04-10T13:24:34.297419Z", "index": 1, "api_calls": [{"name":
        "flow", "node_name": "flow", "type": "Flow", "start_time": 1712755473.956772,
        "end_time": 1712755474.297419, "children": [{"name": "passthrough", "type":
        "Function", "inputs": {"input_image": {"data:image/png;path": "a3ec4312-1aaa-4158-aad9-82ad38d6ad76.png"}},
        "output": null, "start_time": 1712755474.004299, "end_time": 1712755474.009895,
        "error": {"message": "Random failure", "type": "ValueError"}, "children":
        [], "node_name": "flip_image", "parent_id": "", "id": "45fd348c-df9e-4ad7-be37-5cbf12be11a8",
        "function": "passthrough", "system_metrics": {}}], "system_metrics": {"duration":
        0.340647, "prompt_tokens": 0, "completion_tokens": 0, "total_tokens": 0},
        "inputs": {"input_image": {"data:image/png;path": "9e88c57c-3f71-461d-886f-641d24d1aff9.png"},
        "line_number": 1}, "output": null, "error": {"message": "Execution failure
        in ''flip_image'': (ValueError) Random failure", "messageFormat": "Execution
        failure in ''{node_name}''.", "messageParameters": {"node_name": "flip_image"},
        "referenceCode": "Tool/__pf_main__", "code": "UserError", "innerError": {"code":
        "ToolExecutionError", "innerError": null}, "additionalInfo": [{"type": "ToolExecutionErrorDetails",
        "info": {"type": "ValueError", "message": "Random failure", "traceback": "Traceback
        (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\nValueError:
        Random failure\n", "filename": "/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py",
        "lineno": 12, "name": "passthrough"}}], "debugInfo": {"type": "ToolExecutionError",
        "message": "Execution failure in ''flip_image'': (ValueError) Random failure",
        "stackTrace": "\nThe above exception was the direct cause of the following
        exception:\n\nTraceback (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 958, in _exec\n    output, aggregation_inputs = self._exec_inner_with_trace(\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 866, in _exec_inner_with_trace\n    output, aggregation_inputs = self._exec_inner(\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 895, in _exec_inner\n    output, nodes_outputs = self._traverse_nodes(inputs,
        context)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 1144, in _traverse_nodes\n    nodes_outputs, bypassed_nodes = self._submit_to_scheduler(context,
        inputs, batch_nodes)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 1181, in _submit_to_scheduler\n    return scheduler.execute(self._line_timeout_sec)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 89, in execute\n    raise e\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 72, in execute\n    self._dag_manager.complete_nodes(self._collect_outputs(completed_futures))\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 113, in _collect_outputs\n    each_node_result = each_future.result()\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/_base.py\",
        line 439, in result\n    return self.__get_result()\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/_base.py\",
        line 391, in __get_result\n    raise self._exception\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/thread.py\",
        line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 134, in _exec_single_node_in_thread\n    result = context.invoke_tool(node,
        f, kwargs=kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 90, in invoke_tool\n    result = self._invoke_tool_inner(node, f, kwargs)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 206, in _invoke_tool_inner\n    raise ToolExecutionError(node_name=node_name,
        module=module) from e\n", "innerException": {"type": "ValueError", "message":
        "Random failure", "stackTrace": "Traceback (most recent call last):\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 182, in _invoke_tool_inner\n    return f(**kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\n", "innerException":
        null}}}}], "name": "", "description": "", "tags": null, "system_metrics":
        {"duration": 0.340647, "prompt_tokens": 0, "completion_tokens": 0, "total_tokens":
        0}, "result": null, "upload_metrics": false, "otel_trace_id": "08817e4a8641caf83141fc9efe5240e0",
        "message_format": "basic"}, {"run_id": "resume_from_run_with_image_and_aggregation_node_3",
        "status": "Failed", "error": {"message": "Execution failure in ''flip_image'':
        (ValueError) Random failure", "messageFormat": "Execution failure in ''{node_name}''.",
        "messageParameters": {"node_name": "flip_image"}, "referenceCode": "Tool/__pf_main__",
        "code": "UserError", "innerError": {"code": "ToolExecutionError", "innerError":
        null}, "additionalInfo": [{"type": "ToolExecutionErrorDetails", "info": {"type":
        "ValueError", "message": "Random failure", "traceback": "Traceback (most recent
        call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\nValueError:
        Random failure\n", "filename": "/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py",
        "lineno": 12, "name": "passthrough"}}], "debugInfo": {"type": "ToolExecutionError",
        "message": "Execution failure in ''flip_image'': (ValueError) Random failure",
        "stackTrace": "\nThe above exception was the direct cause of the following
        exception:\n\nTraceback (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 958, in _exec\n    output, aggregation_inputs = self._exec_inner_with_trace(\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 866, in _exec_inner_with_trace\n    output, aggregation_inputs = self._exec_inner(\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 895, in _exec_inner\n    output, nodes_outputs = self._traverse_nodes(inputs,
        context)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 1144, in _traverse_nodes\n    nodes_outputs, bypassed_nodes = self._submit_to_scheduler(context,
        inputs, batch_nodes)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 1181, in _submit_to_scheduler\n    return scheduler.execute(self._line_timeout_sec)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 89, in execute\n    raise e\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 72, in execute\n    self._dag_manager.complete_nodes(self._collect_outputs(completed_futures))\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 113, in _collect_outputs\n    each_node_result = each_future.result()\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/_base.py\",
        line 439, in result\n    return self.__get_result()\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/_base.py\",
        line 391, in __get_result\n    raise self._exception\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/thread.py\",
        line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 134, in _exec_single_node_in_thread\n    result = context.invoke_tool(node,
        f, kwargs=kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 90, in invoke_tool\n    result = self._invoke_tool_inner(node, f, kwargs)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 206, in _invoke_tool_inner\n    raise ToolExecutionError(node_name=node_name,
        module=module) from e\n", "innerException": {"type": "ValueError", "message":
        "Random failure", "stackTrace": "Traceback (most recent call last):\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 182, in _invoke_tool_inner\n    return f(**kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\n", "innerException":
        null}}}, "inputs": {"input_image": {"data:image/jpg;path": "e5ed9139-e8fb-4f1e-8b02-d2992aaa7389.jpg"},
        "line_number": 3}, "output": null, "metrics": null, "request": null, "parent_run_id":
        "resume_from_run_with_image_and_aggregation_node", "root_run_id": "resume_from_run_with_image_and_aggregation_node",
        "source_run_id": null, "flow_id": "default_flow_id", "start_time": "2024-04-10T13:24:33.956731Z",
        "end_time": "2024-04-10T13:24:34.263253Z", "index": 3, "api_calls": [{"name":
        "flow", "node_name": "flow", "type": "Flow", "start_time": 1712755473.956731,
        "end_time": 1712755474.263253, "children": [{"name": "passthrough", "type":
        "Function", "inputs": {"input_image": {"data:image/jpg;path": "c69f3751-9ecf-4953-9b41-d0fd06b472eb.jpg"}},
        "output": null, "start_time": 1712755474.007931, "end_time": 1712755474.011441,
        "error": {"message": "Random failure", "type": "ValueError"}, "children":
        [], "node_name": "flip_image", "parent_id": "", "id": "1e645e76-f026-427b-b989-e376148d4fa8",
        "function": "passthrough", "system_metrics": {}}], "system_metrics": {"duration":
        0.306522, "prompt_tokens": 0, "completion_tokens": 0, "total_tokens": 0},
        "inputs": {"input_image": {"data:image/jpg;path": "164cd1ff-c413-4f15-bb36-50c7c1197d7d.jpg"},
        "line_number": 3}, "output": null, "error": {"message": "Execution failure
        in ''flip_image'': (ValueError) Random failure", "messageFormat": "Execution
        failure in ''{node_name}''.", "messageParameters": {"node_name": "flip_image"},
        "referenceCode": "Tool/__pf_main__", "code": "UserError", "innerError": {"code":
        "ToolExecutionError", "innerError": null}, "additionalInfo": [{"type": "ToolExecutionErrorDetails",
        "info": {"type": "ValueError", "message": "Random failure", "traceback": "Traceback
        (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\nValueError:
        Random failure\n", "filename": "/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py",
        "lineno": 12, "name": "passthrough"}}], "debugInfo": {"type": "ToolExecutionError",
        "message": "Execution failure in ''flip_image'': (ValueError) Random failure",
        "stackTrace": "\nThe above exception was the direct cause of the following
        exception:\n\nTraceback (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 958, in _exec\n    output, aggregation_inputs = self._exec_inner_with_trace(\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 866, in _exec_inner_with_trace\n    output, aggregation_inputs = self._exec_inner(\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 895, in _exec_inner\n    output, nodes_outputs = self._traverse_nodes(inputs,
        context)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 1144, in _traverse_nodes\n    nodes_outputs, bypassed_nodes = self._submit_to_scheduler(context,
        inputs, batch_nodes)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 1181, in _submit_to_scheduler\n    return scheduler.execute(self._line_timeout_sec)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 89, in execute\n    raise e\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 72, in execute\n    self._dag_manager.complete_nodes(self._collect_outputs(completed_futures))\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 113, in _collect_outputs\n    each_node_result = each_future.result()\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/_base.py\",
        line 439, in result\n    return self.__get_result()\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/_base.py\",
        line 391, in __get_result\n    raise self._exception\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/thread.py\",
        line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 134, in _exec_single_node_in_thread\n    result = context.invoke_tool(node,
        f, kwargs=kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 90, in invoke_tool\n    result = self._invoke_tool_inner(node, f, kwargs)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 206, in _invoke_tool_inner\n    raise ToolExecutionError(node_name=node_name,
        module=module) from e\n", "innerException": {"type": "ValueError", "message":
        "Random failure", "stackTrace": "Traceback (most recent call last):\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 182, in _invoke_tool_inner\n    return f(**kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\n", "innerException":
        null}}}}], "name": "", "description": "", "tags": null, "system_metrics":
        {"duration": 0.306522, "prompt_tokens": 0, "completion_tokens": 0, "total_tokens":
        0}, "result": null, "upload_metrics": false, "otel_trace_id": "5da06f883b3cc776f7d84731f26f5612",
        "message_format": "basic"}, {"run_id": "resume_from_run_with_image_and_aggregation_node_5",
        "status": "Failed", "error": {"message": "Execution failure in ''flip_image'':
        (ValueError) Random failure", "messageFormat": "Execution failure in ''{node_name}''.",
        "messageParameters": {"node_name": "flip_image"}, "referenceCode": "Tool/__pf_main__",
        "code": "UserError", "innerError": {"code": "ToolExecutionError", "innerError":
        null}, "additionalInfo": [{"type": "ToolExecutionErrorDetails", "info": {"type":
        "ValueError", "message": "Random failure", "traceback": "Traceback (most recent
        call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\nValueError:
        Random failure\n", "filename": "/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py",
        "lineno": 12, "name": "passthrough"}}], "debugInfo": {"type": "ToolExecutionError",
        "message": "Execution failure in ''flip_image'': (ValueError) Random failure",
        "stackTrace": "\nThe above exception was the direct cause of the following
        exception:\n\nTraceback (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 958, in _exec\n    output, aggregation_inputs = self._exec_inner_with_trace(\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 866, in _exec_inner_with_trace\n    output, aggregation_inputs = self._exec_inner(\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 895, in _exec_inner\n    output, nodes_outputs = self._traverse_nodes(inputs,
        context)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 1144, in _traverse_nodes\n    nodes_outputs, bypassed_nodes = self._submit_to_scheduler(context,
        inputs, batch_nodes)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 1181, in _submit_to_scheduler\n    return scheduler.execute(self._line_timeout_sec)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 89, in execute\n    raise e\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 72, in execute\n    self._dag_manager.complete_nodes(self._collect_outputs(completed_futures))\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 113, in _collect_outputs\n    each_node_result = each_future.result()\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/_base.py\",
        line 439, in result\n    return self.__get_result()\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/_base.py\",
        line 391, in __get_result\n    raise self._exception\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/thread.py\",
        line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 134, in _exec_single_node_in_thread\n    result = context.invoke_tool(node,
        f, kwargs=kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 90, in invoke_tool\n    result = self._invoke_tool_inner(node, f, kwargs)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 206, in _invoke_tool_inner\n    raise ToolExecutionError(node_name=node_name,
        module=module) from e\n", "innerException": {"type": "ValueError", "message":
        "Random failure", "stackTrace": "Traceback (most recent call last):\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 182, in _invoke_tool_inner\n    return f(**kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\n", "innerException":
        null}}}, "inputs": {"input_image": {"data:image/png;path": "287f42a6-dbf2-4fdb-8cff-8fe17b90b755.png"},
        "line_number": 5}, "output": null, "metrics": null, "request": null, "parent_run_id":
        "resume_from_run_with_image_and_aggregation_node", "root_run_id": "resume_from_run_with_image_and_aggregation_node",
        "source_run_id": null, "flow_id": "default_flow_id", "start_time": "2024-04-10T13:24:34.441348Z",
        "end_time": "2024-04-10T13:24:34.51984Z", "index": 5, "api_calls": [{"name":
        "flow", "node_name": "flow", "type": "Flow", "start_time": 1712755474.441348,
        "end_time": 1712755474.51984, "children": [{"name": "passthrough", "type":
        "Function", "inputs": {"input_image": {"data:image/png;path": "814b37c5-b1da-4564-ba5d-cd16b8016212.png"}},
        "output": null, "start_time": 1712755474.444151, "end_time": 1712755474.44569,
        "error": {"message": "Random failure", "type": "ValueError"}, "children":
        [], "node_name": "flip_image", "parent_id": "", "id": "b2f776f5-6aff-4b01-b643-fab05d88293b",
        "function": "passthrough", "system_metrics": {}}], "system_metrics": {"duration":
        0.078492, "prompt_tokens": 0, "completion_tokens": 0, "total_tokens": 0},
        "inputs": {"input_image": {"data:image/png;path": "3f4e5048-ec33-4b46-a4d0-4b0ff70fa230.png"},
        "line_number": 5}, "output": null, "error": {"message": "Execution failure
        in ''flip_image'': (ValueError) Random failure", "messageFormat": "Execution
        failure in ''{node_name}''.", "messageParameters": {"node_name": "flip_image"},
        "referenceCode": "Tool/__pf_main__", "code": "UserError", "innerError": {"code":
        "ToolExecutionError", "innerError": null}, "additionalInfo": [{"type": "ToolExecutionErrorDetails",
        "info": {"type": "ValueError", "message": "Random failure", "traceback": "Traceback
        (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\nValueError:
        Random failure\n", "filename": "/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py",
        "lineno": 12, "name": "passthrough"}}], "debugInfo": {"type": "ToolExecutionError",
        "message": "Execution failure in ''flip_image'': (ValueError) Random failure",
        "stackTrace": "\nThe above exception was the direct cause of the following
        exception:\n\nTraceback (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 958, in _exec\n    output, aggregation_inputs = self._exec_inner_with_trace(\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 866, in _exec_inner_with_trace\n    output, aggregation_inputs = self._exec_inner(\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 895, in _exec_inner\n    output, nodes_outputs = self._traverse_nodes(inputs,
        context)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 1144, in _traverse_nodes\n    nodes_outputs, bypassed_nodes = self._submit_to_scheduler(context,
        inputs, batch_nodes)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 1181, in _submit_to_scheduler\n    return scheduler.execute(self._line_timeout_sec)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 89, in execute\n    raise e\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 72, in execute\n    self._dag_manager.complete_nodes(self._collect_outputs(completed_futures))\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 113, in _collect_outputs\n    each_node_result = each_future.result()\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/_base.py\",
        line 439, in result\n    return self.__get_result()\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/_base.py\",
        line 391, in __get_result\n    raise self._exception\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/thread.py\",
        line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 134, in _exec_single_node_in_thread\n    result = context.invoke_tool(node,
        f, kwargs=kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 90, in invoke_tool\n    result = self._invoke_tool_inner(node, f, kwargs)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 206, in _invoke_tool_inner\n    raise ToolExecutionError(node_name=node_name,
        module=module) from e\n", "innerException": {"type": "ValueError", "message":
        "Random failure", "stackTrace": "Traceback (most recent call last):\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 182, in _invoke_tool_inner\n    return f(**kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\n", "innerException":
        null}}}}], "name": "", "description": "", "tags": null, "system_metrics":
        {"duration": 0.078492, "prompt_tokens": 0, "completion_tokens": 0, "total_tokens":
        0}, "result": null, "upload_metrics": false, "otel_trace_id": "f2917bb330cf3783e91cce8057162ae9",
        "message_format": "basic"}, {"run_id": "resume_from_run_with_image_and_aggregation_node_7",
        "status": "Failed", "error": {"message": "Execution failure in ''flip_image'':
        (ValueError) Random failure", "messageFormat": "Execution failure in ''{node_name}''.",
        "messageParameters": {"node_name": "flip_image"}, "referenceCode": "Tool/__pf_main__",
        "code": "UserError", "innerError": {"code": "ToolExecutionError", "innerError":
        null}, "additionalInfo": [{"type": "ToolExecutionErrorDetails", "info": {"type":
        "ValueError", "message": "Random failure", "traceback": "Traceback (most recent
        call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\nValueError:
        Random failure\n", "filename": "/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py",
        "lineno": 12, "name": "passthrough"}}], "debugInfo": {"type": "ToolExecutionError",
        "message": "Execution failure in ''flip_image'': (ValueError) Random failure",
        "stackTrace": "\nThe above exception was the direct cause of the following
        exception:\n\nTraceback (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 958, in _exec\n    output, aggregation_inputs = self._exec_inner_with_trace(\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 866, in _exec_inner_with_trace\n    output, aggregation_inputs = self._exec_inner(\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 895, in _exec_inner\n    output, nodes_outputs = self._traverse_nodes(inputs,
        context)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 1144, in _traverse_nodes\n    nodes_outputs, bypassed_nodes = self._submit_to_scheduler(context,
        inputs, batch_nodes)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 1181, in _submit_to_scheduler\n    return scheduler.execute(self._line_timeout_sec)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 89, in execute\n    raise e\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 72, in execute\n    self._dag_manager.complete_nodes(self._collect_outputs(completed_futures))\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 113, in _collect_outputs\n    each_node_result = each_future.result()\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/_base.py\",
        line 439, in result\n    return self.__get_result()\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/_base.py\",
        line 391, in __get_result\n    raise self._exception\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/thread.py\",
        line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 134, in _exec_single_node_in_thread\n    result = context.invoke_tool(node,
        f, kwargs=kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 90, in invoke_tool\n    result = self._invoke_tool_inner(node, f, kwargs)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 206, in _invoke_tool_inner\n    raise ToolExecutionError(node_name=node_name,
        module=module) from e\n", "innerException": {"type": "ValueError", "message":
        "Random failure", "stackTrace": "Traceback (most recent call last):\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 182, in _invoke_tool_inner\n    return f(**kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\n", "innerException":
        null}}}, "inputs": {"input_image": {"data:image/png;path": "a326f4ce-5bae-42ab-a667-70a7b194c336.png"},
        "line_number": 7}, "output": null, "metrics": null, "request": null, "parent_run_id":
        "resume_from_run_with_image_and_aggregation_node", "root_run_id": "resume_from_run_with_image_and_aggregation_node",
        "source_run_id": null, "flow_id": "default_flow_id", "start_time": "2024-04-10T13:24:34.593098Z",
        "end_time": "2024-04-10T13:24:34.681307Z", "index": 7, "api_calls": [{"name":
        "flow", "node_name": "flow", "type": "Flow", "start_time": 1712755474.593098,
        "end_time": 1712755474.681307, "children": [{"name": "passthrough", "type":
        "Function", "inputs": {"input_image": {"data:image/png;path": "ba79e42d-b140-4855-aba6-3bcf177621b3.png"}},
        "output": null, "start_time": 1712755474.597011, "end_time": 1712755474.604276,
        "error": {"message": "Random failure", "type": "ValueError"}, "children":
        [], "node_name": "flip_image", "parent_id": "", "id": "0c1baede-f0a3-4900-9dd9-c01aec724bfc",
        "function": "passthrough", "system_metrics": {}}], "system_metrics": {"duration":
        0.088209, "prompt_tokens": 0, "completion_tokens": 0, "total_tokens": 0},
        "inputs": {"input_image": {"data:image/png;path": "1c678cbc-7f10-49f4-947a-8302ebd85da6.png"},
        "line_number": 7}, "output": null, "error": {"message": "Execution failure
        in ''flip_image'': (ValueError) Random failure", "messageFormat": "Execution
        failure in ''{node_name}''.", "messageParameters": {"node_name": "flip_image"},
        "referenceCode": "Tool/__pf_main__", "code": "UserError", "innerError": {"code":
        "ToolExecutionError", "innerError": null}, "additionalInfo": [{"type": "ToolExecutionErrorDetails",
        "info": {"type": "ValueError", "message": "Random failure", "traceback": "Traceback
        (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\nValueError:
        Random failure\n", "filename": "/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py",
        "lineno": 12, "name": "passthrough"}}], "debugInfo": {"type": "ToolExecutionError",
        "message": "Execution failure in ''flip_image'': (ValueError) Random failure",
        "stackTrace": "\nThe above exception was the direct cause of the following
        exception:\n\nTraceback (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 958, in _exec\n    output, aggregation_inputs = self._exec_inner_with_trace(\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 866, in _exec_inner_with_trace\n    output, aggregation_inputs = self._exec_inner(\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 895, in _exec_inner\n    output, nodes_outputs = self._traverse_nodes(inputs,
        context)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 1144, in _traverse_nodes\n    nodes_outputs, bypassed_nodes = self._submit_to_scheduler(context,
        inputs, batch_nodes)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 1181, in _submit_to_scheduler\n    return scheduler.execute(self._line_timeout_sec)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 89, in execute\n    raise e\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 72, in execute\n    self._dag_manager.complete_nodes(self._collect_outputs(completed_futures))\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 113, in _collect_outputs\n    each_node_result = each_future.result()\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/_base.py\",
        line 439, in result\n    return self.__get_result()\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/_base.py\",
        line 391, in __get_result\n    raise self._exception\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/thread.py\",
        line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 134, in _exec_single_node_in_thread\n    result = context.invoke_tool(node,
        f, kwargs=kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 90, in invoke_tool\n    result = self._invoke_tool_inner(node, f, kwargs)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 206, in _invoke_tool_inner\n    raise ToolExecutionError(node_name=node_name,
        module=module) from e\n", "innerException": {"type": "ValueError", "message":
        "Random failure", "stackTrace": "Traceback (most recent call last):\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 182, in _invoke_tool_inner\n    return f(**kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\n", "innerException":
        null}}}}], "name": "", "description": "", "tags": null, "system_metrics":
        {"duration": 0.088209, "prompt_tokens": 0, "completion_tokens": 0, "total_tokens":
        0}, "result": null, "upload_metrics": false, "otel_trace_id": "56f4b1bbad3f5e944991d9e7853f652c",
        "message_format": "basic"}, {"run_id": "resume_from_run_with_image_and_aggregation_node_6",
        "status": "Failed", "error": {"message": "Execution failure in ''flip_image'':
        (ValueError) Random failure", "messageFormat": "Execution failure in ''{node_name}''.",
        "messageParameters": {"node_name": "flip_image"}, "referenceCode": "Tool/__pf_main__",
        "code": "UserError", "innerError": {"code": "ToolExecutionError", "innerError":
        null}, "additionalInfo": [{"type": "ToolExecutionErrorDetails", "info": {"type":
        "ValueError", "message": "Random failure", "traceback": "Traceback (most recent
        call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\nValueError:
        Random failure\n", "filename": "/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py",
        "lineno": 12, "name": "passthrough"}}], "debugInfo": {"type": "ToolExecutionError",
        "message": "Execution failure in ''flip_image'': (ValueError) Random failure",
        "stackTrace": "\nThe above exception was the direct cause of the following
        exception:\n\nTraceback (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 958, in _exec\n    output, aggregation_inputs = self._exec_inner_with_trace(\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 866, in _exec_inner_with_trace\n    output, aggregation_inputs = self._exec_inner(\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 895, in _exec_inner\n    output, nodes_outputs = self._traverse_nodes(inputs,
        context)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 1144, in _traverse_nodes\n    nodes_outputs, bypassed_nodes = self._submit_to_scheduler(context,
        inputs, batch_nodes)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 1181, in _submit_to_scheduler\n    return scheduler.execute(self._line_timeout_sec)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 89, in execute\n    raise e\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 72, in execute\n    self._dag_manager.complete_nodes(self._collect_outputs(completed_futures))\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 113, in _collect_outputs\n    each_node_result = each_future.result()\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/_base.py\",
        line 439, in result\n    return self.__get_result()\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/_base.py\",
        line 391, in __get_result\n    raise self._exception\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/thread.py\",
        line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 134, in _exec_single_node_in_thread\n    result = context.invoke_tool(node,
        f, kwargs=kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 90, in invoke_tool\n    result = self._invoke_tool_inner(node, f, kwargs)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 206, in _invoke_tool_inner\n    raise ToolExecutionError(node_name=node_name,
        module=module) from e\n", "innerException": {"type": "ValueError", "message":
        "Random failure", "stackTrace": "Traceback (most recent call last):\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 182, in _invoke_tool_inner\n    return f(**kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\n", "innerException":
        null}}}, "inputs": {"input_image": {"data:image/jpg;path": "f953ac65-de00-402f-a205-b6f82a83cd90.jpg"},
        "line_number": 6}, "output": null, "metrics": null, "request": null, "parent_run_id":
        "resume_from_run_with_image_and_aggregation_node", "root_run_id": "resume_from_run_with_image_and_aggregation_node",
        "source_run_id": null, "flow_id": "default_flow_id", "start_time": "2024-04-10T13:24:34.574588Z",
        "end_time": "2024-04-10T13:24:34.81386Z", "index": 6, "api_calls": [{"name":
        "flow", "node_name": "flow", "type": "Flow", "start_time": 1712755474.574588,
        "end_time": 1712755474.81386, "children": [{"name": "passthrough", "type":
        "Function", "inputs": {"input_image": {"data:image/jpg;path": "a5a8db92-d8ab-492a-8408-9696a40d124f.jpg"}},
        "output": null, "start_time": 1712755474.57769, "end_time": 1712755474.579493,
        "error": {"message": "Random failure", "type": "ValueError"}, "children":
        [], "node_name": "flip_image", "parent_id": "", "id": "b9eba9b3-8481-4de2-ae01-ba2deda44404",
        "function": "passthrough", "system_metrics": {}}], "system_metrics": {"duration":
        0.239272, "prompt_tokens": 0, "completion_tokens": 0, "total_tokens": 0},
        "inputs": {"input_image": {"data:image/jpg;path": "2d26ef27-2a56-45e0-91de-39a2fa65ac16.jpg"},
        "line_number": 6}, "output": null, "error": {"message": "Execution failure
        in ''flip_image'': (ValueError) Random failure", "messageFormat": "Execution
        failure in ''{node_name}''.", "messageParameters": {"node_name": "flip_image"},
        "referenceCode": "Tool/__pf_main__", "code": "UserError", "innerError": {"code":
        "ToolExecutionError", "innerError": null}, "additionalInfo": [{"type": "ToolExecutionErrorDetails",
        "info": {"type": "ValueError", "message": "Random failure", "traceback": "Traceback
        (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\nValueError:
        Random failure\n", "filename": "/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py",
        "lineno": 12, "name": "passthrough"}}], "debugInfo": {"type": "ToolExecutionError",
        "message": "Execution failure in ''flip_image'': (ValueError) Random failure",
        "stackTrace": "\nThe above exception was the direct cause of the following
        exception:\n\nTraceback (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 958, in _exec\n    output, aggregation_inputs = self._exec_inner_with_trace(\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 866, in _exec_inner_with_trace\n    output, aggregation_inputs = self._exec_inner(\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 895, in _exec_inner\n    output, nodes_outputs = self._traverse_nodes(inputs,
        context)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 1144, in _traverse_nodes\n    nodes_outputs, bypassed_nodes = self._submit_to_scheduler(context,
        inputs, batch_nodes)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 1181, in _submit_to_scheduler\n    return scheduler.execute(self._line_timeout_sec)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 89, in execute\n    raise e\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 72, in execute\n    self._dag_manager.complete_nodes(self._collect_outputs(completed_futures))\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 113, in _collect_outputs\n    each_node_result = each_future.result()\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/_base.py\",
        line 439, in result\n    return self.__get_result()\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/_base.py\",
        line 391, in __get_result\n    raise self._exception\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/thread.py\",
        line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 134, in _exec_single_node_in_thread\n    result = context.invoke_tool(node,
        f, kwargs=kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 90, in invoke_tool\n    result = self._invoke_tool_inner(node, f, kwargs)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 206, in _invoke_tool_inner\n    raise ToolExecutionError(node_name=node_name,
        module=module) from e\n", "innerException": {"type": "ValueError", "message":
        "Random failure", "stackTrace": "Traceback (most recent call last):\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 182, in _invoke_tool_inner\n    return f(**kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\n", "innerException":
        null}}}}], "name": "", "description": "", "tags": null, "system_metrics":
        {"duration": 0.239272, "prompt_tokens": 0, "completion_tokens": 0, "total_tokens":
        0}, "result": null, "upload_metrics": false, "otel_trace_id": "1b66430724866cf8e894613e353fbd2c",
        "message_format": "basic"}, {"run_id": "resume_from_run_with_image_and_aggregation_node_8",
        "status": "Failed", "error": {"message": "Execution failure in ''flip_image'':
        (ValueError) Random failure", "messageFormat": "Execution failure in ''{node_name}''.",
        "messageParameters": {"node_name": "flip_image"}, "referenceCode": "Tool/__pf_main__",
        "code": "UserError", "innerError": {"code": "ToolExecutionError", "innerError":
        null}, "additionalInfo": [{"type": "ToolExecutionErrorDetails", "info": {"type":
        "ValueError", "message": "Random failure", "traceback": "Traceback (most recent
        call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\nValueError:
        Random failure\n", "filename": "/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py",
        "lineno": 12, "name": "passthrough"}}], "debugInfo": {"type": "ToolExecutionError",
        "message": "Execution failure in ''flip_image'': (ValueError) Random failure",
        "stackTrace": "\nThe above exception was the direct cause of the following
        exception:\n\nTraceback (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 958, in _exec\n    output, aggregation_inputs = self._exec_inner_with_trace(\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 866, in _exec_inner_with_trace\n    output, aggregation_inputs = self._exec_inner(\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 895, in _exec_inner\n    output, nodes_outputs = self._traverse_nodes(inputs,
        context)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 1144, in _traverse_nodes\n    nodes_outputs, bypassed_nodes = self._submit_to_scheduler(context,
        inputs, batch_nodes)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 1181, in _submit_to_scheduler\n    return scheduler.execute(self._line_timeout_sec)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 89, in execute\n    raise e\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 72, in execute\n    self._dag_manager.complete_nodes(self._collect_outputs(completed_futures))\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 113, in _collect_outputs\n    each_node_result = each_future.result()\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/_base.py\",
        line 439, in result\n    return self.__get_result()\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/_base.py\",
        line 391, in __get_result\n    raise self._exception\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/thread.py\",
        line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 134, in _exec_single_node_in_thread\n    result = context.invoke_tool(node,
        f, kwargs=kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 90, in invoke_tool\n    result = self._invoke_tool_inner(node, f, kwargs)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 206, in _invoke_tool_inner\n    raise ToolExecutionError(node_name=node_name,
        module=module) from e\n", "innerException": {"type": "ValueError", "message":
        "Random failure", "stackTrace": "Traceback (most recent call last):\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 182, in _invoke_tool_inner\n    return f(**kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\n", "innerException":
        null}}}, "inputs": {"input_image": {"data:image/png;path": "07306b97-94b8-401e-9fd4-4f865a3c6acb.png"},
        "line_number": 8}, "output": null, "metrics": null, "request": null, "parent_run_id":
        "resume_from_run_with_image_and_aggregation_node", "root_run_id": "resume_from_run_with_image_and_aggregation_node",
        "source_run_id": null, "flow_id": "default_flow_id", "start_time": "2024-04-10T13:24:34.793175Z",
        "end_time": "2024-04-10T13:24:34.873286Z", "index": 8, "api_calls": [{"name":
        "flow", "node_name": "flow", "type": "Flow", "start_time": 1712755474.793175,
        "end_time": 1712755474.873286, "children": [{"name": "passthrough", "type":
        "Function", "inputs": {"input_image": {"data:image/png;path": "4a31bc89-cdb2-47a3-89b8-b1d8f5f0e83c.png"}},
        "output": null, "start_time": 1712755474.796495, "end_time": 1712755474.798833,
        "error": {"message": "Random failure", "type": "ValueError"}, "children":
        [], "node_name": "flip_image", "parent_id": "", "id": "3e4a0323-5c58-4d43-9eaa-762813771458",
        "function": "passthrough", "system_metrics": {}}], "system_metrics": {"duration":
        0.080111, "prompt_tokens": 0, "completion_tokens": 0, "total_tokens": 0},
        "inputs": {"input_image": {"data:image/png;path": "46950169-22ae-47a6-88a0-129d6afa0b89.png"},
        "line_number": 8}, "output": null, "error": {"message": "Execution failure
        in ''flip_image'': (ValueError) Random failure", "messageFormat": "Execution
        failure in ''{node_name}''.", "messageParameters": {"node_name": "flip_image"},
        "referenceCode": "Tool/__pf_main__", "code": "UserError", "innerError": {"code":
        "ToolExecutionError", "innerError": null}, "additionalInfo": [{"type": "ToolExecutionErrorDetails",
        "info": {"type": "ValueError", "message": "Random failure", "traceback": "Traceback
        (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\nValueError:
        Random failure\n", "filename": "/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py",
        "lineno": 12, "name": "passthrough"}}], "debugInfo": {"type": "ToolExecutionError",
        "message": "Execution failure in ''flip_image'': (ValueError) Random failure",
        "stackTrace": "\nThe above exception was the direct cause of the following
        exception:\n\nTraceback (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 958, in _exec\n    output, aggregation_inputs = self._exec_inner_with_trace(\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 866, in _exec_inner_with_trace\n    output, aggregation_inputs = self._exec_inner(\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 895, in _exec_inner\n    output, nodes_outputs = self._traverse_nodes(inputs,
        context)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 1144, in _traverse_nodes\n    nodes_outputs, bypassed_nodes = self._submit_to_scheduler(context,
        inputs, batch_nodes)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 1181, in _submit_to_scheduler\n    return scheduler.execute(self._line_timeout_sec)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 89, in execute\n    raise e\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 72, in execute\n    self._dag_manager.complete_nodes(self._collect_outputs(completed_futures))\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 113, in _collect_outputs\n    each_node_result = each_future.result()\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/_base.py\",
        line 439, in result\n    return self.__get_result()\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/_base.py\",
        line 391, in __get_result\n    raise self._exception\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/thread.py\",
        line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 134, in _exec_single_node_in_thread\n    result = context.invoke_tool(node,
        f, kwargs=kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 90, in invoke_tool\n    result = self._invoke_tool_inner(node, f, kwargs)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 206, in _invoke_tool_inner\n    raise ToolExecutionError(node_name=node_name,
        module=module) from e\n", "innerException": {"type": "ValueError", "message":
        "Random failure", "stackTrace": "Traceback (most recent call last):\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 182, in _invoke_tool_inner\n    return f(**kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\n", "innerException":
        null}}}}], "name": "", "description": "", "tags": null, "system_metrics":
        {"duration": 0.080111, "prompt_tokens": 0, "completion_tokens": 0, "total_tokens":
        0}, "result": null, "upload_metrics": false, "otel_trace_id": "fa63db1793b0990cd589735fc5debb5c",
        "message_format": "basic"}, {"run_id": "resume_from_run_with_image_and_aggregation_node_4",
        "status": "Completed", "error": null, "inputs": {"input_image": {"data:image/png;path":
        "e9c7646a-2f77-4252-abe4-5963a41cb0a6.png"}, "line_number": 4}, "output":
        {"output_image": {"data:image/png;path": "f2e1db73-afbd-4b00-9221-0b310fd64244.png"}},
        "metrics": null, "request": null, "parent_run_id": "resume_from_run_with_image_and_aggregation_node",
        "root_run_id": "resume_from_run_with_image_and_aggregation_node", "source_run_id":
        null, "flow_id": "default_flow_id", "start_time": "2024-04-10T13:24:34.391484Z",
        "end_time": "2024-04-10T13:24:34.798363Z", "index": 4, "api_calls": [{"name":
        "flow", "node_name": "flow", "type": "Flow", "start_time": 1712755474.391484,
        "end_time": 1712755474.798363, "children": [{"name": "passthrough", "type":
        "Function", "inputs": {"input_image": {"data:image/png;path": "1af26553-a35e-4736-ad88-c8511499dafd.png"}},
        "output": {"data:image/png;path": "1a973f2e-a48b-49f2-99e6-1d8582cf6b9e.png"},
        "start_time": 1712755474.394743, "end_time": 1712755474.791906, "error": null,
        "children": [], "node_name": "flip_image", "parent_id": "", "id": "d0efd5e9-d19f-4683-b2c1-88d78bf9fdc8",
        "function": "passthrough", "system_metrics": {}}], "system_metrics": {"duration":
        0.406879, "prompt_tokens": 0, "completion_tokens": 0, "total_tokens": 0},
        "inputs": {"input_image": {"data:image/png;path": "d4969d52-d606-4d64-b882-596d8568980d.png"},
        "line_number": 4}, "output": {"output_image": {"data:image/png;path": "9bcf6c74-f6b7-4282-a6c8-109db90ac695.png"}},
        "error": null}], "name": "", "description": "", "tags": null, "system_metrics":
        {"duration": 0.406879, "prompt_tokens": 0, "completion_tokens": 0, "total_tokens":
        0}, "result": {"output_image": {"data:image/png;path": "f2e1db73-afbd-4b00-9221-0b310fd64244.png"}},
        "upload_metrics": false, "otel_trace_id": "de9c2aa5f261c5abb7602ef32c644d53",
        "message_format": "basic"}, {"run_id": "resume_from_run_with_image_and_aggregation_node_9",
        "status": "Completed", "error": null, "inputs": {"input_image": {"data:image/jpg;path":
        "57c90ab6-a720-461b-b7cc-860975446e6e.jpg"}, "line_number": 9}, "output":
        {"output_image": {"data:image/png;path": "e77b8405-a005-443b-8a19-8e171244c933.png"}},
        "metrics": null, "request": null, "parent_run_id": "resume_from_run_with_image_and_aggregation_node",
        "root_run_id": "resume_from_run_with_image_and_aggregation_node", "source_run_id":
        null, "flow_id": "default_flow_id", "start_time": "2024-04-10T13:24:34.955717Z",
        "end_time": "2024-04-10T13:24:35.086302Z", "index": 9, "api_calls": [{"name":
        "flow", "node_name": "flow", "type": "Flow", "start_time": 1712755474.955717,
        "end_time": 1712755475.086302, "children": [{"name": "passthrough", "type":
        "Function", "inputs": {"input_image": {"data:image/jpg;path": "b500a41e-f4af-4769-98e8-1a6e2ee8314a.jpg"}},
        "output": {"data:image/png;path": "c9e3dc8c-3957-437a-8c7a-2df53f5a1043.png"},
        "start_time": 1712755474.958301, "end_time": 1712755475.080378, "error": null,
        "children": [], "node_name": "flip_image", "parent_id": "", "id": "785c2b0a-b3d2-4663-985d-53f2f55f8d22",
        "function": "passthrough", "system_metrics": {}}], "system_metrics": {"duration":
        0.130585, "prompt_tokens": 0, "completion_tokens": 0, "total_tokens": 0},
        "inputs": {"input_image": {"data:image/jpg;path": "b9e43e98-f5c3-4e56-9302-1dff2841306f.jpg"},
        "line_number": 9}, "output": {"output_image": {"data:image/png;path": "bfd3d7dc-3251-4313-9845-446561d55d3e.png"}},
        "error": null}], "name": "", "description": "", "tags": null, "system_metrics":
        {"duration": 0.130585, "prompt_tokens": 0, "completion_tokens": 0, "total_tokens":
        0}, "result": {"output_image": {"data:image/png;path": "e77b8405-a005-443b-8a19-8e171244c933.png"}},
        "upload_metrics": false, "otel_trace_id": "4ab343db6a48574357bc4e690818a7e0",
        "message_format": "basic"}, {"run_id": "resume_from_run_with_image_and_aggregation_node_13",
        "status": "Failed", "error": {"message": "Execution failure in ''flip_image'':
        (ValueError) Random failure", "messageFormat": "Execution failure in ''{node_name}''.",
        "messageParameters": {"node_name": "flip_image"}, "referenceCode": "Tool/__pf_main__",
        "code": "UserError", "innerError": {"code": "ToolExecutionError", "innerError":
        null}, "additionalInfo": [{"type": "ToolExecutionErrorDetails", "info": {"type":
        "ValueError", "message": "Random failure", "traceback": "Traceback (most recent
        call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\nValueError:
        Random failure\n", "filename": "/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py",
        "lineno": 12, "name": "passthrough"}}], "debugInfo": {"type": "ToolExecutionError",
        "message": "Execution failure in ''flip_image'': (ValueError) Random failure",
        "stackTrace": "\nThe above exception was the direct cause of the following
        exception:\n\nTraceback (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 958, in _exec\n    output, aggregation_inputs = self._exec_inner_with_trace(\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 866, in _exec_inner_with_trace\n    output, aggregation_inputs = self._exec_inner(\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 895, in _exec_inner\n    output, nodes_outputs = self._traverse_nodes(inputs,
        context)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 1144, in _traverse_nodes\n    nodes_outputs, bypassed_nodes = self._submit_to_scheduler(context,
        inputs, batch_nodes)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 1181, in _submit_to_scheduler\n    return scheduler.execute(self._line_timeout_sec)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 89, in execute\n    raise e\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 72, in execute\n    self._dag_manager.complete_nodes(self._collect_outputs(completed_futures))\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 113, in _collect_outputs\n    each_node_result = each_future.result()\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/_base.py\",
        line 439, in result\n    return self.__get_result()\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/_base.py\",
        line 391, in __get_result\n    raise self._exception\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/thread.py\",
        line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 134, in _exec_single_node_in_thread\n    result = context.invoke_tool(node,
        f, kwargs=kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 90, in invoke_tool\n    result = self._invoke_tool_inner(node, f, kwargs)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 206, in _invoke_tool_inner\n    raise ToolExecutionError(node_name=node_name,
        module=module) from e\n", "innerException": {"type": "ValueError", "message":
        "Random failure", "stackTrace": "Traceback (most recent call last):\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 182, in _invoke_tool_inner\n    return f(**kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\n", "innerException":
        null}}}, "inputs": {"input_image": {"data:image/png;path": "5f1ec10c-f6d7-4df8-8fbc-3e012b957fe4.png"},
        "line_number": 13}, "output": null, "metrics": null, "request": null, "parent_run_id":
        "resume_from_run_with_image_and_aggregation_node", "root_run_id": "resume_from_run_with_image_and_aggregation_node",
        "source_run_id": null, "flow_id": "default_flow_id", "start_time": "2024-04-10T13:24:35.478124Z",
        "end_time": "2024-04-10T13:24:35.550689Z", "index": 13, "api_calls": [{"name":
        "flow", "node_name": "flow", "type": "Flow", "start_time": 1712755475.478124,
        "end_time": 1712755475.550689, "children": [{"name": "passthrough", "type":
        "Function", "inputs": {"input_image": {"data:image/png;path": "82e369ef-2255-4796-bbd0-d5b5f7707f58.png"}},
        "output": null, "start_time": 1712755475.483, "end_time": 1712755475.486402,
        "error": {"message": "Random failure", "type": "ValueError"}, "children":
        [], "node_name": "flip_image", "parent_id": "", "id": "752ece69-5174-4a76-bf08-361fc71a4be2",
        "function": "passthrough", "system_metrics": {}}], "system_metrics": {"duration":
        0.072565, "prompt_tokens": 0, "completion_tokens": 0, "total_tokens": 0},
        "inputs": {"input_image": {"data:image/png;path": "36cb2603-177d-453b-8e7a-e133b27d96dc.png"},
        "line_number": 13}, "output": null, "error": {"message": "Execution failure
        in ''flip_image'': (ValueError) Random failure", "messageFormat": "Execution
        failure in ''{node_name}''.", "messageParameters": {"node_name": "flip_image"},
        "referenceCode": "Tool/__pf_main__", "code": "UserError", "innerError": {"code":
        "ToolExecutionError", "innerError": null}, "additionalInfo": [{"type": "ToolExecutionErrorDetails",
        "info": {"type": "ValueError", "message": "Random failure", "traceback": "Traceback
        (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\nValueError:
        Random failure\n", "filename": "/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py",
        "lineno": 12, "name": "passthrough"}}], "debugInfo": {"type": "ToolExecutionError",
        "message": "Execution failure in ''flip_image'': (ValueError) Random failure",
        "stackTrace": "\nThe above exception was the direct cause of the following
        exception:\n\nTraceback (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 958, in _exec\n    output, aggregation_inputs = self._exec_inner_with_trace(\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 866, in _exec_inner_with_trace\n    output, aggregation_inputs = self._exec_inner(\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 895, in _exec_inner\n    output, nodes_outputs = self._traverse_nodes(inputs,
        context)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 1144, in _traverse_nodes\n    nodes_outputs, bypassed_nodes = self._submit_to_scheduler(context,
        inputs, batch_nodes)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 1181, in _submit_to_scheduler\n    return scheduler.execute(self._line_timeout_sec)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 89, in execute\n    raise e\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 72, in execute\n    self._dag_manager.complete_nodes(self._collect_outputs(completed_futures))\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 113, in _collect_outputs\n    each_node_result = each_future.result()\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/_base.py\",
        line 439, in result\n    return self.__get_result()\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/_base.py\",
        line 391, in __get_result\n    raise self._exception\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/thread.py\",
        line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 134, in _exec_single_node_in_thread\n    result = context.invoke_tool(node,
        f, kwargs=kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 90, in invoke_tool\n    result = self._invoke_tool_inner(node, f, kwargs)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 206, in _invoke_tool_inner\n    raise ToolExecutionError(node_name=node_name,
        module=module) from e\n", "innerException": {"type": "ValueError", "message":
        "Random failure", "stackTrace": "Traceback (most recent call last):\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 182, in _invoke_tool_inner\n    return f(**kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\n", "innerException":
        null}}}}], "name": "", "description": "", "tags": null, "system_metrics":
        {"duration": 0.072565, "prompt_tokens": 0, "completion_tokens": 0, "total_tokens":
        0}, "result": null, "upload_metrics": false, "otel_trace_id": "78e7a02b1d7aeb90f6fa99e077e4848d",
        "message_format": "basic"}, {"run_id": "resume_from_run_with_image_and_aggregation_node_12",
        "status": "Completed", "error": null, "inputs": {"input_image": {"data:image/jpg;path":
        "333f98d3-eb20-4ffb-97f6-f8ca3abf15ef.jpg"}, "line_number": 12}, "output":
        {"output_image": {"data:image/png;path": "64207b55-4079-470e-bfa0-3b0d22f2f718.png"}},
        "metrics": null, "request": null, "parent_run_id": "resume_from_run_with_image_and_aggregation_node",
        "root_run_id": "resume_from_run_with_image_and_aggregation_node", "source_run_id":
        null, "flow_id": "default_flow_id", "start_time": "2024-04-10T13:24:35.279453Z",
        "end_time": "2024-04-10T13:24:35.441471Z", "index": 12, "api_calls": [{"name":
        "flow", "node_name": "flow", "type": "Flow", "start_time": 1712755475.279453,
        "end_time": 1712755475.441471, "children": [{"name": "passthrough", "type":
        "Function", "inputs": {"input_image": {"data:image/jpg;path": "49dc0eec-3cb1-483c-a187-8d95e24b2db4.jpg"}},
        "output": {"data:image/png;path": "4904a7bd-c189-4dfc-8d1a-701c60a314dd.png"},
        "start_time": 1712755475.282608, "end_time": 1712755475.435803, "error": null,
        "children": [], "node_name": "flip_image", "parent_id": "", "id": "3bfb0173-11ab-46b2-a7a5-c812a9e3e2fc",
        "function": "passthrough", "system_metrics": {}}], "system_metrics": {"duration":
        0.162018, "prompt_tokens": 0, "completion_tokens": 0, "total_tokens": 0},
        "inputs": {"input_image": {"data:image/jpg;path": "649e6982-f8ec-4357-b63e-cef8db7f9f67.jpg"},
        "line_number": 12}, "output": {"output_image": {"data:image/png;path": "0bc296c1-6bd3-4a3d-98be-070e3d01522d.png"}},
        "error": null}], "name": "", "description": "", "tags": null, "system_metrics":
        {"duration": 0.162018, "prompt_tokens": 0, "completion_tokens": 0, "total_tokens":
        0}, "result": {"output_image": {"data:image/png;path": "64207b55-4079-470e-bfa0-3b0d22f2f718.png"}},
        "upload_metrics": false, "otel_trace_id": "62ec927874f312585eaa7adc453b64c4",
        "message_format": "basic"}, {"run_id": "resume_from_run_with_image_and_aggregation_node_11",
        "status": "Completed", "error": null, "inputs": {"input_image": {"data:image/png;path":
        "5d12e94b-a2e1-474b-9097-ad0f0c34388f.png"}, "line_number": 11}, "output":
        {"output_image": {"data:image/png;path": "7816e6c9-3424-4ecd-9306-131bd0cdf239.png"}},
        "metrics": null, "request": null, "parent_run_id": "resume_from_run_with_image_and_aggregation_node",
        "root_run_id": "resume_from_run_with_image_and_aggregation_node", "source_run_id":
        null, "flow_id": "default_flow_id", "start_time": "2024-04-10T13:24:35.150895Z",
        "end_time": "2024-04-10T13:24:35.479119Z", "index": 11, "api_calls": [{"name":
        "flow", "node_name": "flow", "type": "Flow", "start_time": 1712755475.150895,
        "end_time": 1712755475.479119, "children": [{"name": "passthrough", "type":
        "Function", "inputs": {"input_image": {"data:image/png;path": "4a437013-a9bb-41b8-b5de-7a6237f5d1b1.png"}},
        "output": {"data:image/png;path": "84ea517b-395a-4619-b9a3-10fcd4c8b6b1.png"},
        "start_time": 1712755475.153434, "end_time": 1712755475.472282, "error": null,
        "children": [], "node_name": "flip_image", "parent_id": "", "id": "5814d7d5-82c3-4407-926d-cd6bfe645846",
        "function": "passthrough", "system_metrics": {}}], "system_metrics": {"duration":
        0.328224, "prompt_tokens": 0, "completion_tokens": 0, "total_tokens": 0},
        "inputs": {"input_image": {"data:image/png;path": "f348cfb6-5ba5-49d0-b9b0-c588e6c02f5e.png"},
        "line_number": 11}, "output": {"output_image": {"data:image/png;path": "0d9ec739-4a54-4de8-90a9-6b633c523711.png"}},
        "error": null}], "name": "", "description": "", "tags": null, "system_metrics":
        {"duration": 0.328224, "prompt_tokens": 0, "completion_tokens": 0, "total_tokens":
        0}, "result": {"output_image": {"data:image/png;path": "7816e6c9-3424-4ecd-9306-131bd0cdf239.png"}},
        "upload_metrics": false, "otel_trace_id": "5bee2984f57b53d64d0b0206fee8e692",
        "message_format": "basic"}, {"run_id": "resume_from_run_with_image_and_aggregation_node_10",
        "status": "Completed", "error": null, "inputs": {"input_image": {"data:image/png;path":
        "3abfc944-8a78-431e-998f-837463a49ee6.png"}, "line_number": 10}, "output":
        {"output_image": {"data:image/png;path": "2c360941-e0e3-48ac-b1b3-a54ca555ccba.png"}},
        "metrics": null, "request": null, "parent_run_id": "resume_from_run_with_image_and_aggregation_node",
        "root_run_id": "resume_from_run_with_image_and_aggregation_node", "source_run_id":
        null, "flow_id": "default_flow_id", "start_time": "2024-04-10T13:24:35.105967Z",
        "end_time": "2024-04-10T13:24:35.553222Z", "index": 10, "api_calls": [{"name":
        "flow", "node_name": "flow", "type": "Flow", "start_time": 1712755475.105967,
        "end_time": 1712755475.553222, "children": [{"name": "passthrough", "type":
        "Function", "inputs": {"input_image": {"data:image/png;path": "97ac89c4-786a-4b12-8d8e-b2fcdbf45b65.png"}},
        "output": {"data:image/png;path": "fdbdcb0f-2255-4e91-b58c-f64a84e0350c.png"},
        "start_time": 1712755475.109231, "end_time": 1712755475.544655, "error": null,
        "children": [], "node_name": "flip_image", "parent_id": "", "id": "4fc8973c-9bd8-425e-9fc7-7af25dd5df99",
        "function": "passthrough", "system_metrics": {}}], "system_metrics": {"duration":
        0.447255, "prompt_tokens": 0, "completion_tokens": 0, "total_tokens": 0},
        "inputs": {"input_image": {"data:image/png;path": "0e80a5b7-4d61-40f4-8fbf-463548f86dfc.png"},
        "line_number": 10}, "output": {"output_image": {"data:image/png;path": "9e10190b-c162-48fa-8d1d-b3e4bdabd580.png"}},
        "error": null}], "name": "", "description": "", "tags": null, "system_metrics":
        {"duration": 0.447255, "prompt_tokens": 0, "completion_tokens": 0, "total_tokens":
        0}, "result": {"output_image": {"data:image/png;path": "2c360941-e0e3-48ac-b1b3-a54ca555ccba.png"}},
        "upload_metrics": false, "otel_trace_id": "d1495874e228686b4b7383c1a8eff4ad",
        "message_format": "basic"}, {"run_id": "resume_from_run_with_image_and_aggregation_node_14",
        "status": "Completed", "error": null, "inputs": {"input_image": {"data:image/png;path":
        "6c12b3f9-3e98-43c7-95f7-84e9392468f4.png"}, "line_number": 14}, "output":
        {"output_image": {"data:image/png;path": "c6056fdc-200d-47e3-821a-e789ee8caf65.png"}},
        "metrics": null, "request": null, "parent_run_id": "resume_from_run_with_image_and_aggregation_node",
        "root_run_id": "resume_from_run_with_image_and_aggregation_node", "source_run_id":
        null, "flow_id": "default_flow_id", "start_time": "2024-04-10T13:24:35.834893Z",
        "end_time": "2024-04-10T13:24:36.073001Z", "index": 14, "api_calls": [{"name":
        "flow", "node_name": "flow", "type": "Flow", "start_time": 1712755475.834893,
        "end_time": 1712755476.073001, "children": [{"name": "passthrough", "type":
        "Function", "inputs": {"input_image": {"data:image/png;path": "cc5af545-9316-4467-bce2-1030acbc8868.png"}},
        "output": {"data:image/png;path": "608b9a22-254c-49aa-b11c-266feed8221e.png"},
        "start_time": 1712755475.837217, "end_time": 1712755476.068793, "error": null,
        "children": [], "node_name": "flip_image", "parent_id": "", "id": "dcc087a7-8a75-4e5d-b3d5-c9e1293aded7",
        "function": "passthrough", "system_metrics": {}}], "system_metrics": {"duration":
        0.238108, "prompt_tokens": 0, "completion_tokens": 0, "total_tokens": 0},
        "inputs": {"input_image": {"data:image/png;path": "23e97ae3-0cbb-4a1a-bb3a-49e32efdda35.png"},
        "line_number": 14}, "output": {"output_image": {"data:image/png;path": "6d27256a-3c90-4061-92b7-2f799e5c1fd6.png"}},
        "error": null}], "name": "", "description": "", "tags": null, "system_metrics":
        {"duration": 0.238108, "prompt_tokens": 0, "completion_tokens": 0, "total_tokens":
        0}, "result": {"output_image": {"data:image/png;path": "c6056fdc-200d-47e3-821a-e789ee8caf65.png"}},
        "upload_metrics": false, "otel_trace_id": "9613374c136e7a283e56dfc9396c59a0",
        "message_format": "basic"}]'
    headers:
      connection:
      - keep-alive
      content-length:
      - '106356'
      content-type:
      - application/json; charset=utf-8
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-request-time:
      - '0.712'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - promptflow-azure-sdk/1.0.0.dev0 azsdk-python-azuremachinelearningdesignerserviceclient/unknown
        Python/3.9.19 (Windows-10-10.0.22631-SP0)
    method: GET
    uri: https://eastus.api.azureml.ms/flow/api/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/BulkRuns/resume_from_run_with_image_and_aggregation_node/childRuns?endIndex=49&startIndex=25
  response:
    body:
      string: '[]'
    headers:
      connection:
      - keep-alive
      content-length:
      - '2'
      content-type:
      - application/json; charset=utf-8
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      x-content-type-options:
      - nosniff
      x-request-time:
      - '0.678'
    status:
      code: 200
      message: OK
- request:
    body: '{"runId": "name", "resumeFromRunId": "resume_from_run_with_image_and_aggregation_node"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '119'
      Content-Type:
      - application/json
      User-Agent:
      - promptflow-azure-sdk/1.0.0.dev0 azsdk-python-azuremachinelearningdesignerserviceclient/unknown
        Python/3.9.19 (Windows-10-10.0.22631-SP0)
    method: POST
    uri: https://eastus.api.azureml.ms/flow/api/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/BulkRuns/resume
  response:
    body:
      string: '"name"'
    headers:
      connection:
      - keep-alive
      content-length:
      - '38'
      content-type:
      - application/json; charset=utf-8
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      x-content-type-options:
      - nosniff
      x-request-time:
      - '4.021'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - promptflow-azure-sdk/1.0.0.dev0 azsdk-python-azuremachinelearningdesignerserviceclient/unknown
        Python/3.9.19 (Windows-10-10.0.22631-SP0)
    method: GET
    uri: https://eastus.api.azureml.ms/flow/api/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/BulkRuns/name
  response:
    body:
      string: '{"flowGraph": {"nodes": [{"name": "flip_image", "type": "python", "source":
        {"type": "code", "path": "flip_image.py"}, "inputs": {"input_image": "${inputs.input_image}"},
        "tool": "flip_image.py", "reduce": false}, {"name": "count_image", "type":
        "python", "source": {"type": "code", "path": "count_image.py"}, "inputs":
        {"images": "${flip_image.output}"}, "tool": "count_image.py", "reduce": true}],
        "tools": [{"name": "Azure OpenAI GPT-4 Turbo with Vision", "type": "custom_llm",
        "inputs": {"connection": {"type": ["AzureOpenAIConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        0}}, "deployment_name": {"type": ["string"], "enabled_by": "connection", "dynamic_list":
        {"func_path": "promptflow.tools.aoai_gpt4v.list_deployment_names", "func_kwargs":
        [{"name": "connection", "reference": "${inputs.connection}", "type": ["AzureOpenAIConnection"]}]},
        "allow_manual_entry": true, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 1}}, "frequency_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 7}}, "max_tokens": {"type": ["int"], "default": 512,
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 4}}, "presence_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 6}}, "seed": {"type": ["int"], "default": "", "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        8}}, "stop": {"type": ["list"], "default": "", "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 5}},
        "temperature": {"type": ["double"], "default": 1, "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 2}},
        "top_p": {"type": ["double"], "default": 1, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "ui_hints": {"index": 3}}}, "description":
        "Use Azure OpenAI GPT-4 Turbo with Vision to leverage AOAI vision ability.",
        "module": "promptflow.tools.aoai_gpt4v", "class_name": "AzureOpenAI", "function":
        "chat", "icon": {"dark": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA2ElEQVR4nJXSzW3CQBAF4DUSTjk+Al1AD0ikESslpBIEheRALhEpgAYSWV8OGUublf/yLuP3PPNmdndS+gdwXZrYDmh7fGE/W+wXbaYd8IYm4rxJPnZ0boI3wZcdJxs/n+AwV7DFK7aFyfQdYIMLPvES8YJNf5yp4jMeeEYdWh38gXOR35YGHe5xabvQdsHv6PLi8qV6gycc8YH3iMfQu6Lh4ASr+F5Hh3XwVWnQYzUkVlX1nccplAb1SN6Y/sfgmlK64VS8wimldIv/0yj2QLkHizG0iWP4AVAfQ34DVQONAAAAAElFTkSuQmCC",
        "light": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAx0lEQVR4nJWSwQ2CQBBFX0jAcjgqXUgPJNiIsQQrIVCIFy8GC6ABDcGDX7Mus9n1Xz7zZ+fPsLPwH4bUg0dD2wMPcbR48Uxq4AKU4iSTDwZ1LhWXipN/B3V0J6hjBTvgLHZNonewBXrgDpzEvXSIjN0BE3AACmmF4kl5F6tNzcCoLpW0SvGovFvsb4oZ2AANcAOu4ka6axCcINN3rg654sww+CYsPD0OwjcozFNh/Qcd78tqVbCIW+n+Fky472Bh/Q6SYb1EEy8tDzd+9IsVPAAAAABJRU5ErkJggg=="},
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "default_prompt": "# system:\nAs an AI assistant, your task involves interpreting
        images and responding to questions about the image.\nRemember to provide accurate
        answers based on the information present in the image.\n\n# user:\nCan you
        tell me what the image depicts?\n![image]({{image_input}})\n", "enable_kwargs":
        false, "tool_state": "preview"}, {"name": "Content Safety (Text Analyze)",
        "type": "python", "inputs": {"connection": {"type": ["AzureContentSafetyConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "hate_category": {"type": ["string"], "default": "medium_sensitivity", "enum":
        ["disable", "low_sensitivity", "medium_sensitivity", "high_sensitivity"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "self_harm_category": {"type": ["string"], "default": "medium_sensitivity",
        "enum": ["disable", "low_sensitivity", "medium_sensitivity", "high_sensitivity"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "sexual_category": {"type": ["string"], "default": "medium_sensitivity", "enum":
        ["disable", "low_sensitivity", "medium_sensitivity", "high_sensitivity"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "text": {"type": ["string"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "violence_category": {"type": ["string"],
        "default": "medium_sensitivity", "enum": ["disable", "low_sensitivity", "medium_sensitivity",
        "high_sensitivity"], "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}}, "description": "Use Azure Content Safety to detect
        harmful content.", "module": "promptflow.tools.azure_content_safety", "function":
        "analyze_text", "is_builtin": true, "package": "promptflow-tools", "package_version":
        "1.4.0rc3", "enable_kwargs": false, "deprecated_tools": ["content_safety_text.tools.content_safety_text_tool.analyze_text"],
        "tool_state": "stable"}, {"name": "Embedding", "type": "python", "inputs":
        {"connection": {"type": ["AzureOpenAIConnection", "OpenAIConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "deployment_name":
        {"type": ["string"], "enabled_by": "connection", "enabled_by_type": ["AzureOpenAIConnection"],
        "model_list": ["text-embedding-ada-002", "text-search-ada-doc-001", "text-search-ada-query-001"],
        "capabilities": {"completion": false, "chat_completion": false, "embeddings":
        true}, "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}, "input": {"type": ["string"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "model": {"type": ["string"], "enum": ["text-embedding-ada-002",
        "text-search-ada-doc-001", "text-search-ada-query-001"], "enabled_by": "connection",
        "enabled_by_type": ["OpenAIConnection"], "allow_manual_entry": true, "is_multi_select":
        false, "input_type": "default"}}, "description": "Use OpenAI''s embedding
        model to create an embedding vector representing the input text.", "module":
        "promptflow.tools.embedding", "function": "embedding", "is_builtin": true,
        "package": "promptflow-tools", "package_version": "1.4.0rc3", "enable_kwargs":
        false, "tool_state": "stable"}, {"name": "Open Model LLM", "type": "custom_llm",
        "inputs": {"api": {"type": ["string"], "enum": ["chat", "completion"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        2}}, "deployment_name": {"type": ["string"], "default": "", "dynamic_list":
        {"func_path": "promptflow.tools.open_model_llm.list_deployment_names", "func_kwargs":
        [{"name": "endpoint", "optional": true, "reference": "${inputs.endpoint}",
        "type": ["string"]}]}, "allow_manual_entry": true, "is_multi_select": false,
        "input_type": "default", "ui_hints": {"index": 1}}, "endpoint_name": {"type":
        ["string"], "dynamic_list": {"func_path": "promptflow.tools.open_model_llm.list_endpoint_names"},
        "allow_manual_entry": true, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 0}}, "max_new_tokens": {"type": ["int"], "default":
        500, "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default", "ui_hints": {"index": 4}}, "model_kwargs": {"type": ["object"],
        "default": "{}", "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default", "advanced": true, "ui_hints": {"index": 6}}, "temperature": {"type":
        ["double"], "default": 1.0, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "ui_hints": {"index": 3}}, "top_p": {"type":
        ["double"], "default": 1.0, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "advanced": true, "ui_hints": {"index": 5}}},
        "description": "Use an open model from the Azure Model catalog, deployed to
        an AzureML Online Endpoint for LLM Chat or Completion API calls.", "module":
        "promptflow.tools.open_model_llm", "class_name": "OpenModelLLM", "function":
        "call", "icon": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACgElEQVR4nGWSz2vcVRTFP/e9NzOZ1KDGohASslLEH6VLV0ak4l/QpeDCrfQPcNGliODKnVm4EBdBsIjQIlhciKW0ycKFVCSNbYnjdDLtmPnmO/nO9917XcxMkjYX3uLx7nnn3HOuMK2Nix4fP78ZdrYXVkLVWjf3l3B1B+HpcjzGFtmqa6cePz7/x0dnn1n5qhj3iBJPYREIURAJuCtpY8PjReDbrf9WG7H1fuefwQU9qKztTcMJT+PNnEFvjGVDBDlSsH6p/9MLzy6+NxwVqI8RAg4IPmWedMckdLYP6O6UpIaQfvyyXG012+e79/ZfHukoS1ISMT2hGTB1RkUmNgQ5QZ0w+a2VWDq73MbdEWmfnnv6UWe7oNzPaLapl5CwuLTXK9WUGBuCjqekzhP+z52ZXOrKMD3OJg0Hh778aiOuvpnYvp05d6GJO4iAO4QAe/eV36/X5LFRV4Zmn+AdkqlL8Vjp3oVioOz+WTPzzYEgsN+fgPLYyJVheSbPPVl2ikeGZRjtG52/8rHuaV9VOlpP2OtKyVndcRVCSqOhsvxa4vW359i6OuKdD+aP8Q4SYPdOzS/flGjt1JUSaMqZ5nwa1Y8qWb/Ud/eZZkHisYezEM0m+fcelDr8F1SqW2LNK6r1jXQwyLzy1hxvrLXZulry7ocL+FS6G4QIu3fG/Px1gdYeW7LIgXU2P/115TOA5G7e3Rmj2aS/m7l5pThiZzrCcE/d1XHzbln373nw7y6veeoUm5KCNKT/IPPwbiY1hYd/l5MIT65BMFt87sU4v9D7/JMflr44uV6hGh1+L4RCkg6z5iK2tAhNLeLsNGwYA4fDYnC/drvuuFxe86NV/x+Ut27g0FvykgAAAABJRU5ErkJggg==",
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "enable_kwargs": false, "tool_state": "stable"}, {"name": "OpenAI GPT-4V",
        "type": "custom_llm", "inputs": {"connection": {"type": ["OpenAIConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 0}}, "frequency_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 7}}, "max_tokens": {"type": ["int"], "default": 512,
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 4}}, "model": {"type": ["string"], "enum": ["gpt-4-vision-preview"],
        "allow_manual_entry": true, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 1}}, "presence_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 6}}, "seed": {"type": ["int"], "default": "", "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        8}}, "stop": {"type": ["list"], "default": "", "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 5}},
        "temperature": {"type": ["double"], "default": 1, "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 2}},
        "top_p": {"type": ["double"], "default": 1, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "ui_hints": {"index": 3}}}, "description":
        "Use OpenAI GPT-4V to leverage vision ability.", "module": "promptflow.tools.openai_gpt4v",
        "class_name": "OpenAI", "function": "chat", "icon": {"dark": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA2ElEQVR4nJXSzW3CQBAF4DUSTjk+Al1AD0ikESslpBIEheRALhEpgAYSWV8OGUublf/yLuP3PPNmdndS+gdwXZrYDmh7fGE/W+wXbaYd8IYm4rxJPnZ0boI3wZcdJxs/n+AwV7DFK7aFyfQdYIMLPvES8YJNf5yp4jMeeEYdWh38gXOR35YGHe5xabvQdsHv6PLi8qV6gycc8YH3iMfQu6Lh4ASr+F5Hh3XwVWnQYzUkVlX1nccplAb1SN6Y/sfgmlK64VS8wimldIv/0yj2QLkHizG0iWP4AVAfQ34DVQONAAAAAElFTkSuQmCC",
        "light": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAx0lEQVR4nJWSwQ2CQBBFX0jAcjgqXUgPJNiIsQQrIVCIFy8GC6ABDcGDX7Mus9n1Xz7zZ+fPsLPwH4bUg0dD2wMPcbR48Uxq4AKU4iSTDwZ1LhWXipN/B3V0J6hjBTvgLHZNonewBXrgDpzEvXSIjN0BE3AACmmF4kl5F6tNzcCoLpW0SvGovFvsb4oZ2AANcAOu4ka6axCcINN3rg654sww+CYsPD0OwjcozFNh/Qcd78tqVbCIW+n+Fky472Bh/Q6SYb1EEy8tDzd+9IsVPAAAAABJRU5ErkJggg=="},
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "default_prompt": "# system:\nAs an AI assistant, your task involves interpreting
        images and responding to questions about the image.\nRemember to provide accurate
        answers based on the information present in the image.\n\n# user:\nCan you
        tell me what the image depicts?\n![image]({{image_input}})\n", "enable_kwargs":
        false, "tool_state": "preview"}, {"name": "Serp API", "type": "python", "inputs":
        {"connection": {"type": ["SerpConnection"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "engine": {"type": ["string"], "default":
        "google", "enum": ["google", "bing"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "location": {"type": ["string"], "default":
        "", "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "num": {"type": ["int"], "default": "10", "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "query": {"type": ["string"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "safe": {"type":
        ["string"], "default": "off", "enum": ["active", "off"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}}, "description":
        "Use Serp API to obtain search results from a specific search engine.", "module":
        "promptflow.tools.serpapi", "class_name": "SerpAPI", "function": "search",
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "enable_kwargs": false, "tool_state": "stable"}, {"name": "Index Lookup",
        "type": "python", "inputs": {"acs_content_field": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["Azure AI Search"], "dynamic_list": {"func_path":
        "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_fields",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}, {"default": "Edm.String", "name": "field_data_type",
        "optional": false, "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "uionly_hidden"}, "acs_embedding_field": {"type": ["string"],
        "enabled_by": "index_type", "enabled_by_value": ["Azure AI Search"], "dynamic_list":
        {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_fields",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}, {"default": "Collection(Edm.Single)", "name": "field_data_type",
        "optional": false, "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "uionly_hidden"}, "acs_index_connection": {"type": ["CognitiveSearchConnection"],
        "enabled_by": "index_type", "enabled_by_value": ["Azure AI Search"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "uionly_hidden"}, "acs_index_name":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Azure
        AI Search"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_indices",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]}]},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "acs_metadata_field": {"type": ["string"], "enabled_by": "index_type", "enabled_by_value":
        ["Azure AI Search"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_fields",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}, {"default": "Edm.String", "name": "field_data_type",
        "optional": false, "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "uionly_hidden"}, "aoai_embedding_connection": {"type":
        ["AzureOpenAIConnection"], "enabled_by": "embedding_type", "enabled_by_value":
        ["Azure OpenAI"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "uionly_hidden"}, "embedding_deployment": {"type": ["string"], "enabled_by":
        "embedding_type", "enabled_by_value": ["Azure OpenAI"], "dynamic_list": {"func_path":
        "promptflow_vectordb.tool.common_index_lookup_utils.list_aoai_embedding_deployments",
        "func_kwargs": [{"name": "aoai_connection", "optional": false, "reference":
        "${inputs.aoai_embedding_connection}", "type": ["AzurOpenAIConnection"]}]},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "embedding_model": {"type": ["string"], "enabled_by": "embedding_type", "enabled_by_value":
        ["OpenAI", "Hugging Face"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_embedding_models",
        "func_kwargs": [{"name": "embedding_type", "optional": false, "reference":
        "${inputs.embedding_type}", "type": ["string"]}]}, "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "uionly_hidden"}, "embedding_type":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Azure
        AI Search", "FAISS", "Pinecone"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_available_embedding_types",
        "func_kwargs": [{"name": "index_type", "optional": false, "reference": "${inputs.index_type}",
        "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "uionly_hidden"}, "faiss_index_path": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["FAISS"], "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "uionly_hidden"}, "index_type": {"type":
        ["string"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_available_index_types"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "mlindex_asset_id": {"type": ["string"], "enabled_by": "index_type", "enabled_by_value":
        ["Registered Index"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_registered_mlindices"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "mlindex_content": {"type": ["string"], "allow_manual_entry": false, "is_multi_select":
        false, "generated_by": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.forward_mapping",
        "func_kwargs": [{"name": "index_type", "reference": "${inputs.index_type}",
        "type": ["string"]}, {"name": "mlindex_asset_id", "optional": true, "reference":
        "${inputs.mlindex_asset_id}", "type": ["string"]}, {"name": "mlindex_path",
        "optional": true, "reference": "${inputs.mlindex_path}", "type": ["string"]},
        {"name": "acs_index_connection", "optional": true, "reference": "${inputs.acs_index_connection}",
        "type": ["CognitiveSearchConnection"]}, {"name": "acs_index_name", "optional":
        true, "reference": "${inputs.acs_index_name}", "type": ["string"]}, {"name":
        "acs_content_field", "optional": true, "reference": "${inputs.acs_content_field}",
        "type": ["string"]}, {"name": "acs_embedding_field", "optional": true, "reference":
        "${inputs.acs_embedding_field}", "type": ["string"]}, {"name": "acs_metadata_field",
        "optional": true, "reference": "${inputs.acs_metadata_field}", "type": ["string"]},
        {"name": "semantic_configuration", "optional": true, "reference": "${inputs.semantic_configuration}",
        "type": ["string"]}, {"name": "faiss_index_path", "optional": true, "reference":
        "${inputs.faiss_index_path}", "type": ["string"]}, {"name": "pinecone_index_connection",
        "optional": true, "reference": "${inputs.pinecone_index_connection}", "type":
        ["string"]}, {"name": "pinecone_index_name", "optional": true, "reference":
        "${inputs.pinecone_index_name}", "type": ["string"]}, {"name": "pinecone_content_field",
        "optional": true, "reference": "${inputs.pinecone_content_field}", "type":
        ["string"]}, {"name": "pinecone_metadata_field", "optional": true, "reference":
        "${inputs.pinecone_metadata_field}", "type": ["string"]}, {"name": "embedding_type",
        "optional": true, "reference": "${inputs.embedding_type}", "type": ["string"]},
        {"name": "aoai_embedding_connection", "optional": true, "reference": "${inputs.aoai_embedding_connection}",
        "type": ["AzureOpenAIConnection"]}, {"name": "oai_embedding_connection", "optional":
        true, "reference": "${inputs.oai_embedding_connection}", "type": ["string"]},
        {"name": "embedding_model", "optional": true, "reference": "${inputs.embedding_model}",
        "type": ["string"]}, {"name": "embedding_deployment", "optional": true, "reference":
        "${inputs.embedding_deployment}", "type": ["string"]}, {"name": "serverless_embedding_connection",
        "optional": true, "reference": "${inputs.serverless_embedding_connection}",
        "type": ["string"]}], "reverse_func_path": "promptflow_vectordb.tool.common_index_lookup_utils.reverse_mapping"},
        "input_type": "default"}, "mlindex_path": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["MLIndex file from path"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "uionly_hidden"}, "oai_embedding_connection":
        {"type": ["OpenAIConnection"], "enabled_by": "embedding_type", "enabled_by_value":
        ["OpenAI"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "uionly_hidden"}, "pinecone_content_field": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["Pinecone"], "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "uionly_hidden"}, "pinecone_index_connection":
        {"type": ["PineconeConnection"], "enabled_by": "index_type", "enabled_by_value":
        ["Pinecone"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_pinecone_connections"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "pinecone_index_name": {"type": ["string"], "enabled_by": "index_type", "enabled_by_value":
        ["Pinecone"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_pinecone_indices",
        "func_kwargs": [{"name": "pinecone_connection_name", "optional": false, "reference":
        "${inputs.pinecone_index_connection}", "type": ["string"]}]}, "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "uionly_hidden"}, "pinecone_metadata_field":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Pinecone"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "queries": {"type": ["object"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "query_type": {"type": ["string"], "dynamic_list":
        {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_available_query_types",
        "func_kwargs": [{"name": "mlindex_content", "optional": false, "reference":
        "${inputs.mlindex_content}", "type": ["string"]}]}, "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "semantic_configuration":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Azure
        AI Search"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_semantic_configurations",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "uionly_hidden"}, "serverless_embedding_connection": {"type":
        ["string"], "enabled_by": "embedding_type", "enabled_by_value": ["Serverless
        Endpoint"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_serverless_embedding_connections"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "top_k": {"type": ["int"], "default": 3, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}}, "description": "Search an AzureML Vector
        Index for relevant results using one or more text queries.", "module": "promptflow_vectordb.tool.common_index_lookup",
        "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "preview"},
        {"name": "Faiss Index Lookup", "type": "python", "inputs": {"path": {"type":
        ["string"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}, "top_k": {"type": ["int"], "default": "3", "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "vector": {"type":
        ["list"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}}, "description": "Search vector based query from the FAISS index
        file.", "module": "promptflow_vectordb.tool.faiss_index_lookup", "class_name":
        "FaissIndexLookup", "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "archived"},
        {"name": "Vector DB Lookup", "type": "python", "inputs": {"class_name": {"type":
        ["string"], "enabled_by": "connection", "enabled_by_type": ["WeaviateConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "collection_name": {"type": ["string"], "enabled_by": "connection", "enabled_by_type":
        ["QdrantConnection"], "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}, "connection": {"type": ["CognitiveSearchConnection",
        "QdrantConnection", "WeaviateConnection"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "index_name": {"type": ["string"], "enabled_by":
        "connection", "enabled_by_type": ["CognitiveSearchConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "search_filters":
        {"type": ["object"], "enabled_by": "connection", "enabled_by_type": ["CognitiveSearchConnection",
        "QdrantConnection"], "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}, "search_params": {"type": ["object"], "enabled_by":
        "connection", "enabled_by_type": ["CognitiveSearchConnection", "QdrantConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "text_field": {"type": ["string"], "enabled_by": "connection", "enabled_by_type":
        ["CognitiveSearchConnection", "QdrantConnection", "WeaviateConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "top_k": {"type":
        ["int"], "default": "3", "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}, "vector": {"type": ["list"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "vector_field":
        {"type": ["string"], "enabled_by": "connection", "enabled_by_type": ["CognitiveSearchConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"}},
        "description": "Search vector based query from existing Vector Database.",
        "module": "promptflow_vectordb.tool.vector_db_lookup", "class_name": "VectorDBLookup",
        "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "archived"},
        {"name": "Vector Index Lookup", "type": "python", "inputs": {"path": {"type":
        ["string"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}, "query": {"type": ["object"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "top_k": {"type": ["int"], "default": "3",
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"}},
        "description": "Search text or vector based query from AzureML Vector Index.",
        "module": "promptflow_vectordb.tool.vector_index_lookup", "class_name": "VectorIndexLookup",
        "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "archived"},
        {"name": "count_image.py", "type": "python", "inputs": {"images": {"type":
        ["object"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}}, "source": "count_image.py", "function": "aggregate", "is_builtin":
        false, "enable_kwargs": false, "tool_state": "stable"}, {"name": "flip_image.py",
        "type": "python", "inputs": {"input_image": {"type": ["image"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}}, "source": "flip_image.py",
        "function": "passthrough", "is_builtin": false, "enable_kwargs": false, "tool_state":
        "stable"}], "inputs": {"input_image": {"type": "image", "default": "https://developer.microsoft.com/_devcom/images/logo-ms-social.png",
        "is_chat_input": false}}, "outputs": {"output_image": {"type": "string", "reference":
        "${flip_image.output}", "evaluation_only": false, "is_chat_output": false}}},
        "flowRunResourceId": "azureml://locations/eastus/workspaces/00000/flows/name/flowRuns/name",
        "flowRunId": "name", "flowRunDisplayName": "resume_from_run_with_image_and_aggregation_node",
        "batchDataInput": {"dataUri": "azureml://datastores/workspaceblobstore/paths/LocalUpload/f0a11846460e7f82ede2efcac357243a/input_data/"},
        "flowRunType": "FlowRun", "flowType": "Default", "runtimeName": "automatic",
        "inputsMapping": {"input_image": "${data.input_image}"}, "outputDatastoreName":
        "workspaceblobstore", "childRunBasePath": "promptflow/PromptFlowArtifacts/name/name/flow_artifacts",
        "flowDagFileRelativePath": "flow.dag.yaml", "flowSnapshotId": "5736ca27-2c86-4efa-b25b-786d71f83a72",
        "sessionId": "name", "studioPortalEndpoint": "https://ml.azure.com/runs/name?wsid=/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000"}'
    headers:
      connection:
      - keep-alive
      content-length:
      - '28283'
      content-type:
      - application/json; charset=utf-8
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-request-time:
      - '0.217'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - promptflow-azure-sdk/1.0.0.dev0 azsdk-python-azuremachinelearningdesignerserviceclient/unknown
        Python/3.9.19 (Windows-10-10.0.22631-SP0)
    method: GET
    uri: https://eastus.api.azureml.ms/flow/api/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/BulkRuns/name
  response:
    body:
      string: '{"flowGraph": {"nodes": [{"name": "flip_image", "type": "python", "source":
        {"type": "code", "path": "flip_image.py"}, "inputs": {"input_image": "${inputs.input_image}"},
        "tool": "flip_image.py", "reduce": false}, {"name": "count_image", "type":
        "python", "source": {"type": "code", "path": "count_image.py"}, "inputs":
        {"images": "${flip_image.output}"}, "tool": "count_image.py", "reduce": true}],
        "tools": [{"name": "Azure OpenAI GPT-4 Turbo with Vision", "type": "custom_llm",
        "inputs": {"connection": {"type": ["AzureOpenAIConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        0}}, "deployment_name": {"type": ["string"], "enabled_by": "connection", "dynamic_list":
        {"func_path": "promptflow.tools.aoai_gpt4v.list_deployment_names", "func_kwargs":
        [{"name": "connection", "reference": "${inputs.connection}", "type": ["AzureOpenAIConnection"]}]},
        "allow_manual_entry": true, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 1}}, "frequency_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 7}}, "max_tokens": {"type": ["int"], "default": 512,
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 4}}, "presence_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 6}}, "seed": {"type": ["int"], "default": "", "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        8}}, "stop": {"type": ["list"], "default": "", "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 5}},
        "temperature": {"type": ["double"], "default": 1, "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 2}},
        "top_p": {"type": ["double"], "default": 1, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "ui_hints": {"index": 3}}}, "description":
        "Use Azure OpenAI GPT-4 Turbo with Vision to leverage AOAI vision ability.",
        "module": "promptflow.tools.aoai_gpt4v", "class_name": "AzureOpenAI", "function":
        "chat", "icon": {"dark": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA2ElEQVR4nJXSzW3CQBAF4DUSTjk+Al1AD0ikESslpBIEheRALhEpgAYSWV8OGUublf/yLuP3PPNmdndS+gdwXZrYDmh7fGE/W+wXbaYd8IYm4rxJPnZ0boI3wZcdJxs/n+AwV7DFK7aFyfQdYIMLPvES8YJNf5yp4jMeeEYdWh38gXOR35YGHe5xabvQdsHv6PLi8qV6gycc8YH3iMfQu6Lh4ASr+F5Hh3XwVWnQYzUkVlX1nccplAb1SN6Y/sfgmlK64VS8wimldIv/0yj2QLkHizG0iWP4AVAfQ34DVQONAAAAAElFTkSuQmCC",
        "light": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAx0lEQVR4nJWSwQ2CQBBFX0jAcjgqXUgPJNiIsQQrIVCIFy8GC6ABDcGDX7Mus9n1Xz7zZ+fPsLPwH4bUg0dD2wMPcbR48Uxq4AKU4iSTDwZ1LhWXipN/B3V0J6hjBTvgLHZNonewBXrgDpzEvXSIjN0BE3AACmmF4kl5F6tNzcCoLpW0SvGovFvsb4oZ2AANcAOu4ka6axCcINN3rg654sww+CYsPD0OwjcozFNh/Qcd78tqVbCIW+n+Fky472Bh/Q6SYb1EEy8tDzd+9IsVPAAAAABJRU5ErkJggg=="},
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "default_prompt": "# system:\nAs an AI assistant, your task involves interpreting
        images and responding to questions about the image.\nRemember to provide accurate
        answers based on the information present in the image.\n\n# user:\nCan you
        tell me what the image depicts?\n![image]({{image_input}})\n", "enable_kwargs":
        false, "tool_state": "preview"}, {"name": "Content Safety (Text Analyze)",
        "type": "python", "inputs": {"connection": {"type": ["AzureContentSafetyConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "hate_category": {"type": ["string"], "default": "medium_sensitivity", "enum":
        ["disable", "low_sensitivity", "medium_sensitivity", "high_sensitivity"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "self_harm_category": {"type": ["string"], "default": "medium_sensitivity",
        "enum": ["disable", "low_sensitivity", "medium_sensitivity", "high_sensitivity"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "sexual_category": {"type": ["string"], "default": "medium_sensitivity", "enum":
        ["disable", "low_sensitivity", "medium_sensitivity", "high_sensitivity"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "text": {"type": ["string"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "violence_category": {"type": ["string"],
        "default": "medium_sensitivity", "enum": ["disable", "low_sensitivity", "medium_sensitivity",
        "high_sensitivity"], "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}}, "description": "Use Azure Content Safety to detect
        harmful content.", "module": "promptflow.tools.azure_content_safety", "function":
        "analyze_text", "is_builtin": true, "package": "promptflow-tools", "package_version":
        "1.4.0rc3", "enable_kwargs": false, "deprecated_tools": ["content_safety_text.tools.content_safety_text_tool.analyze_text"],
        "tool_state": "stable"}, {"name": "Embedding", "type": "python", "inputs":
        {"connection": {"type": ["AzureOpenAIConnection", "OpenAIConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "deployment_name":
        {"type": ["string"], "enabled_by": "connection", "enabled_by_type": ["AzureOpenAIConnection"],
        "model_list": ["text-embedding-ada-002", "text-search-ada-doc-001", "text-search-ada-query-001"],
        "capabilities": {"completion": false, "chat_completion": false, "embeddings":
        true}, "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}, "input": {"type": ["string"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "model": {"type": ["string"], "enum": ["text-embedding-ada-002",
        "text-search-ada-doc-001", "text-search-ada-query-001"], "enabled_by": "connection",
        "enabled_by_type": ["OpenAIConnection"], "allow_manual_entry": true, "is_multi_select":
        false, "input_type": "default"}}, "description": "Use OpenAI''s embedding
        model to create an embedding vector representing the input text.", "module":
        "promptflow.tools.embedding", "function": "embedding", "is_builtin": true,
        "package": "promptflow-tools", "package_version": "1.4.0rc3", "enable_kwargs":
        false, "tool_state": "stable"}, {"name": "Open Model LLM", "type": "custom_llm",
        "inputs": {"api": {"type": ["string"], "enum": ["chat", "completion"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        2}}, "deployment_name": {"type": ["string"], "default": "", "dynamic_list":
        {"func_path": "promptflow.tools.open_model_llm.list_deployment_names", "func_kwargs":
        [{"name": "endpoint", "optional": true, "reference": "${inputs.endpoint}",
        "type": ["string"]}]}, "allow_manual_entry": true, "is_multi_select": false,
        "input_type": "default", "ui_hints": {"index": 1}}, "endpoint_name": {"type":
        ["string"], "dynamic_list": {"func_path": "promptflow.tools.open_model_llm.list_endpoint_names"},
        "allow_manual_entry": true, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 0}}, "max_new_tokens": {"type": ["int"], "default":
        500, "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default", "ui_hints": {"index": 4}}, "model_kwargs": {"type": ["object"],
        "default": "{}", "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default", "advanced": true, "ui_hints": {"index": 6}}, "temperature": {"type":
        ["double"], "default": 1.0, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "ui_hints": {"index": 3}}, "top_p": {"type":
        ["double"], "default": 1.0, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "advanced": true, "ui_hints": {"index": 5}}},
        "description": "Use an open model from the Azure Model catalog, deployed to
        an AzureML Online Endpoint for LLM Chat or Completion API calls.", "module":
        "promptflow.tools.open_model_llm", "class_name": "OpenModelLLM", "function":
        "call", "icon": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACgElEQVR4nGWSz2vcVRTFP/e9NzOZ1KDGohASslLEH6VLV0ak4l/QpeDCrfQPcNGliODKnVm4EBdBsIjQIlhciKW0ycKFVCSNbYnjdDLtmPnmO/nO9917XcxMkjYX3uLx7nnn3HOuMK2Nix4fP78ZdrYXVkLVWjf3l3B1B+HpcjzGFtmqa6cePz7/x0dnn1n5qhj3iBJPYREIURAJuCtpY8PjReDbrf9WG7H1fuefwQU9qKztTcMJT+PNnEFvjGVDBDlSsH6p/9MLzy6+NxwVqI8RAg4IPmWedMckdLYP6O6UpIaQfvyyXG012+e79/ZfHukoS1ISMT2hGTB1RkUmNgQ5QZ0w+a2VWDq73MbdEWmfnnv6UWe7oNzPaLapl5CwuLTXK9WUGBuCjqekzhP+z52ZXOrKMD3OJg0Hh778aiOuvpnYvp05d6GJO4iAO4QAe/eV36/X5LFRV4Zmn+AdkqlL8Vjp3oVioOz+WTPzzYEgsN+fgPLYyJVheSbPPVl2ikeGZRjtG52/8rHuaV9VOlpP2OtKyVndcRVCSqOhsvxa4vW359i6OuKdD+aP8Q4SYPdOzS/flGjt1JUSaMqZ5nwa1Y8qWb/Ud/eZZkHisYezEM0m+fcelDr8F1SqW2LNK6r1jXQwyLzy1hxvrLXZulry7ocL+FS6G4QIu3fG/Px1gdYeW7LIgXU2P/115TOA5G7e3Rmj2aS/m7l5pThiZzrCcE/d1XHzbln373nw7y6veeoUm5KCNKT/IPPwbiY1hYd/l5MIT65BMFt87sU4v9D7/JMflr44uV6hGh1+L4RCkg6z5iK2tAhNLeLsNGwYA4fDYnC/drvuuFxe86NV/x+Ut27g0FvykgAAAABJRU5ErkJggg==",
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "enable_kwargs": false, "tool_state": "stable"}, {"name": "OpenAI GPT-4V",
        "type": "custom_llm", "inputs": {"connection": {"type": ["OpenAIConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 0}}, "frequency_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 7}}, "max_tokens": {"type": ["int"], "default": 512,
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 4}}, "model": {"type": ["string"], "enum": ["gpt-4-vision-preview"],
        "allow_manual_entry": true, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 1}}, "presence_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 6}}, "seed": {"type": ["int"], "default": "", "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        8}}, "stop": {"type": ["list"], "default": "", "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 5}},
        "temperature": {"type": ["double"], "default": 1, "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 2}},
        "top_p": {"type": ["double"], "default": 1, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "ui_hints": {"index": 3}}}, "description":
        "Use OpenAI GPT-4V to leverage vision ability.", "module": "promptflow.tools.openai_gpt4v",
        "class_name": "OpenAI", "function": "chat", "icon": {"dark": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA2ElEQVR4nJXSzW3CQBAF4DUSTjk+Al1AD0ikESslpBIEheRALhEpgAYSWV8OGUublf/yLuP3PPNmdndS+gdwXZrYDmh7fGE/W+wXbaYd8IYm4rxJPnZ0boI3wZcdJxs/n+AwV7DFK7aFyfQdYIMLPvES8YJNf5yp4jMeeEYdWh38gXOR35YGHe5xabvQdsHv6PLi8qV6gycc8YH3iMfQu6Lh4ASr+F5Hh3XwVWnQYzUkVlX1nccplAb1SN6Y/sfgmlK64VS8wimldIv/0yj2QLkHizG0iWP4AVAfQ34DVQONAAAAAElFTkSuQmCC",
        "light": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAx0lEQVR4nJWSwQ2CQBBFX0jAcjgqXUgPJNiIsQQrIVCIFy8GC6ABDcGDX7Mus9n1Xz7zZ+fPsLPwH4bUg0dD2wMPcbR48Uxq4AKU4iSTDwZ1LhWXipN/B3V0J6hjBTvgLHZNonewBXrgDpzEvXSIjN0BE3AACmmF4kl5F6tNzcCoLpW0SvGovFvsb4oZ2AANcAOu4ka6axCcINN3rg654sww+CYsPD0OwjcozFNh/Qcd78tqVbCIW+n+Fky472Bh/Q6SYb1EEy8tDzd+9IsVPAAAAABJRU5ErkJggg=="},
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "default_prompt": "# system:\nAs an AI assistant, your task involves interpreting
        images and responding to questions about the image.\nRemember to provide accurate
        answers based on the information present in the image.\n\n# user:\nCan you
        tell me what the image depicts?\n![image]({{image_input}})\n", "enable_kwargs":
        false, "tool_state": "preview"}, {"name": "Serp API", "type": "python", "inputs":
        {"connection": {"type": ["SerpConnection"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "engine": {"type": ["string"], "default":
        "google", "enum": ["google", "bing"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "location": {"type": ["string"], "default":
        "", "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "num": {"type": ["int"], "default": "10", "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "query": {"type": ["string"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "safe": {"type":
        ["string"], "default": "off", "enum": ["active", "off"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}}, "description":
        "Use Serp API to obtain search results from a specific search engine.", "module":
        "promptflow.tools.serpapi", "class_name": "SerpAPI", "function": "search",
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "enable_kwargs": false, "tool_state": "stable"}, {"name": "Index Lookup",
        "type": "python", "inputs": {"acs_content_field": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["Azure AI Search"], "dynamic_list": {"func_path":
        "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_fields",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}, {"default": "Edm.String", "name": "field_data_type",
        "optional": false, "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "uionly_hidden"}, "acs_embedding_field": {"type": ["string"],
        "enabled_by": "index_type", "enabled_by_value": ["Azure AI Search"], "dynamic_list":
        {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_fields",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}, {"default": "Collection(Edm.Single)", "name": "field_data_type",
        "optional": false, "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "uionly_hidden"}, "acs_index_connection": {"type": ["CognitiveSearchConnection"],
        "enabled_by": "index_type", "enabled_by_value": ["Azure AI Search"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "uionly_hidden"}, "acs_index_name":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Azure
        AI Search"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_indices",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]}]},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "acs_metadata_field": {"type": ["string"], "enabled_by": "index_type", "enabled_by_value":
        ["Azure AI Search"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_fields",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}, {"default": "Edm.String", "name": "field_data_type",
        "optional": false, "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "uionly_hidden"}, "aoai_embedding_connection": {"type":
        ["AzureOpenAIConnection"], "enabled_by": "embedding_type", "enabled_by_value":
        ["Azure OpenAI"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "uionly_hidden"}, "embedding_deployment": {"type": ["string"], "enabled_by":
        "embedding_type", "enabled_by_value": ["Azure OpenAI"], "dynamic_list": {"func_path":
        "promptflow_vectordb.tool.common_index_lookup_utils.list_aoai_embedding_deployments",
        "func_kwargs": [{"name": "aoai_connection", "optional": false, "reference":
        "${inputs.aoai_embedding_connection}", "type": ["AzurOpenAIConnection"]}]},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "embedding_model": {"type": ["string"], "enabled_by": "embedding_type", "enabled_by_value":
        ["OpenAI", "Hugging Face"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_embedding_models",
        "func_kwargs": [{"name": "embedding_type", "optional": false, "reference":
        "${inputs.embedding_type}", "type": ["string"]}]}, "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "uionly_hidden"}, "embedding_type":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Azure
        AI Search", "FAISS", "Pinecone"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_available_embedding_types",
        "func_kwargs": [{"name": "index_type", "optional": false, "reference": "${inputs.index_type}",
        "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "uionly_hidden"}, "faiss_index_path": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["FAISS"], "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "uionly_hidden"}, "index_type": {"type":
        ["string"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_available_index_types"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "mlindex_asset_id": {"type": ["string"], "enabled_by": "index_type", "enabled_by_value":
        ["Registered Index"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_registered_mlindices"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "mlindex_content": {"type": ["string"], "allow_manual_entry": false, "is_multi_select":
        false, "generated_by": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.forward_mapping",
        "func_kwargs": [{"name": "index_type", "reference": "${inputs.index_type}",
        "type": ["string"]}, {"name": "mlindex_asset_id", "optional": true, "reference":
        "${inputs.mlindex_asset_id}", "type": ["string"]}, {"name": "mlindex_path",
        "optional": true, "reference": "${inputs.mlindex_path}", "type": ["string"]},
        {"name": "acs_index_connection", "optional": true, "reference": "${inputs.acs_index_connection}",
        "type": ["CognitiveSearchConnection"]}, {"name": "acs_index_name", "optional":
        true, "reference": "${inputs.acs_index_name}", "type": ["string"]}, {"name":
        "acs_content_field", "optional": true, "reference": "${inputs.acs_content_field}",
        "type": ["string"]}, {"name": "acs_embedding_field", "optional": true, "reference":
        "${inputs.acs_embedding_field}", "type": ["string"]}, {"name": "acs_metadata_field",
        "optional": true, "reference": "${inputs.acs_metadata_field}", "type": ["string"]},
        {"name": "semantic_configuration", "optional": true, "reference": "${inputs.semantic_configuration}",
        "type": ["string"]}, {"name": "faiss_index_path", "optional": true, "reference":
        "${inputs.faiss_index_path}", "type": ["string"]}, {"name": "pinecone_index_connection",
        "optional": true, "reference": "${inputs.pinecone_index_connection}", "type":
        ["string"]}, {"name": "pinecone_index_name", "optional": true, "reference":
        "${inputs.pinecone_index_name}", "type": ["string"]}, {"name": "pinecone_content_field",
        "optional": true, "reference": "${inputs.pinecone_content_field}", "type":
        ["string"]}, {"name": "pinecone_metadata_field", "optional": true, "reference":
        "${inputs.pinecone_metadata_field}", "type": ["string"]}, {"name": "embedding_type",
        "optional": true, "reference": "${inputs.embedding_type}", "type": ["string"]},
        {"name": "aoai_embedding_connection", "optional": true, "reference": "${inputs.aoai_embedding_connection}",
        "type": ["AzureOpenAIConnection"]}, {"name": "oai_embedding_connection", "optional":
        true, "reference": "${inputs.oai_embedding_connection}", "type": ["string"]},
        {"name": "embedding_model", "optional": true, "reference": "${inputs.embedding_model}",
        "type": ["string"]}, {"name": "embedding_deployment", "optional": true, "reference":
        "${inputs.embedding_deployment}", "type": ["string"]}, {"name": "serverless_embedding_connection",
        "optional": true, "reference": "${inputs.serverless_embedding_connection}",
        "type": ["string"]}], "reverse_func_path": "promptflow_vectordb.tool.common_index_lookup_utils.reverse_mapping"},
        "input_type": "default"}, "mlindex_path": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["MLIndex file from path"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "uionly_hidden"}, "oai_embedding_connection":
        {"type": ["OpenAIConnection"], "enabled_by": "embedding_type", "enabled_by_value":
        ["OpenAI"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "uionly_hidden"}, "pinecone_content_field": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["Pinecone"], "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "uionly_hidden"}, "pinecone_index_connection":
        {"type": ["PineconeConnection"], "enabled_by": "index_type", "enabled_by_value":
        ["Pinecone"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_pinecone_connections"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "pinecone_index_name": {"type": ["string"], "enabled_by": "index_type", "enabled_by_value":
        ["Pinecone"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_pinecone_indices",
        "func_kwargs": [{"name": "pinecone_connection_name", "optional": false, "reference":
        "${inputs.pinecone_index_connection}", "type": ["string"]}]}, "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "uionly_hidden"}, "pinecone_metadata_field":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Pinecone"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "queries": {"type": ["object"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "query_type": {"type": ["string"], "dynamic_list":
        {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_available_query_types",
        "func_kwargs": [{"name": "mlindex_content", "optional": false, "reference":
        "${inputs.mlindex_content}", "type": ["string"]}]}, "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "semantic_configuration":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Azure
        AI Search"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_semantic_configurations",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "uionly_hidden"}, "serverless_embedding_connection": {"type":
        ["string"], "enabled_by": "embedding_type", "enabled_by_value": ["Serverless
        Endpoint"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_serverless_embedding_connections"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "top_k": {"type": ["int"], "default": 3, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}}, "description": "Search an AzureML Vector
        Index for relevant results using one or more text queries.", "module": "promptflow_vectordb.tool.common_index_lookup",
        "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "preview"},
        {"name": "Faiss Index Lookup", "type": "python", "inputs": {"path": {"type":
        ["string"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}, "top_k": {"type": ["int"], "default": "3", "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "vector": {"type":
        ["list"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}}, "description": "Search vector based query from the FAISS index
        file.", "module": "promptflow_vectordb.tool.faiss_index_lookup", "class_name":
        "FaissIndexLookup", "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "archived"},
        {"name": "Vector DB Lookup", "type": "python", "inputs": {"class_name": {"type":
        ["string"], "enabled_by": "connection", "enabled_by_type": ["WeaviateConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "collection_name": {"type": ["string"], "enabled_by": "connection", "enabled_by_type":
        ["QdrantConnection"], "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}, "connection": {"type": ["CognitiveSearchConnection",
        "QdrantConnection", "WeaviateConnection"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "index_name": {"type": ["string"], "enabled_by":
        "connection", "enabled_by_type": ["CognitiveSearchConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "search_filters":
        {"type": ["object"], "enabled_by": "connection", "enabled_by_type": ["CognitiveSearchConnection",
        "QdrantConnection"], "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}, "search_params": {"type": ["object"], "enabled_by":
        "connection", "enabled_by_type": ["CognitiveSearchConnection", "QdrantConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "text_field": {"type": ["string"], "enabled_by": "connection", "enabled_by_type":
        ["CognitiveSearchConnection", "QdrantConnection", "WeaviateConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "top_k": {"type":
        ["int"], "default": "3", "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}, "vector": {"type": ["list"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "vector_field":
        {"type": ["string"], "enabled_by": "connection", "enabled_by_type": ["CognitiveSearchConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"}},
        "description": "Search vector based query from existing Vector Database.",
        "module": "promptflow_vectordb.tool.vector_db_lookup", "class_name": "VectorDBLookup",
        "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "archived"},
        {"name": "Vector Index Lookup", "type": "python", "inputs": {"path": {"type":
        ["string"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}, "query": {"type": ["object"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "top_k": {"type": ["int"], "default": "3",
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"}},
        "description": "Search text or vector based query from AzureML Vector Index.",
        "module": "promptflow_vectordb.tool.vector_index_lookup", "class_name": "VectorIndexLookup",
        "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "archived"},
        {"name": "count_image.py", "type": "python", "inputs": {"images": {"type":
        ["object"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}}, "source": "count_image.py", "function": "aggregate", "is_builtin":
        false, "enable_kwargs": false, "tool_state": "stable"}, {"name": "flip_image.py",
        "type": "python", "inputs": {"input_image": {"type": ["image"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}}, "source": "flip_image.py",
        "function": "passthrough", "is_builtin": false, "enable_kwargs": false, "tool_state":
        "stable"}], "inputs": {"input_image": {"type": "image", "default": "https://developer.microsoft.com/_devcom/images/logo-ms-social.png",
        "is_chat_input": false}}, "outputs": {"output_image": {"type": "string", "reference":
        "${flip_image.output}", "evaluation_only": false, "is_chat_output": false}}},
        "flowRunResourceId": "azureml://locations/eastus/workspaces/00000/flows/name/flowRuns/name",
        "flowRunId": "name", "flowRunDisplayName": "resume_from_run_with_image_and_aggregation_node",
        "batchDataInput": {"dataUri": "azureml://datastores/workspaceblobstore/paths/LocalUpload/f0a11846460e7f82ede2efcac357243a/input_data/"},
        "flowRunType": "FlowRun", "flowType": "Default", "runtimeName": "automatic",
        "inputsMapping": {"input_image": "${data.input_image}"}, "outputDatastoreName":
        "workspaceblobstore", "childRunBasePath": "promptflow/PromptFlowArtifacts/name/name/flow_artifacts",
        "flowDagFileRelativePath": "flow.dag.yaml", "flowSnapshotId": "5736ca27-2c86-4efa-b25b-786d71f83a72",
        "sessionId": "name", "studioPortalEndpoint": "https://ml.azure.com/runs/name?wsid=/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000"}'
    headers:
      connection:
      - keep-alive
      content-length:
      - '28283'
      content-type:
      - application/json; charset=utf-8
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-request-time:
      - '0.199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - promptflow-azure-sdk/1.0.0.dev0 azsdk-python-azuremachinelearningdesignerserviceclient/unknown
        Python/3.9.19 (Windows-10-10.0.22631-SP0)
    method: GET
    uri: https://eastus.api.azureml.ms/flow/api/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/BulkRuns/name
  response:
    body:
      string: '{"flowGraph": {"nodes": [{"name": "flip_image", "type": "python", "source":
        {"type": "code", "path": "flip_image.py"}, "inputs": {"input_image": "${inputs.input_image}"},
        "tool": "flip_image.py", "reduce": false}, {"name": "count_image", "type":
        "python", "source": {"type": "code", "path": "count_image.py"}, "inputs":
        {"images": "${flip_image.output}"}, "tool": "count_image.py", "reduce": true}],
        "tools": [{"name": "Azure OpenAI GPT-4 Turbo with Vision", "type": "custom_llm",
        "inputs": {"connection": {"type": ["AzureOpenAIConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        0}}, "deployment_name": {"type": ["string"], "enabled_by": "connection", "dynamic_list":
        {"func_path": "promptflow.tools.aoai_gpt4v.list_deployment_names", "func_kwargs":
        [{"name": "connection", "reference": "${inputs.connection}", "type": ["AzureOpenAIConnection"]}]},
        "allow_manual_entry": true, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 1}}, "frequency_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 7}}, "max_tokens": {"type": ["int"], "default": 512,
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 4}}, "presence_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 6}}, "seed": {"type": ["int"], "default": "", "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        8}}, "stop": {"type": ["list"], "default": "", "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 5}},
        "temperature": {"type": ["double"], "default": 1, "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 2}},
        "top_p": {"type": ["double"], "default": 1, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "ui_hints": {"index": 3}}}, "description":
        "Use Azure OpenAI GPT-4 Turbo with Vision to leverage AOAI vision ability.",
        "module": "promptflow.tools.aoai_gpt4v", "class_name": "AzureOpenAI", "function":
        "chat", "icon": {"dark": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA2ElEQVR4nJXSzW3CQBAF4DUSTjk+Al1AD0ikESslpBIEheRALhEpgAYSWV8OGUublf/yLuP3PPNmdndS+gdwXZrYDmh7fGE/W+wXbaYd8IYm4rxJPnZ0boI3wZcdJxs/n+AwV7DFK7aFyfQdYIMLPvES8YJNf5yp4jMeeEYdWh38gXOR35YGHe5xabvQdsHv6PLi8qV6gycc8YH3iMfQu6Lh4ASr+F5Hh3XwVWnQYzUkVlX1nccplAb1SN6Y/sfgmlK64VS8wimldIv/0yj2QLkHizG0iWP4AVAfQ34DVQONAAAAAElFTkSuQmCC",
        "light": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAx0lEQVR4nJWSwQ2CQBBFX0jAcjgqXUgPJNiIsQQrIVCIFy8GC6ABDcGDX7Mus9n1Xz7zZ+fPsLPwH4bUg0dD2wMPcbR48Uxq4AKU4iSTDwZ1LhWXipN/B3V0J6hjBTvgLHZNonewBXrgDpzEvXSIjN0BE3AACmmF4kl5F6tNzcCoLpW0SvGovFvsb4oZ2AANcAOu4ka6axCcINN3rg654sww+CYsPD0OwjcozFNh/Qcd78tqVbCIW+n+Fky472Bh/Q6SYb1EEy8tDzd+9IsVPAAAAABJRU5ErkJggg=="},
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "default_prompt": "# system:\nAs an AI assistant, your task involves interpreting
        images and responding to questions about the image.\nRemember to provide accurate
        answers based on the information present in the image.\n\n# user:\nCan you
        tell me what the image depicts?\n![image]({{image_input}})\n", "enable_kwargs":
        false, "tool_state": "preview"}, {"name": "Content Safety (Text Analyze)",
        "type": "python", "inputs": {"connection": {"type": ["AzureContentSafetyConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "hate_category": {"type": ["string"], "default": "medium_sensitivity", "enum":
        ["disable", "low_sensitivity", "medium_sensitivity", "high_sensitivity"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "self_harm_category": {"type": ["string"], "default": "medium_sensitivity",
        "enum": ["disable", "low_sensitivity", "medium_sensitivity", "high_sensitivity"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "sexual_category": {"type": ["string"], "default": "medium_sensitivity", "enum":
        ["disable", "low_sensitivity", "medium_sensitivity", "high_sensitivity"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "text": {"type": ["string"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "violence_category": {"type": ["string"],
        "default": "medium_sensitivity", "enum": ["disable", "low_sensitivity", "medium_sensitivity",
        "high_sensitivity"], "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}}, "description": "Use Azure Content Safety to detect
        harmful content.", "module": "promptflow.tools.azure_content_safety", "function":
        "analyze_text", "is_builtin": true, "package": "promptflow-tools", "package_version":
        "1.4.0rc3", "enable_kwargs": false, "deprecated_tools": ["content_safety_text.tools.content_safety_text_tool.analyze_text"],
        "tool_state": "stable"}, {"name": "Embedding", "type": "python", "inputs":
        {"connection": {"type": ["AzureOpenAIConnection", "OpenAIConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "deployment_name":
        {"type": ["string"], "enabled_by": "connection", "enabled_by_type": ["AzureOpenAIConnection"],
        "model_list": ["text-embedding-ada-002", "text-search-ada-doc-001", "text-search-ada-query-001"],
        "capabilities": {"completion": false, "chat_completion": false, "embeddings":
        true}, "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}, "input": {"type": ["string"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "model": {"type": ["string"], "enum": ["text-embedding-ada-002",
        "text-search-ada-doc-001", "text-search-ada-query-001"], "enabled_by": "connection",
        "enabled_by_type": ["OpenAIConnection"], "allow_manual_entry": true, "is_multi_select":
        false, "input_type": "default"}}, "description": "Use OpenAI''s embedding
        model to create an embedding vector representing the input text.", "module":
        "promptflow.tools.embedding", "function": "embedding", "is_builtin": true,
        "package": "promptflow-tools", "package_version": "1.4.0rc3", "enable_kwargs":
        false, "tool_state": "stable"}, {"name": "Open Model LLM", "type": "custom_llm",
        "inputs": {"api": {"type": ["string"], "enum": ["chat", "completion"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        2}}, "deployment_name": {"type": ["string"], "default": "", "dynamic_list":
        {"func_path": "promptflow.tools.open_model_llm.list_deployment_names", "func_kwargs":
        [{"name": "endpoint", "optional": true, "reference": "${inputs.endpoint}",
        "type": ["string"]}]}, "allow_manual_entry": true, "is_multi_select": false,
        "input_type": "default", "ui_hints": {"index": 1}}, "endpoint_name": {"type":
        ["string"], "dynamic_list": {"func_path": "promptflow.tools.open_model_llm.list_endpoint_names"},
        "allow_manual_entry": true, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 0}}, "max_new_tokens": {"type": ["int"], "default":
        500, "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default", "ui_hints": {"index": 4}}, "model_kwargs": {"type": ["object"],
        "default": "{}", "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default", "advanced": true, "ui_hints": {"index": 6}}, "temperature": {"type":
        ["double"], "default": 1.0, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "ui_hints": {"index": 3}}, "top_p": {"type":
        ["double"], "default": 1.0, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "advanced": true, "ui_hints": {"index": 5}}},
        "description": "Use an open model from the Azure Model catalog, deployed to
        an AzureML Online Endpoint for LLM Chat or Completion API calls.", "module":
        "promptflow.tools.open_model_llm", "class_name": "OpenModelLLM", "function":
        "call", "icon": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACgElEQVR4nGWSz2vcVRTFP/e9NzOZ1KDGohASslLEH6VLV0ak4l/QpeDCrfQPcNGliODKnVm4EBdBsIjQIlhciKW0ycKFVCSNbYnjdDLtmPnmO/nO9917XcxMkjYX3uLx7nnn3HOuMK2Nix4fP78ZdrYXVkLVWjf3l3B1B+HpcjzGFtmqa6cePz7/x0dnn1n5qhj3iBJPYREIURAJuCtpY8PjReDbrf9WG7H1fuefwQU9qKztTcMJT+PNnEFvjGVDBDlSsH6p/9MLzy6+NxwVqI8RAg4IPmWedMckdLYP6O6UpIaQfvyyXG012+e79/ZfHukoS1ISMT2hGTB1RkUmNgQ5QZ0w+a2VWDq73MbdEWmfnnv6UWe7oNzPaLapl5CwuLTXK9WUGBuCjqekzhP+z52ZXOrKMD3OJg0Hh778aiOuvpnYvp05d6GJO4iAO4QAe/eV36/X5LFRV4Zmn+AdkqlL8Vjp3oVioOz+WTPzzYEgsN+fgPLYyJVheSbPPVl2ikeGZRjtG52/8rHuaV9VOlpP2OtKyVndcRVCSqOhsvxa4vW359i6OuKdD+aP8Q4SYPdOzS/flGjt1JUSaMqZ5nwa1Y8qWb/Ud/eZZkHisYezEM0m+fcelDr8F1SqW2LNK6r1jXQwyLzy1hxvrLXZulry7ocL+FS6G4QIu3fG/Px1gdYeW7LIgXU2P/115TOA5G7e3Rmj2aS/m7l5pThiZzrCcE/d1XHzbln373nw7y6veeoUm5KCNKT/IPPwbiY1hYd/l5MIT65BMFt87sU4v9D7/JMflr44uV6hGh1+L4RCkg6z5iK2tAhNLeLsNGwYA4fDYnC/drvuuFxe86NV/x+Ut27g0FvykgAAAABJRU5ErkJggg==",
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "enable_kwargs": false, "tool_state": "stable"}, {"name": "OpenAI GPT-4V",
        "type": "custom_llm", "inputs": {"connection": {"type": ["OpenAIConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 0}}, "frequency_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 7}}, "max_tokens": {"type": ["int"], "default": 512,
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 4}}, "model": {"type": ["string"], "enum": ["gpt-4-vision-preview"],
        "allow_manual_entry": true, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 1}}, "presence_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 6}}, "seed": {"type": ["int"], "default": "", "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        8}}, "stop": {"type": ["list"], "default": "", "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 5}},
        "temperature": {"type": ["double"], "default": 1, "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 2}},
        "top_p": {"type": ["double"], "default": 1, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "ui_hints": {"index": 3}}}, "description":
        "Use OpenAI GPT-4V to leverage vision ability.", "module": "promptflow.tools.openai_gpt4v",
        "class_name": "OpenAI", "function": "chat", "icon": {"dark": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA2ElEQVR4nJXSzW3CQBAF4DUSTjk+Al1AD0ikESslpBIEheRALhEpgAYSWV8OGUublf/yLuP3PPNmdndS+gdwXZrYDmh7fGE/W+wXbaYd8IYm4rxJPnZ0boI3wZcdJxs/n+AwV7DFK7aFyfQdYIMLPvES8YJNf5yp4jMeeEYdWh38gXOR35YGHe5xabvQdsHv6PLi8qV6gycc8YH3iMfQu6Lh4ASr+F5Hh3XwVWnQYzUkVlX1nccplAb1SN6Y/sfgmlK64VS8wimldIv/0yj2QLkHizG0iWP4AVAfQ34DVQONAAAAAElFTkSuQmCC",
        "light": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAx0lEQVR4nJWSwQ2CQBBFX0jAcjgqXUgPJNiIsQQrIVCIFy8GC6ABDcGDX7Mus9n1Xz7zZ+fPsLPwH4bUg0dD2wMPcbR48Uxq4AKU4iSTDwZ1LhWXipN/B3V0J6hjBTvgLHZNonewBXrgDpzEvXSIjN0BE3AACmmF4kl5F6tNzcCoLpW0SvGovFvsb4oZ2AANcAOu4ka6axCcINN3rg654sww+CYsPD0OwjcozFNh/Qcd78tqVbCIW+n+Fky472Bh/Q6SYb1EEy8tDzd+9IsVPAAAAABJRU5ErkJggg=="},
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "default_prompt": "# system:\nAs an AI assistant, your task involves interpreting
        images and responding to questions about the image.\nRemember to provide accurate
        answers based on the information present in the image.\n\n# user:\nCan you
        tell me what the image depicts?\n![image]({{image_input}})\n", "enable_kwargs":
        false, "tool_state": "preview"}, {"name": "Serp API", "type": "python", "inputs":
        {"connection": {"type": ["SerpConnection"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "engine": {"type": ["string"], "default":
        "google", "enum": ["google", "bing"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "location": {"type": ["string"], "default":
        "", "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "num": {"type": ["int"], "default": "10", "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "query": {"type": ["string"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "safe": {"type":
        ["string"], "default": "off", "enum": ["active", "off"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}}, "description":
        "Use Serp API to obtain search results from a specific search engine.", "module":
        "promptflow.tools.serpapi", "class_name": "SerpAPI", "function": "search",
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "enable_kwargs": false, "tool_state": "stable"}, {"name": "Index Lookup",
        "type": "python", "inputs": {"acs_content_field": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["Azure AI Search"], "dynamic_list": {"func_path":
        "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_fields",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}, {"default": "Edm.String", "name": "field_data_type",
        "optional": false, "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "uionly_hidden"}, "acs_embedding_field": {"type": ["string"],
        "enabled_by": "index_type", "enabled_by_value": ["Azure AI Search"], "dynamic_list":
        {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_fields",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}, {"default": "Collection(Edm.Single)", "name": "field_data_type",
        "optional": false, "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "uionly_hidden"}, "acs_index_connection": {"type": ["CognitiveSearchConnection"],
        "enabled_by": "index_type", "enabled_by_value": ["Azure AI Search"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "uionly_hidden"}, "acs_index_name":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Azure
        AI Search"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_indices",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]}]},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "acs_metadata_field": {"type": ["string"], "enabled_by": "index_type", "enabled_by_value":
        ["Azure AI Search"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_fields",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}, {"default": "Edm.String", "name": "field_data_type",
        "optional": false, "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "uionly_hidden"}, "aoai_embedding_connection": {"type":
        ["AzureOpenAIConnection"], "enabled_by": "embedding_type", "enabled_by_value":
        ["Azure OpenAI"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "uionly_hidden"}, "embedding_deployment": {"type": ["string"], "enabled_by":
        "embedding_type", "enabled_by_value": ["Azure OpenAI"], "dynamic_list": {"func_path":
        "promptflow_vectordb.tool.common_index_lookup_utils.list_aoai_embedding_deployments",
        "func_kwargs": [{"name": "aoai_connection", "optional": false, "reference":
        "${inputs.aoai_embedding_connection}", "type": ["AzurOpenAIConnection"]}]},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "embedding_model": {"type": ["string"], "enabled_by": "embedding_type", "enabled_by_value":
        ["OpenAI", "Hugging Face"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_embedding_models",
        "func_kwargs": [{"name": "embedding_type", "optional": false, "reference":
        "${inputs.embedding_type}", "type": ["string"]}]}, "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "uionly_hidden"}, "embedding_type":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Azure
        AI Search", "FAISS", "Pinecone"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_available_embedding_types",
        "func_kwargs": [{"name": "index_type", "optional": false, "reference": "${inputs.index_type}",
        "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "uionly_hidden"}, "faiss_index_path": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["FAISS"], "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "uionly_hidden"}, "index_type": {"type":
        ["string"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_available_index_types"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "mlindex_asset_id": {"type": ["string"], "enabled_by": "index_type", "enabled_by_value":
        ["Registered Index"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_registered_mlindices"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "mlindex_content": {"type": ["string"], "allow_manual_entry": false, "is_multi_select":
        false, "generated_by": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.forward_mapping",
        "func_kwargs": [{"name": "index_type", "reference": "${inputs.index_type}",
        "type": ["string"]}, {"name": "mlindex_asset_id", "optional": true, "reference":
        "${inputs.mlindex_asset_id}", "type": ["string"]}, {"name": "mlindex_path",
        "optional": true, "reference": "${inputs.mlindex_path}", "type": ["string"]},
        {"name": "acs_index_connection", "optional": true, "reference": "${inputs.acs_index_connection}",
        "type": ["CognitiveSearchConnection"]}, {"name": "acs_index_name", "optional":
        true, "reference": "${inputs.acs_index_name}", "type": ["string"]}, {"name":
        "acs_content_field", "optional": true, "reference": "${inputs.acs_content_field}",
        "type": ["string"]}, {"name": "acs_embedding_field", "optional": true, "reference":
        "${inputs.acs_embedding_field}", "type": ["string"]}, {"name": "acs_metadata_field",
        "optional": true, "reference": "${inputs.acs_metadata_field}", "type": ["string"]},
        {"name": "semantic_configuration", "optional": true, "reference": "${inputs.semantic_configuration}",
        "type": ["string"]}, {"name": "faiss_index_path", "optional": true, "reference":
        "${inputs.faiss_index_path}", "type": ["string"]}, {"name": "pinecone_index_connection",
        "optional": true, "reference": "${inputs.pinecone_index_connection}", "type":
        ["string"]}, {"name": "pinecone_index_name", "optional": true, "reference":
        "${inputs.pinecone_index_name}", "type": ["string"]}, {"name": "pinecone_content_field",
        "optional": true, "reference": "${inputs.pinecone_content_field}", "type":
        ["string"]}, {"name": "pinecone_metadata_field", "optional": true, "reference":
        "${inputs.pinecone_metadata_field}", "type": ["string"]}, {"name": "embedding_type",
        "optional": true, "reference": "${inputs.embedding_type}", "type": ["string"]},
        {"name": "aoai_embedding_connection", "optional": true, "reference": "${inputs.aoai_embedding_connection}",
        "type": ["AzureOpenAIConnection"]}, {"name": "oai_embedding_connection", "optional":
        true, "reference": "${inputs.oai_embedding_connection}", "type": ["string"]},
        {"name": "embedding_model", "optional": true, "reference": "${inputs.embedding_model}",
        "type": ["string"]}, {"name": "embedding_deployment", "optional": true, "reference":
        "${inputs.embedding_deployment}", "type": ["string"]}, {"name": "serverless_embedding_connection",
        "optional": true, "reference": "${inputs.serverless_embedding_connection}",
        "type": ["string"]}], "reverse_func_path": "promptflow_vectordb.tool.common_index_lookup_utils.reverse_mapping"},
        "input_type": "default"}, "mlindex_path": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["MLIndex file from path"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "uionly_hidden"}, "oai_embedding_connection":
        {"type": ["OpenAIConnection"], "enabled_by": "embedding_type", "enabled_by_value":
        ["OpenAI"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "uionly_hidden"}, "pinecone_content_field": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["Pinecone"], "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "uionly_hidden"}, "pinecone_index_connection":
        {"type": ["PineconeConnection"], "enabled_by": "index_type", "enabled_by_value":
        ["Pinecone"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_pinecone_connections"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "pinecone_index_name": {"type": ["string"], "enabled_by": "index_type", "enabled_by_value":
        ["Pinecone"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_pinecone_indices",
        "func_kwargs": [{"name": "pinecone_connection_name", "optional": false, "reference":
        "${inputs.pinecone_index_connection}", "type": ["string"]}]}, "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "uionly_hidden"}, "pinecone_metadata_field":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Pinecone"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "queries": {"type": ["object"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "query_type": {"type": ["string"], "dynamic_list":
        {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_available_query_types",
        "func_kwargs": [{"name": "mlindex_content", "optional": false, "reference":
        "${inputs.mlindex_content}", "type": ["string"]}]}, "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "semantic_configuration":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Azure
        AI Search"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_semantic_configurations",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "uionly_hidden"}, "serverless_embedding_connection": {"type":
        ["string"], "enabled_by": "embedding_type", "enabled_by_value": ["Serverless
        Endpoint"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_serverless_embedding_connections"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "top_k": {"type": ["int"], "default": 3, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}}, "description": "Search an AzureML Vector
        Index for relevant results using one or more text queries.", "module": "promptflow_vectordb.tool.common_index_lookup",
        "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "preview"},
        {"name": "Faiss Index Lookup", "type": "python", "inputs": {"path": {"type":
        ["string"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}, "top_k": {"type": ["int"], "default": "3", "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "vector": {"type":
        ["list"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}}, "description": "Search vector based query from the FAISS index
        file.", "module": "promptflow_vectordb.tool.faiss_index_lookup", "class_name":
        "FaissIndexLookup", "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "archived"},
        {"name": "Vector DB Lookup", "type": "python", "inputs": {"class_name": {"type":
        ["string"], "enabled_by": "connection", "enabled_by_type": ["WeaviateConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "collection_name": {"type": ["string"], "enabled_by": "connection", "enabled_by_type":
        ["QdrantConnection"], "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}, "connection": {"type": ["CognitiveSearchConnection",
        "QdrantConnection", "WeaviateConnection"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "index_name": {"type": ["string"], "enabled_by":
        "connection", "enabled_by_type": ["CognitiveSearchConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "search_filters":
        {"type": ["object"], "enabled_by": "connection", "enabled_by_type": ["CognitiveSearchConnection",
        "QdrantConnection"], "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}, "search_params": {"type": ["object"], "enabled_by":
        "connection", "enabled_by_type": ["CognitiveSearchConnection", "QdrantConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "text_field": {"type": ["string"], "enabled_by": "connection", "enabled_by_type":
        ["CognitiveSearchConnection", "QdrantConnection", "WeaviateConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "top_k": {"type":
        ["int"], "default": "3", "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}, "vector": {"type": ["list"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "vector_field":
        {"type": ["string"], "enabled_by": "connection", "enabled_by_type": ["CognitiveSearchConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"}},
        "description": "Search vector based query from existing Vector Database.",
        "module": "promptflow_vectordb.tool.vector_db_lookup", "class_name": "VectorDBLookup",
        "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "archived"},
        {"name": "Vector Index Lookup", "type": "python", "inputs": {"path": {"type":
        ["string"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}, "query": {"type": ["object"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "top_k": {"type": ["int"], "default": "3",
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"}},
        "description": "Search text or vector based query from AzureML Vector Index.",
        "module": "promptflow_vectordb.tool.vector_index_lookup", "class_name": "VectorIndexLookup",
        "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "archived"},
        {"name": "count_image.py", "type": "python", "inputs": {"images": {"type":
        ["object"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}}, "source": "count_image.py", "function": "aggregate", "is_builtin":
        false, "enable_kwargs": false, "tool_state": "stable"}, {"name": "flip_image.py",
        "type": "python", "inputs": {"input_image": {"type": ["image"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}}, "source": "flip_image.py",
        "function": "passthrough", "is_builtin": false, "enable_kwargs": false, "tool_state":
        "stable"}], "inputs": {"input_image": {"type": "image", "default": "https://developer.microsoft.com/_devcom/images/logo-ms-social.png",
        "is_chat_input": false}}, "outputs": {"output_image": {"type": "string", "reference":
        "${flip_image.output}", "evaluation_only": false, "is_chat_output": false}}},
        "flowRunResourceId": "azureml://locations/eastus/workspaces/00000/flows/name/flowRuns/name",
        "flowRunId": "name", "flowRunDisplayName": "resume_from_run_with_image_and_aggregation_node",
        "batchDataInput": {"dataUri": "azureml://datastores/workspaceblobstore/paths/LocalUpload/f0a11846460e7f82ede2efcac357243a/input_data/"},
        "flowRunType": "FlowRun", "flowType": "Default", "runtimeName": "automatic",
        "inputsMapping": {"input_image": "${data.input_image}"}, "outputDatastoreName":
        "workspaceblobstore", "childRunBasePath": "promptflow/PromptFlowArtifacts/name/name/flow_artifacts",
        "flowDagFileRelativePath": "flow.dag.yaml", "flowSnapshotId": "5736ca27-2c86-4efa-b25b-786d71f83a72",
        "sessionId": "name", "studioPortalEndpoint": "https://ml.azure.com/runs/name?wsid=/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000"}'
    headers:
      connection:
      - keep-alive
      content-length:
      - '28283'
      content-type:
      - application/json; charset=utf-8
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-request-time:
      - '0.174'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - promptflow-azure-sdk/1.0.0.dev0 azsdk-python-azuremachinelearningdesignerserviceclient/unknown
        Python/3.9.19 (Windows-10-10.0.22631-SP0)
    method: GET
    uri: https://eastus.api.azureml.ms/flow/api/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/BulkRuns/name
  response:
    body:
      string: '{"flowGraph": {"nodes": [{"name": "flip_image", "type": "python", "source":
        {"type": "code", "path": "flip_image.py"}, "inputs": {"input_image": "${inputs.input_image}"},
        "tool": "flip_image.py", "reduce": false}, {"name": "count_image", "type":
        "python", "source": {"type": "code", "path": "count_image.py"}, "inputs":
        {"images": "${flip_image.output}"}, "tool": "count_image.py", "reduce": true}],
        "tools": [{"name": "Azure OpenAI GPT-4 Turbo with Vision", "type": "custom_llm",
        "inputs": {"connection": {"type": ["AzureOpenAIConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        0}}, "deployment_name": {"type": ["string"], "enabled_by": "connection", "dynamic_list":
        {"func_path": "promptflow.tools.aoai_gpt4v.list_deployment_names", "func_kwargs":
        [{"name": "connection", "reference": "${inputs.connection}", "type": ["AzureOpenAIConnection"]}]},
        "allow_manual_entry": true, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 1}}, "frequency_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 7}}, "max_tokens": {"type": ["int"], "default": 512,
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 4}}, "presence_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 6}}, "seed": {"type": ["int"], "default": "", "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        8}}, "stop": {"type": ["list"], "default": "", "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 5}},
        "temperature": {"type": ["double"], "default": 1, "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 2}},
        "top_p": {"type": ["double"], "default": 1, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "ui_hints": {"index": 3}}}, "description":
        "Use Azure OpenAI GPT-4 Turbo with Vision to leverage AOAI vision ability.",
        "module": "promptflow.tools.aoai_gpt4v", "class_name": "AzureOpenAI", "function":
        "chat", "icon": {"dark": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA2ElEQVR4nJXSzW3CQBAF4DUSTjk+Al1AD0ikESslpBIEheRALhEpgAYSWV8OGUublf/yLuP3PPNmdndS+gdwXZrYDmh7fGE/W+wXbaYd8IYm4rxJPnZ0boI3wZcdJxs/n+AwV7DFK7aFyfQdYIMLPvES8YJNf5yp4jMeeEYdWh38gXOR35YGHe5xabvQdsHv6PLi8qV6gycc8YH3iMfQu6Lh4ASr+F5Hh3XwVWnQYzUkVlX1nccplAb1SN6Y/sfgmlK64VS8wimldIv/0yj2QLkHizG0iWP4AVAfQ34DVQONAAAAAElFTkSuQmCC",
        "light": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAx0lEQVR4nJWSwQ2CQBBFX0jAcjgqXUgPJNiIsQQrIVCIFy8GC6ABDcGDX7Mus9n1Xz7zZ+fPsLPwH4bUg0dD2wMPcbR48Uxq4AKU4iSTDwZ1LhWXipN/B3V0J6hjBTvgLHZNonewBXrgDpzEvXSIjN0BE3AACmmF4kl5F6tNzcCoLpW0SvGovFvsb4oZ2AANcAOu4ka6axCcINN3rg654sww+CYsPD0OwjcozFNh/Qcd78tqVbCIW+n+Fky472Bh/Q6SYb1EEy8tDzd+9IsVPAAAAABJRU5ErkJggg=="},
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "default_prompt": "# system:\nAs an AI assistant, your task involves interpreting
        images and responding to questions about the image.\nRemember to provide accurate
        answers based on the information present in the image.\n\n# user:\nCan you
        tell me what the image depicts?\n![image]({{image_input}})\n", "enable_kwargs":
        false, "tool_state": "preview"}, {"name": "Content Safety (Text Analyze)",
        "type": "python", "inputs": {"connection": {"type": ["AzureContentSafetyConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "hate_category": {"type": ["string"], "default": "medium_sensitivity", "enum":
        ["disable", "low_sensitivity", "medium_sensitivity", "high_sensitivity"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "self_harm_category": {"type": ["string"], "default": "medium_sensitivity",
        "enum": ["disable", "low_sensitivity", "medium_sensitivity", "high_sensitivity"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "sexual_category": {"type": ["string"], "default": "medium_sensitivity", "enum":
        ["disable", "low_sensitivity", "medium_sensitivity", "high_sensitivity"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "text": {"type": ["string"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "violence_category": {"type": ["string"],
        "default": "medium_sensitivity", "enum": ["disable", "low_sensitivity", "medium_sensitivity",
        "high_sensitivity"], "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}}, "description": "Use Azure Content Safety to detect
        harmful content.", "module": "promptflow.tools.azure_content_safety", "function":
        "analyze_text", "is_builtin": true, "package": "promptflow-tools", "package_version":
        "1.4.0rc3", "enable_kwargs": false, "deprecated_tools": ["content_safety_text.tools.content_safety_text_tool.analyze_text"],
        "tool_state": "stable"}, {"name": "Embedding", "type": "python", "inputs":
        {"connection": {"type": ["AzureOpenAIConnection", "OpenAIConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "deployment_name":
        {"type": ["string"], "enabled_by": "connection", "enabled_by_type": ["AzureOpenAIConnection"],
        "model_list": ["text-embedding-ada-002", "text-search-ada-doc-001", "text-search-ada-query-001"],
        "capabilities": {"completion": false, "chat_completion": false, "embeddings":
        true}, "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}, "input": {"type": ["string"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "model": {"type": ["string"], "enum": ["text-embedding-ada-002",
        "text-search-ada-doc-001", "text-search-ada-query-001"], "enabled_by": "connection",
        "enabled_by_type": ["OpenAIConnection"], "allow_manual_entry": true, "is_multi_select":
        false, "input_type": "default"}}, "description": "Use OpenAI''s embedding
        model to create an embedding vector representing the input text.", "module":
        "promptflow.tools.embedding", "function": "embedding", "is_builtin": true,
        "package": "promptflow-tools", "package_version": "1.4.0rc3", "enable_kwargs":
        false, "tool_state": "stable"}, {"name": "Open Model LLM", "type": "custom_llm",
        "inputs": {"api": {"type": ["string"], "enum": ["chat", "completion"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        2}}, "deployment_name": {"type": ["string"], "default": "", "dynamic_list":
        {"func_path": "promptflow.tools.open_model_llm.list_deployment_names", "func_kwargs":
        [{"name": "endpoint", "optional": true, "reference": "${inputs.endpoint}",
        "type": ["string"]}]}, "allow_manual_entry": true, "is_multi_select": false,
        "input_type": "default", "ui_hints": {"index": 1}}, "endpoint_name": {"type":
        ["string"], "dynamic_list": {"func_path": "promptflow.tools.open_model_llm.list_endpoint_names"},
        "allow_manual_entry": true, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 0}}, "max_new_tokens": {"type": ["int"], "default":
        500, "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default", "ui_hints": {"index": 4}}, "model_kwargs": {"type": ["object"],
        "default": "{}", "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default", "advanced": true, "ui_hints": {"index": 6}}, "temperature": {"type":
        ["double"], "default": 1.0, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "ui_hints": {"index": 3}}, "top_p": {"type":
        ["double"], "default": 1.0, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "advanced": true, "ui_hints": {"index": 5}}},
        "description": "Use an open model from the Azure Model catalog, deployed to
        an AzureML Online Endpoint for LLM Chat or Completion API calls.", "module":
        "promptflow.tools.open_model_llm", "class_name": "OpenModelLLM", "function":
        "call", "icon": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACgElEQVR4nGWSz2vcVRTFP/e9NzOZ1KDGohASslLEH6VLV0ak4l/QpeDCrfQPcNGliODKnVm4EBdBsIjQIlhciKW0ycKFVCSNbYnjdDLtmPnmO/nO9917XcxMkjYX3uLx7nnn3HOuMK2Nix4fP78ZdrYXVkLVWjf3l3B1B+HpcjzGFtmqa6cePz7/x0dnn1n5qhj3iBJPYREIURAJuCtpY8PjReDbrf9WG7H1fuefwQU9qKztTcMJT+PNnEFvjGVDBDlSsH6p/9MLzy6+NxwVqI8RAg4IPmWedMckdLYP6O6UpIaQfvyyXG012+e79/ZfHukoS1ISMT2hGTB1RkUmNgQ5QZ0w+a2VWDq73MbdEWmfnnv6UWe7oNzPaLapl5CwuLTXK9WUGBuCjqekzhP+z52ZXOrKMD3OJg0Hh778aiOuvpnYvp05d6GJO4iAO4QAe/eV36/X5LFRV4Zmn+AdkqlL8Vjp3oVioOz+WTPzzYEgsN+fgPLYyJVheSbPPVl2ikeGZRjtG52/8rHuaV9VOlpP2OtKyVndcRVCSqOhsvxa4vW359i6OuKdD+aP8Q4SYPdOzS/flGjt1JUSaMqZ5nwa1Y8qWb/Ud/eZZkHisYezEM0m+fcelDr8F1SqW2LNK6r1jXQwyLzy1hxvrLXZulry7ocL+FS6G4QIu3fG/Px1gdYeW7LIgXU2P/115TOA5G7e3Rmj2aS/m7l5pThiZzrCcE/d1XHzbln373nw7y6veeoUm5KCNKT/IPPwbiY1hYd/l5MIT65BMFt87sU4v9D7/JMflr44uV6hGh1+L4RCkg6z5iK2tAhNLeLsNGwYA4fDYnC/drvuuFxe86NV/x+Ut27g0FvykgAAAABJRU5ErkJggg==",
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "enable_kwargs": false, "tool_state": "stable"}, {"name": "OpenAI GPT-4V",
        "type": "custom_llm", "inputs": {"connection": {"type": ["OpenAIConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 0}}, "frequency_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 7}}, "max_tokens": {"type": ["int"], "default": 512,
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 4}}, "model": {"type": ["string"], "enum": ["gpt-4-vision-preview"],
        "allow_manual_entry": true, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 1}}, "presence_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 6}}, "seed": {"type": ["int"], "default": "", "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        8}}, "stop": {"type": ["list"], "default": "", "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 5}},
        "temperature": {"type": ["double"], "default": 1, "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 2}},
        "top_p": {"type": ["double"], "default": 1, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "ui_hints": {"index": 3}}}, "description":
        "Use OpenAI GPT-4V to leverage vision ability.", "module": "promptflow.tools.openai_gpt4v",
        "class_name": "OpenAI", "function": "chat", "icon": {"dark": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA2ElEQVR4nJXSzW3CQBAF4DUSTjk+Al1AD0ikESslpBIEheRALhEpgAYSWV8OGUublf/yLuP3PPNmdndS+gdwXZrYDmh7fGE/W+wXbaYd8IYm4rxJPnZ0boI3wZcdJxs/n+AwV7DFK7aFyfQdYIMLPvES8YJNf5yp4jMeeEYdWh38gXOR35YGHe5xabvQdsHv6PLi8qV6gycc8YH3iMfQu6Lh4ASr+F5Hh3XwVWnQYzUkVlX1nccplAb1SN6Y/sfgmlK64VS8wimldIv/0yj2QLkHizG0iWP4AVAfQ34DVQONAAAAAElFTkSuQmCC",
        "light": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAx0lEQVR4nJWSwQ2CQBBFX0jAcjgqXUgPJNiIsQQrIVCIFy8GC6ABDcGDX7Mus9n1Xz7zZ+fPsLPwH4bUg0dD2wMPcbR48Uxq4AKU4iSTDwZ1LhWXipN/B3V0J6hjBTvgLHZNonewBXrgDpzEvXSIjN0BE3AACmmF4kl5F6tNzcCoLpW0SvGovFvsb4oZ2AANcAOu4ka6axCcINN3rg654sww+CYsPD0OwjcozFNh/Qcd78tqVbCIW+n+Fky472Bh/Q6SYb1EEy8tDzd+9IsVPAAAAABJRU5ErkJggg=="},
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "default_prompt": "# system:\nAs an AI assistant, your task involves interpreting
        images and responding to questions about the image.\nRemember to provide accurate
        answers based on the information present in the image.\n\n# user:\nCan you
        tell me what the image depicts?\n![image]({{image_input}})\n", "enable_kwargs":
        false, "tool_state": "preview"}, {"name": "Serp API", "type": "python", "inputs":
        {"connection": {"type": ["SerpConnection"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "engine": {"type": ["string"], "default":
        "google", "enum": ["google", "bing"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "location": {"type": ["string"], "default":
        "", "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "num": {"type": ["int"], "default": "10", "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "query": {"type": ["string"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "safe": {"type":
        ["string"], "default": "off", "enum": ["active", "off"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}}, "description":
        "Use Serp API to obtain search results from a specific search engine.", "module":
        "promptflow.tools.serpapi", "class_name": "SerpAPI", "function": "search",
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "enable_kwargs": false, "tool_state": "stable"}, {"name": "Index Lookup",
        "type": "python", "inputs": {"acs_content_field": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["Azure AI Search"], "dynamic_list": {"func_path":
        "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_fields",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}, {"default": "Edm.String", "name": "field_data_type",
        "optional": false, "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "uionly_hidden"}, "acs_embedding_field": {"type": ["string"],
        "enabled_by": "index_type", "enabled_by_value": ["Azure AI Search"], "dynamic_list":
        {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_fields",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}, {"default": "Collection(Edm.Single)", "name": "field_data_type",
        "optional": false, "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "uionly_hidden"}, "acs_index_connection": {"type": ["CognitiveSearchConnection"],
        "enabled_by": "index_type", "enabled_by_value": ["Azure AI Search"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "uionly_hidden"}, "acs_index_name":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Azure
        AI Search"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_indices",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]}]},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "acs_metadata_field": {"type": ["string"], "enabled_by": "index_type", "enabled_by_value":
        ["Azure AI Search"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_fields",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}, {"default": "Edm.String", "name": "field_data_type",
        "optional": false, "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "uionly_hidden"}, "aoai_embedding_connection": {"type":
        ["AzureOpenAIConnection"], "enabled_by": "embedding_type", "enabled_by_value":
        ["Azure OpenAI"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "uionly_hidden"}, "embedding_deployment": {"type": ["string"], "enabled_by":
        "embedding_type", "enabled_by_value": ["Azure OpenAI"], "dynamic_list": {"func_path":
        "promptflow_vectordb.tool.common_index_lookup_utils.list_aoai_embedding_deployments",
        "func_kwargs": [{"name": "aoai_connection", "optional": false, "reference":
        "${inputs.aoai_embedding_connection}", "type": ["AzurOpenAIConnection"]}]},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "embedding_model": {"type": ["string"], "enabled_by": "embedding_type", "enabled_by_value":
        ["OpenAI", "Hugging Face"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_embedding_models",
        "func_kwargs": [{"name": "embedding_type", "optional": false, "reference":
        "${inputs.embedding_type}", "type": ["string"]}]}, "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "uionly_hidden"}, "embedding_type":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Azure
        AI Search", "FAISS", "Pinecone"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_available_embedding_types",
        "func_kwargs": [{"name": "index_type", "optional": false, "reference": "${inputs.index_type}",
        "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "uionly_hidden"}, "faiss_index_path": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["FAISS"], "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "uionly_hidden"}, "index_type": {"type":
        ["string"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_available_index_types"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "mlindex_asset_id": {"type": ["string"], "enabled_by": "index_type", "enabled_by_value":
        ["Registered Index"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_registered_mlindices"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "mlindex_content": {"type": ["string"], "allow_manual_entry": false, "is_multi_select":
        false, "generated_by": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.forward_mapping",
        "func_kwargs": [{"name": "index_type", "reference": "${inputs.index_type}",
        "type": ["string"]}, {"name": "mlindex_asset_id", "optional": true, "reference":
        "${inputs.mlindex_asset_id}", "type": ["string"]}, {"name": "mlindex_path",
        "optional": true, "reference": "${inputs.mlindex_path}", "type": ["string"]},
        {"name": "acs_index_connection", "optional": true, "reference": "${inputs.acs_index_connection}",
        "type": ["CognitiveSearchConnection"]}, {"name": "acs_index_name", "optional":
        true, "reference": "${inputs.acs_index_name}", "type": ["string"]}, {"name":
        "acs_content_field", "optional": true, "reference": "${inputs.acs_content_field}",
        "type": ["string"]}, {"name": "acs_embedding_field", "optional": true, "reference":
        "${inputs.acs_embedding_field}", "type": ["string"]}, {"name": "acs_metadata_field",
        "optional": true, "reference": "${inputs.acs_metadata_field}", "type": ["string"]},
        {"name": "semantic_configuration", "optional": true, "reference": "${inputs.semantic_configuration}",
        "type": ["string"]}, {"name": "faiss_index_path", "optional": true, "reference":
        "${inputs.faiss_index_path}", "type": ["string"]}, {"name": "pinecone_index_connection",
        "optional": true, "reference": "${inputs.pinecone_index_connection}", "type":
        ["string"]}, {"name": "pinecone_index_name", "optional": true, "reference":
        "${inputs.pinecone_index_name}", "type": ["string"]}, {"name": "pinecone_content_field",
        "optional": true, "reference": "${inputs.pinecone_content_field}", "type":
        ["string"]}, {"name": "pinecone_metadata_field", "optional": true, "reference":
        "${inputs.pinecone_metadata_field}", "type": ["string"]}, {"name": "embedding_type",
        "optional": true, "reference": "${inputs.embedding_type}", "type": ["string"]},
        {"name": "aoai_embedding_connection", "optional": true, "reference": "${inputs.aoai_embedding_connection}",
        "type": ["AzureOpenAIConnection"]}, {"name": "oai_embedding_connection", "optional":
        true, "reference": "${inputs.oai_embedding_connection}", "type": ["string"]},
        {"name": "embedding_model", "optional": true, "reference": "${inputs.embedding_model}",
        "type": ["string"]}, {"name": "embedding_deployment", "optional": true, "reference":
        "${inputs.embedding_deployment}", "type": ["string"]}, {"name": "serverless_embedding_connection",
        "optional": true, "reference": "${inputs.serverless_embedding_connection}",
        "type": ["string"]}], "reverse_func_path": "promptflow_vectordb.tool.common_index_lookup_utils.reverse_mapping"},
        "input_type": "default"}, "mlindex_path": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["MLIndex file from path"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "uionly_hidden"}, "oai_embedding_connection":
        {"type": ["OpenAIConnection"], "enabled_by": "embedding_type", "enabled_by_value":
        ["OpenAI"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "uionly_hidden"}, "pinecone_content_field": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["Pinecone"], "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "uionly_hidden"}, "pinecone_index_connection":
        {"type": ["PineconeConnection"], "enabled_by": "index_type", "enabled_by_value":
        ["Pinecone"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_pinecone_connections"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "pinecone_index_name": {"type": ["string"], "enabled_by": "index_type", "enabled_by_value":
        ["Pinecone"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_pinecone_indices",
        "func_kwargs": [{"name": "pinecone_connection_name", "optional": false, "reference":
        "${inputs.pinecone_index_connection}", "type": ["string"]}]}, "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "uionly_hidden"}, "pinecone_metadata_field":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Pinecone"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "queries": {"type": ["object"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "query_type": {"type": ["string"], "dynamic_list":
        {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_available_query_types",
        "func_kwargs": [{"name": "mlindex_content", "optional": false, "reference":
        "${inputs.mlindex_content}", "type": ["string"]}]}, "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "semantic_configuration":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Azure
        AI Search"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_semantic_configurations",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "uionly_hidden"}, "serverless_embedding_connection": {"type":
        ["string"], "enabled_by": "embedding_type", "enabled_by_value": ["Serverless
        Endpoint"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_serverless_embedding_connections"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "top_k": {"type": ["int"], "default": 3, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}}, "description": "Search an AzureML Vector
        Index for relevant results using one or more text queries.", "module": "promptflow_vectordb.tool.common_index_lookup",
        "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "preview"},
        {"name": "Faiss Index Lookup", "type": "python", "inputs": {"path": {"type":
        ["string"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}, "top_k": {"type": ["int"], "default": "3", "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "vector": {"type":
        ["list"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}}, "description": "Search vector based query from the FAISS index
        file.", "module": "promptflow_vectordb.tool.faiss_index_lookup", "class_name":
        "FaissIndexLookup", "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "archived"},
        {"name": "Vector DB Lookup", "type": "python", "inputs": {"class_name": {"type":
        ["string"], "enabled_by": "connection", "enabled_by_type": ["WeaviateConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "collection_name": {"type": ["string"], "enabled_by": "connection", "enabled_by_type":
        ["QdrantConnection"], "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}, "connection": {"type": ["CognitiveSearchConnection",
        "QdrantConnection", "WeaviateConnection"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "index_name": {"type": ["string"], "enabled_by":
        "connection", "enabled_by_type": ["CognitiveSearchConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "search_filters":
        {"type": ["object"], "enabled_by": "connection", "enabled_by_type": ["CognitiveSearchConnection",
        "QdrantConnection"], "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}, "search_params": {"type": ["object"], "enabled_by":
        "connection", "enabled_by_type": ["CognitiveSearchConnection", "QdrantConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "text_field": {"type": ["string"], "enabled_by": "connection", "enabled_by_type":
        ["CognitiveSearchConnection", "QdrantConnection", "WeaviateConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "top_k": {"type":
        ["int"], "default": "3", "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}, "vector": {"type": ["list"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "vector_field":
        {"type": ["string"], "enabled_by": "connection", "enabled_by_type": ["CognitiveSearchConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"}},
        "description": "Search vector based query from existing Vector Database.",
        "module": "promptflow_vectordb.tool.vector_db_lookup", "class_name": "VectorDBLookup",
        "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "archived"},
        {"name": "Vector Index Lookup", "type": "python", "inputs": {"path": {"type":
        ["string"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}, "query": {"type": ["object"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "top_k": {"type": ["int"], "default": "3",
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"}},
        "description": "Search text or vector based query from AzureML Vector Index.",
        "module": "promptflow_vectordb.tool.vector_index_lookup", "class_name": "VectorIndexLookup",
        "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "archived"},
        {"name": "count_image.py", "type": "python", "inputs": {"images": {"type":
        ["object"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}}, "source": "count_image.py", "function": "aggregate", "is_builtin":
        false, "enable_kwargs": false, "tool_state": "stable"}, {"name": "flip_image.py",
        "type": "python", "inputs": {"input_image": {"type": ["image"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}}, "source": "flip_image.py",
        "function": "passthrough", "is_builtin": false, "enable_kwargs": false, "tool_state":
        "stable"}], "inputs": {"input_image": {"type": "image", "default": "https://developer.microsoft.com/_devcom/images/logo-ms-social.png",
        "is_chat_input": false}}, "outputs": {"output_image": {"type": "string", "reference":
        "${flip_image.output}", "evaluation_only": false, "is_chat_output": false}}},
        "flowRunResourceId": "azureml://locations/eastus/workspaces/00000/flows/name/flowRuns/name",
        "flowRunId": "name", "flowRunDisplayName": "resume_from_run_with_image_and_aggregation_node",
        "batchDataInput": {"dataUri": "azureml://datastores/workspaceblobstore/paths/LocalUpload/f0a11846460e7f82ede2efcac357243a/input_data/"},
        "flowRunType": "FlowRun", "flowType": "Default", "runtimeName": "automatic",
        "inputsMapping": {"input_image": "${data.input_image}"}, "outputDatastoreName":
        "workspaceblobstore", "childRunBasePath": "promptflow/PromptFlowArtifacts/name/name/flow_artifacts",
        "flowDagFileRelativePath": "flow.dag.yaml", "flowSnapshotId": "5736ca27-2c86-4efa-b25b-786d71f83a72",
        "sessionId": "name", "studioPortalEndpoint": "https://ml.azure.com/runs/name?wsid=/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000"}'
    headers:
      connection:
      - keep-alive
      content-length:
      - '28283'
      content-type:
      - application/json; charset=utf-8
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-request-time:
      - '0.182'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - promptflow-azure-sdk/1.0.0.dev0 azsdk-python-azuremachinelearningdesignerserviceclient/unknown
        Python/3.9.19 (Windows-10-10.0.22631-SP0)
    method: GET
    uri: https://eastus.api.azureml.ms/flow/api/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/BulkRuns/name
  response:
    body:
      string: '{"flowGraph": {"nodes": [{"name": "flip_image", "type": "python", "source":
        {"type": "code", "path": "flip_image.py"}, "inputs": {"input_image": "${inputs.input_image}"},
        "tool": "flip_image.py", "reduce": false}, {"name": "count_image", "type":
        "python", "source": {"type": "code", "path": "count_image.py"}, "inputs":
        {"images": "${flip_image.output}"}, "tool": "count_image.py", "reduce": true}],
        "tools": [{"name": "Azure OpenAI GPT-4 Turbo with Vision", "type": "custom_llm",
        "inputs": {"connection": {"type": ["AzureOpenAIConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        0}}, "deployment_name": {"type": ["string"], "enabled_by": "connection", "dynamic_list":
        {"func_path": "promptflow.tools.aoai_gpt4v.list_deployment_names", "func_kwargs":
        [{"name": "connection", "reference": "${inputs.connection}", "type": ["AzureOpenAIConnection"]}]},
        "allow_manual_entry": true, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 1}}, "frequency_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 7}}, "max_tokens": {"type": ["int"], "default": 512,
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 4}}, "presence_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 6}}, "seed": {"type": ["int"], "default": "", "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        8}}, "stop": {"type": ["list"], "default": "", "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 5}},
        "temperature": {"type": ["double"], "default": 1, "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 2}},
        "top_p": {"type": ["double"], "default": 1, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "ui_hints": {"index": 3}}}, "description":
        "Use Azure OpenAI GPT-4 Turbo with Vision to leverage AOAI vision ability.",
        "module": "promptflow.tools.aoai_gpt4v", "class_name": "AzureOpenAI", "function":
        "chat", "icon": {"dark": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA2ElEQVR4nJXSzW3CQBAF4DUSTjk+Al1AD0ikESslpBIEheRALhEpgAYSWV8OGUublf/yLuP3PPNmdndS+gdwXZrYDmh7fGE/W+wXbaYd8IYm4rxJPnZ0boI3wZcdJxs/n+AwV7DFK7aFyfQdYIMLPvES8YJNf5yp4jMeeEYdWh38gXOR35YGHe5xabvQdsHv6PLi8qV6gycc8YH3iMfQu6Lh4ASr+F5Hh3XwVWnQYzUkVlX1nccplAb1SN6Y/sfgmlK64VS8wimldIv/0yj2QLkHizG0iWP4AVAfQ34DVQONAAAAAElFTkSuQmCC",
        "light": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAx0lEQVR4nJWSwQ2CQBBFX0jAcjgqXUgPJNiIsQQrIVCIFy8GC6ABDcGDX7Mus9n1Xz7zZ+fPsLPwH4bUg0dD2wMPcbR48Uxq4AKU4iSTDwZ1LhWXipN/B3V0J6hjBTvgLHZNonewBXrgDpzEvXSIjN0BE3AACmmF4kl5F6tNzcCoLpW0SvGovFvsb4oZ2AANcAOu4ka6axCcINN3rg654sww+CYsPD0OwjcozFNh/Qcd78tqVbCIW+n+Fky472Bh/Q6SYb1EEy8tDzd+9IsVPAAAAABJRU5ErkJggg=="},
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "default_prompt": "# system:\nAs an AI assistant, your task involves interpreting
        images and responding to questions about the image.\nRemember to provide accurate
        answers based on the information present in the image.\n\n# user:\nCan you
        tell me what the image depicts?\n![image]({{image_input}})\n", "enable_kwargs":
        false, "tool_state": "preview"}, {"name": "Content Safety (Text Analyze)",
        "type": "python", "inputs": {"connection": {"type": ["AzureContentSafetyConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "hate_category": {"type": ["string"], "default": "medium_sensitivity", "enum":
        ["disable", "low_sensitivity", "medium_sensitivity", "high_sensitivity"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "self_harm_category": {"type": ["string"], "default": "medium_sensitivity",
        "enum": ["disable", "low_sensitivity", "medium_sensitivity", "high_sensitivity"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "sexual_category": {"type": ["string"], "default": "medium_sensitivity", "enum":
        ["disable", "low_sensitivity", "medium_sensitivity", "high_sensitivity"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "text": {"type": ["string"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "violence_category": {"type": ["string"],
        "default": "medium_sensitivity", "enum": ["disable", "low_sensitivity", "medium_sensitivity",
        "high_sensitivity"], "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}}, "description": "Use Azure Content Safety to detect
        harmful content.", "module": "promptflow.tools.azure_content_safety", "function":
        "analyze_text", "is_builtin": true, "package": "promptflow-tools", "package_version":
        "1.4.0rc3", "enable_kwargs": false, "deprecated_tools": ["content_safety_text.tools.content_safety_text_tool.analyze_text"],
        "tool_state": "stable"}, {"name": "Embedding", "type": "python", "inputs":
        {"connection": {"type": ["AzureOpenAIConnection", "OpenAIConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "deployment_name":
        {"type": ["string"], "enabled_by": "connection", "enabled_by_type": ["AzureOpenAIConnection"],
        "model_list": ["text-embedding-ada-002", "text-search-ada-doc-001", "text-search-ada-query-001"],
        "capabilities": {"completion": false, "chat_completion": false, "embeddings":
        true}, "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}, "input": {"type": ["string"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "model": {"type": ["string"], "enum": ["text-embedding-ada-002",
        "text-search-ada-doc-001", "text-search-ada-query-001"], "enabled_by": "connection",
        "enabled_by_type": ["OpenAIConnection"], "allow_manual_entry": true, "is_multi_select":
        false, "input_type": "default"}}, "description": "Use OpenAI''s embedding
        model to create an embedding vector representing the input text.", "module":
        "promptflow.tools.embedding", "function": "embedding", "is_builtin": true,
        "package": "promptflow-tools", "package_version": "1.4.0rc3", "enable_kwargs":
        false, "tool_state": "stable"}, {"name": "Open Model LLM", "type": "custom_llm",
        "inputs": {"api": {"type": ["string"], "enum": ["chat", "completion"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        2}}, "deployment_name": {"type": ["string"], "default": "", "dynamic_list":
        {"func_path": "promptflow.tools.open_model_llm.list_deployment_names", "func_kwargs":
        [{"name": "endpoint", "optional": true, "reference": "${inputs.endpoint}",
        "type": ["string"]}]}, "allow_manual_entry": true, "is_multi_select": false,
        "input_type": "default", "ui_hints": {"index": 1}}, "endpoint_name": {"type":
        ["string"], "dynamic_list": {"func_path": "promptflow.tools.open_model_llm.list_endpoint_names"},
        "allow_manual_entry": true, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 0}}, "max_new_tokens": {"type": ["int"], "default":
        500, "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default", "ui_hints": {"index": 4}}, "model_kwargs": {"type": ["object"],
        "default": "{}", "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default", "advanced": true, "ui_hints": {"index": 6}}, "temperature": {"type":
        ["double"], "default": 1.0, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "ui_hints": {"index": 3}}, "top_p": {"type":
        ["double"], "default": 1.0, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "advanced": true, "ui_hints": {"index": 5}}},
        "description": "Use an open model from the Azure Model catalog, deployed to
        an AzureML Online Endpoint for LLM Chat or Completion API calls.", "module":
        "promptflow.tools.open_model_llm", "class_name": "OpenModelLLM", "function":
        "call", "icon": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACgElEQVR4nGWSz2vcVRTFP/e9NzOZ1KDGohASslLEH6VLV0ak4l/QpeDCrfQPcNGliODKnVm4EBdBsIjQIlhciKW0ycKFVCSNbYnjdDLtmPnmO/nO9917XcxMkjYX3uLx7nnn3HOuMK2Nix4fP78ZdrYXVkLVWjf3l3B1B+HpcjzGFtmqa6cePz7/x0dnn1n5qhj3iBJPYREIURAJuCtpY8PjReDbrf9WG7H1fuefwQU9qKztTcMJT+PNnEFvjGVDBDlSsH6p/9MLzy6+NxwVqI8RAg4IPmWedMckdLYP6O6UpIaQfvyyXG012+e79/ZfHukoS1ISMT2hGTB1RkUmNgQ5QZ0w+a2VWDq73MbdEWmfnnv6UWe7oNzPaLapl5CwuLTXK9WUGBuCjqekzhP+z52ZXOrKMD3OJg0Hh778aiOuvpnYvp05d6GJO4iAO4QAe/eV36/X5LFRV4Zmn+AdkqlL8Vjp3oVioOz+WTPzzYEgsN+fgPLYyJVheSbPPVl2ikeGZRjtG52/8rHuaV9VOlpP2OtKyVndcRVCSqOhsvxa4vW359i6OuKdD+aP8Q4SYPdOzS/flGjt1JUSaMqZ5nwa1Y8qWb/Ud/eZZkHisYezEM0m+fcelDr8F1SqW2LNK6r1jXQwyLzy1hxvrLXZulry7ocL+FS6G4QIu3fG/Px1gdYeW7LIgXU2P/115TOA5G7e3Rmj2aS/m7l5pThiZzrCcE/d1XHzbln373nw7y6veeoUm5KCNKT/IPPwbiY1hYd/l5MIT65BMFt87sU4v9D7/JMflr44uV6hGh1+L4RCkg6z5iK2tAhNLeLsNGwYA4fDYnC/drvuuFxe86NV/x+Ut27g0FvykgAAAABJRU5ErkJggg==",
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "enable_kwargs": false, "tool_state": "stable"}, {"name": "OpenAI GPT-4V",
        "type": "custom_llm", "inputs": {"connection": {"type": ["OpenAIConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 0}}, "frequency_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 7}}, "max_tokens": {"type": ["int"], "default": 512,
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 4}}, "model": {"type": ["string"], "enum": ["gpt-4-vision-preview"],
        "allow_manual_entry": true, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 1}}, "presence_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 6}}, "seed": {"type": ["int"], "default": "", "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        8}}, "stop": {"type": ["list"], "default": "", "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 5}},
        "temperature": {"type": ["double"], "default": 1, "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 2}},
        "top_p": {"type": ["double"], "default": 1, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "ui_hints": {"index": 3}}}, "description":
        "Use OpenAI GPT-4V to leverage vision ability.", "module": "promptflow.tools.openai_gpt4v",
        "class_name": "OpenAI", "function": "chat", "icon": {"dark": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA2ElEQVR4nJXSzW3CQBAF4DUSTjk+Al1AD0ikESslpBIEheRALhEpgAYSWV8OGUublf/yLuP3PPNmdndS+gdwXZrYDmh7fGE/W+wXbaYd8IYm4rxJPnZ0boI3wZcdJxs/n+AwV7DFK7aFyfQdYIMLPvES8YJNf5yp4jMeeEYdWh38gXOR35YGHe5xabvQdsHv6PLi8qV6gycc8YH3iMfQu6Lh4ASr+F5Hh3XwVWnQYzUkVlX1nccplAb1SN6Y/sfgmlK64VS8wimldIv/0yj2QLkHizG0iWP4AVAfQ34DVQONAAAAAElFTkSuQmCC",
        "light": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAx0lEQVR4nJWSwQ2CQBBFX0jAcjgqXUgPJNiIsQQrIVCIFy8GC6ABDcGDX7Mus9n1Xz7zZ+fPsLPwH4bUg0dD2wMPcbR48Uxq4AKU4iSTDwZ1LhWXipN/B3V0J6hjBTvgLHZNonewBXrgDpzEvXSIjN0BE3AACmmF4kl5F6tNzcCoLpW0SvGovFvsb4oZ2AANcAOu4ka6axCcINN3rg654sww+CYsPD0OwjcozFNh/Qcd78tqVbCIW+n+Fky472Bh/Q6SYb1EEy8tDzd+9IsVPAAAAABJRU5ErkJggg=="},
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "default_prompt": "# system:\nAs an AI assistant, your task involves interpreting
        images and responding to questions about the image.\nRemember to provide accurate
        answers based on the information present in the image.\n\n# user:\nCan you
        tell me what the image depicts?\n![image]({{image_input}})\n", "enable_kwargs":
        false, "tool_state": "preview"}, {"name": "Serp API", "type": "python", "inputs":
        {"connection": {"type": ["SerpConnection"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "engine": {"type": ["string"], "default":
        "google", "enum": ["google", "bing"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "location": {"type": ["string"], "default":
        "", "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "num": {"type": ["int"], "default": "10", "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "query": {"type": ["string"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "safe": {"type":
        ["string"], "default": "off", "enum": ["active", "off"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}}, "description":
        "Use Serp API to obtain search results from a specific search engine.", "module":
        "promptflow.tools.serpapi", "class_name": "SerpAPI", "function": "search",
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "enable_kwargs": false, "tool_state": "stable"}, {"name": "Index Lookup",
        "type": "python", "inputs": {"acs_content_field": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["Azure AI Search"], "dynamic_list": {"func_path":
        "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_fields",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}, {"default": "Edm.String", "name": "field_data_type",
        "optional": false, "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "uionly_hidden"}, "acs_embedding_field": {"type": ["string"],
        "enabled_by": "index_type", "enabled_by_value": ["Azure AI Search"], "dynamic_list":
        {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_fields",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}, {"default": "Collection(Edm.Single)", "name": "field_data_type",
        "optional": false, "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "uionly_hidden"}, "acs_index_connection": {"type": ["CognitiveSearchConnection"],
        "enabled_by": "index_type", "enabled_by_value": ["Azure AI Search"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "uionly_hidden"}, "acs_index_name":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Azure
        AI Search"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_indices",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]}]},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "acs_metadata_field": {"type": ["string"], "enabled_by": "index_type", "enabled_by_value":
        ["Azure AI Search"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_fields",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}, {"default": "Edm.String", "name": "field_data_type",
        "optional": false, "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "uionly_hidden"}, "aoai_embedding_connection": {"type":
        ["AzureOpenAIConnection"], "enabled_by": "embedding_type", "enabled_by_value":
        ["Azure OpenAI"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "uionly_hidden"}, "embedding_deployment": {"type": ["string"], "enabled_by":
        "embedding_type", "enabled_by_value": ["Azure OpenAI"], "dynamic_list": {"func_path":
        "promptflow_vectordb.tool.common_index_lookup_utils.list_aoai_embedding_deployments",
        "func_kwargs": [{"name": "aoai_connection", "optional": false, "reference":
        "${inputs.aoai_embedding_connection}", "type": ["AzurOpenAIConnection"]}]},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "embedding_model": {"type": ["string"], "enabled_by": "embedding_type", "enabled_by_value":
        ["OpenAI", "Hugging Face"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_embedding_models",
        "func_kwargs": [{"name": "embedding_type", "optional": false, "reference":
        "${inputs.embedding_type}", "type": ["string"]}]}, "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "uionly_hidden"}, "embedding_type":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Azure
        AI Search", "FAISS", "Pinecone"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_available_embedding_types",
        "func_kwargs": [{"name": "index_type", "optional": false, "reference": "${inputs.index_type}",
        "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "uionly_hidden"}, "faiss_index_path": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["FAISS"], "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "uionly_hidden"}, "index_type": {"type":
        ["string"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_available_index_types"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "mlindex_asset_id": {"type": ["string"], "enabled_by": "index_type", "enabled_by_value":
        ["Registered Index"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_registered_mlindices"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "mlindex_content": {"type": ["string"], "allow_manual_entry": false, "is_multi_select":
        false, "generated_by": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.forward_mapping",
        "func_kwargs": [{"name": "index_type", "reference": "${inputs.index_type}",
        "type": ["string"]}, {"name": "mlindex_asset_id", "optional": true, "reference":
        "${inputs.mlindex_asset_id}", "type": ["string"]}, {"name": "mlindex_path",
        "optional": true, "reference": "${inputs.mlindex_path}", "type": ["string"]},
        {"name": "acs_index_connection", "optional": true, "reference": "${inputs.acs_index_connection}",
        "type": ["CognitiveSearchConnection"]}, {"name": "acs_index_name", "optional":
        true, "reference": "${inputs.acs_index_name}", "type": ["string"]}, {"name":
        "acs_content_field", "optional": true, "reference": "${inputs.acs_content_field}",
        "type": ["string"]}, {"name": "acs_embedding_field", "optional": true, "reference":
        "${inputs.acs_embedding_field}", "type": ["string"]}, {"name": "acs_metadata_field",
        "optional": true, "reference": "${inputs.acs_metadata_field}", "type": ["string"]},
        {"name": "semantic_configuration", "optional": true, "reference": "${inputs.semantic_configuration}",
        "type": ["string"]}, {"name": "faiss_index_path", "optional": true, "reference":
        "${inputs.faiss_index_path}", "type": ["string"]}, {"name": "pinecone_index_connection",
        "optional": true, "reference": "${inputs.pinecone_index_connection}", "type":
        ["string"]}, {"name": "pinecone_index_name", "optional": true, "reference":
        "${inputs.pinecone_index_name}", "type": ["string"]}, {"name": "pinecone_content_field",
        "optional": true, "reference": "${inputs.pinecone_content_field}", "type":
        ["string"]}, {"name": "pinecone_metadata_field", "optional": true, "reference":
        "${inputs.pinecone_metadata_field}", "type": ["string"]}, {"name": "embedding_type",
        "optional": true, "reference": "${inputs.embedding_type}", "type": ["string"]},
        {"name": "aoai_embedding_connection", "optional": true, "reference": "${inputs.aoai_embedding_connection}",
        "type": ["AzureOpenAIConnection"]}, {"name": "oai_embedding_connection", "optional":
        true, "reference": "${inputs.oai_embedding_connection}", "type": ["string"]},
        {"name": "embedding_model", "optional": true, "reference": "${inputs.embedding_model}",
        "type": ["string"]}, {"name": "embedding_deployment", "optional": true, "reference":
        "${inputs.embedding_deployment}", "type": ["string"]}, {"name": "serverless_embedding_connection",
        "optional": true, "reference": "${inputs.serverless_embedding_connection}",
        "type": ["string"]}], "reverse_func_path": "promptflow_vectordb.tool.common_index_lookup_utils.reverse_mapping"},
        "input_type": "default"}, "mlindex_path": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["MLIndex file from path"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "uionly_hidden"}, "oai_embedding_connection":
        {"type": ["OpenAIConnection"], "enabled_by": "embedding_type", "enabled_by_value":
        ["OpenAI"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "uionly_hidden"}, "pinecone_content_field": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["Pinecone"], "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "uionly_hidden"}, "pinecone_index_connection":
        {"type": ["PineconeConnection"], "enabled_by": "index_type", "enabled_by_value":
        ["Pinecone"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_pinecone_connections"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "pinecone_index_name": {"type": ["string"], "enabled_by": "index_type", "enabled_by_value":
        ["Pinecone"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_pinecone_indices",
        "func_kwargs": [{"name": "pinecone_connection_name", "optional": false, "reference":
        "${inputs.pinecone_index_connection}", "type": ["string"]}]}, "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "uionly_hidden"}, "pinecone_metadata_field":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Pinecone"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "queries": {"type": ["object"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "query_type": {"type": ["string"], "dynamic_list":
        {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_available_query_types",
        "func_kwargs": [{"name": "mlindex_content", "optional": false, "reference":
        "${inputs.mlindex_content}", "type": ["string"]}]}, "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "semantic_configuration":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Azure
        AI Search"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_semantic_configurations",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "uionly_hidden"}, "serverless_embedding_connection": {"type":
        ["string"], "enabled_by": "embedding_type", "enabled_by_value": ["Serverless
        Endpoint"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_serverless_embedding_connections"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "top_k": {"type": ["int"], "default": 3, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}}, "description": "Search an AzureML Vector
        Index for relevant results using one or more text queries.", "module": "promptflow_vectordb.tool.common_index_lookup",
        "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "preview"},
        {"name": "Faiss Index Lookup", "type": "python", "inputs": {"path": {"type":
        ["string"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}, "top_k": {"type": ["int"], "default": "3", "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "vector": {"type":
        ["list"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}}, "description": "Search vector based query from the FAISS index
        file.", "module": "promptflow_vectordb.tool.faiss_index_lookup", "class_name":
        "FaissIndexLookup", "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "archived"},
        {"name": "Vector DB Lookup", "type": "python", "inputs": {"class_name": {"type":
        ["string"], "enabled_by": "connection", "enabled_by_type": ["WeaviateConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "collection_name": {"type": ["string"], "enabled_by": "connection", "enabled_by_type":
        ["QdrantConnection"], "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}, "connection": {"type": ["CognitiveSearchConnection",
        "QdrantConnection", "WeaviateConnection"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "index_name": {"type": ["string"], "enabled_by":
        "connection", "enabled_by_type": ["CognitiveSearchConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "search_filters":
        {"type": ["object"], "enabled_by": "connection", "enabled_by_type": ["CognitiveSearchConnection",
        "QdrantConnection"], "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}, "search_params": {"type": ["object"], "enabled_by":
        "connection", "enabled_by_type": ["CognitiveSearchConnection", "QdrantConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "text_field": {"type": ["string"], "enabled_by": "connection", "enabled_by_type":
        ["CognitiveSearchConnection", "QdrantConnection", "WeaviateConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "top_k": {"type":
        ["int"], "default": "3", "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}, "vector": {"type": ["list"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "vector_field":
        {"type": ["string"], "enabled_by": "connection", "enabled_by_type": ["CognitiveSearchConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"}},
        "description": "Search vector based query from existing Vector Database.",
        "module": "promptflow_vectordb.tool.vector_db_lookup", "class_name": "VectorDBLookup",
        "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "archived"},
        {"name": "Vector Index Lookup", "type": "python", "inputs": {"path": {"type":
        ["string"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}, "query": {"type": ["object"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "top_k": {"type": ["int"], "default": "3",
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"}},
        "description": "Search text or vector based query from AzureML Vector Index.",
        "module": "promptflow_vectordb.tool.vector_index_lookup", "class_name": "VectorIndexLookup",
        "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "archived"},
        {"name": "count_image.py", "type": "python", "inputs": {"images": {"type":
        ["object"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}}, "source": "count_image.py", "function": "aggregate", "is_builtin":
        false, "enable_kwargs": false, "tool_state": "stable"}, {"name": "flip_image.py",
        "type": "python", "inputs": {"input_image": {"type": ["image"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}}, "source": "flip_image.py",
        "function": "passthrough", "is_builtin": false, "enable_kwargs": false, "tool_state":
        "stable"}], "inputs": {"input_image": {"type": "image", "default": "https://developer.microsoft.com/_devcom/images/logo-ms-social.png",
        "is_chat_input": false}}, "outputs": {"output_image": {"type": "string", "reference":
        "${flip_image.output}", "evaluation_only": false, "is_chat_output": false}}},
        "flowRunResourceId": "azureml://locations/eastus/workspaces/00000/flows/name/flowRuns/name",
        "flowRunId": "name", "flowRunDisplayName": "resume_from_run_with_image_and_aggregation_node",
        "batchDataInput": {"dataUri": "azureml://datastores/workspaceblobstore/paths/LocalUpload/f0a11846460e7f82ede2efcac357243a/input_data/"},
        "flowRunType": "FlowRun", "flowType": "Default", "runtimeName": "automatic",
        "inputsMapping": {"input_image": "${data.input_image}"}, "outputDatastoreName":
        "workspaceblobstore", "childRunBasePath": "promptflow/PromptFlowArtifacts/name/name/flow_artifacts",
        "flowDagFileRelativePath": "flow.dag.yaml", "flowSnapshotId": "5736ca27-2c86-4efa-b25b-786d71f83a72",
        "sessionId": "name", "studioPortalEndpoint": "https://ml.azure.com/runs/name?wsid=/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000"}'
    headers:
      connection:
      - keep-alive
      content-length:
      - '28283'
      content-type:
      - application/json; charset=utf-8
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-request-time:
      - '0.173'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - promptflow-azure-sdk/1.0.0.dev0 azsdk-python-azuremachinelearningdesignerserviceclient/unknown
        Python/3.9.19 (Windows-10-10.0.22631-SP0)
    method: GET
    uri: https://eastus.api.azureml.ms/flow/api/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/BulkRuns/name
  response:
    body:
      string: '{"flowGraph": {"nodes": [{"name": "flip_image", "type": "python", "source":
        {"type": "code", "path": "flip_image.py"}, "inputs": {"input_image": "${inputs.input_image}"},
        "tool": "flip_image.py", "reduce": false}, {"name": "count_image", "type":
        "python", "source": {"type": "code", "path": "count_image.py"}, "inputs":
        {"images": "${flip_image.output}"}, "tool": "count_image.py", "reduce": true}],
        "tools": [{"name": "Azure OpenAI GPT-4 Turbo with Vision", "type": "custom_llm",
        "inputs": {"connection": {"type": ["AzureOpenAIConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        0}}, "deployment_name": {"type": ["string"], "enabled_by": "connection", "dynamic_list":
        {"func_path": "promptflow.tools.aoai_gpt4v.list_deployment_names", "func_kwargs":
        [{"name": "connection", "reference": "${inputs.connection}", "type": ["AzureOpenAIConnection"]}]},
        "allow_manual_entry": true, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 1}}, "frequency_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 7}}, "max_tokens": {"type": ["int"], "default": 512,
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 4}}, "presence_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 6}}, "seed": {"type": ["int"], "default": "", "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        8}}, "stop": {"type": ["list"], "default": "", "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 5}},
        "temperature": {"type": ["double"], "default": 1, "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 2}},
        "top_p": {"type": ["double"], "default": 1, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "ui_hints": {"index": 3}}}, "description":
        "Use Azure OpenAI GPT-4 Turbo with Vision to leverage AOAI vision ability.",
        "module": "promptflow.tools.aoai_gpt4v", "class_name": "AzureOpenAI", "function":
        "chat", "icon": {"dark": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA2ElEQVR4nJXSzW3CQBAF4DUSTjk+Al1AD0ikESslpBIEheRALhEpgAYSWV8OGUublf/yLuP3PPNmdndS+gdwXZrYDmh7fGE/W+wXbaYd8IYm4rxJPnZ0boI3wZcdJxs/n+AwV7DFK7aFyfQdYIMLPvES8YJNf5yp4jMeeEYdWh38gXOR35YGHe5xabvQdsHv6PLi8qV6gycc8YH3iMfQu6Lh4ASr+F5Hh3XwVWnQYzUkVlX1nccplAb1SN6Y/sfgmlK64VS8wimldIv/0yj2QLkHizG0iWP4AVAfQ34DVQONAAAAAElFTkSuQmCC",
        "light": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAx0lEQVR4nJWSwQ2CQBBFX0jAcjgqXUgPJNiIsQQrIVCIFy8GC6ABDcGDX7Mus9n1Xz7zZ+fPsLPwH4bUg0dD2wMPcbR48Uxq4AKU4iSTDwZ1LhWXipN/B3V0J6hjBTvgLHZNonewBXrgDpzEvXSIjN0BE3AACmmF4kl5F6tNzcCoLpW0SvGovFvsb4oZ2AANcAOu4ka6axCcINN3rg654sww+CYsPD0OwjcozFNh/Qcd78tqVbCIW+n+Fky472Bh/Q6SYb1EEy8tDzd+9IsVPAAAAABJRU5ErkJggg=="},
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "default_prompt": "# system:\nAs an AI assistant, your task involves interpreting
        images and responding to questions about the image.\nRemember to provide accurate
        answers based on the information present in the image.\n\n# user:\nCan you
        tell me what the image depicts?\n![image]({{image_input}})\n", "enable_kwargs":
        false, "tool_state": "preview"}, {"name": "Content Safety (Text Analyze)",
        "type": "python", "inputs": {"connection": {"type": ["AzureContentSafetyConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "hate_category": {"type": ["string"], "default": "medium_sensitivity", "enum":
        ["disable", "low_sensitivity", "medium_sensitivity", "high_sensitivity"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "self_harm_category": {"type": ["string"], "default": "medium_sensitivity",
        "enum": ["disable", "low_sensitivity", "medium_sensitivity", "high_sensitivity"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "sexual_category": {"type": ["string"], "default": "medium_sensitivity", "enum":
        ["disable", "low_sensitivity", "medium_sensitivity", "high_sensitivity"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "text": {"type": ["string"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "violence_category": {"type": ["string"],
        "default": "medium_sensitivity", "enum": ["disable", "low_sensitivity", "medium_sensitivity",
        "high_sensitivity"], "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}}, "description": "Use Azure Content Safety to detect
        harmful content.", "module": "promptflow.tools.azure_content_safety", "function":
        "analyze_text", "is_builtin": true, "package": "promptflow-tools", "package_version":
        "1.4.0rc3", "enable_kwargs": false, "deprecated_tools": ["content_safety_text.tools.content_safety_text_tool.analyze_text"],
        "tool_state": "stable"}, {"name": "Embedding", "type": "python", "inputs":
        {"connection": {"type": ["AzureOpenAIConnection", "OpenAIConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "deployment_name":
        {"type": ["string"], "enabled_by": "connection", "enabled_by_type": ["AzureOpenAIConnection"],
        "model_list": ["text-embedding-ada-002", "text-search-ada-doc-001", "text-search-ada-query-001"],
        "capabilities": {"completion": false, "chat_completion": false, "embeddings":
        true}, "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}, "input": {"type": ["string"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "model": {"type": ["string"], "enum": ["text-embedding-ada-002",
        "text-search-ada-doc-001", "text-search-ada-query-001"], "enabled_by": "connection",
        "enabled_by_type": ["OpenAIConnection"], "allow_manual_entry": true, "is_multi_select":
        false, "input_type": "default"}}, "description": "Use OpenAI''s embedding
        model to create an embedding vector representing the input text.", "module":
        "promptflow.tools.embedding", "function": "embedding", "is_builtin": true,
        "package": "promptflow-tools", "package_version": "1.4.0rc3", "enable_kwargs":
        false, "tool_state": "stable"}, {"name": "Open Model LLM", "type": "custom_llm",
        "inputs": {"api": {"type": ["string"], "enum": ["chat", "completion"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        2}}, "deployment_name": {"type": ["string"], "default": "", "dynamic_list":
        {"func_path": "promptflow.tools.open_model_llm.list_deployment_names", "func_kwargs":
        [{"name": "endpoint", "optional": true, "reference": "${inputs.endpoint}",
        "type": ["string"]}]}, "allow_manual_entry": true, "is_multi_select": false,
        "input_type": "default", "ui_hints": {"index": 1}}, "endpoint_name": {"type":
        ["string"], "dynamic_list": {"func_path": "promptflow.tools.open_model_llm.list_endpoint_names"},
        "allow_manual_entry": true, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 0}}, "max_new_tokens": {"type": ["int"], "default":
        500, "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default", "ui_hints": {"index": 4}}, "model_kwargs": {"type": ["object"],
        "default": "{}", "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default", "advanced": true, "ui_hints": {"index": 6}}, "temperature": {"type":
        ["double"], "default": 1.0, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "ui_hints": {"index": 3}}, "top_p": {"type":
        ["double"], "default": 1.0, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "advanced": true, "ui_hints": {"index": 5}}},
        "description": "Use an open model from the Azure Model catalog, deployed to
        an AzureML Online Endpoint for LLM Chat or Completion API calls.", "module":
        "promptflow.tools.open_model_llm", "class_name": "OpenModelLLM", "function":
        "call", "icon": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACgElEQVR4nGWSz2vcVRTFP/e9NzOZ1KDGohASslLEH6VLV0ak4l/QpeDCrfQPcNGliODKnVm4EBdBsIjQIlhciKW0ycKFVCSNbYnjdDLtmPnmO/nO9917XcxMkjYX3uLx7nnn3HOuMK2Nix4fP78ZdrYXVkLVWjf3l3B1B+HpcjzGFtmqa6cePz7/x0dnn1n5qhj3iBJPYREIURAJuCtpY8PjReDbrf9WG7H1fuefwQU9qKztTcMJT+PNnEFvjGVDBDlSsH6p/9MLzy6+NxwVqI8RAg4IPmWedMckdLYP6O6UpIaQfvyyXG012+e79/ZfHukoS1ISMT2hGTB1RkUmNgQ5QZ0w+a2VWDq73MbdEWmfnnv6UWe7oNzPaLapl5CwuLTXK9WUGBuCjqekzhP+z52ZXOrKMD3OJg0Hh778aiOuvpnYvp05d6GJO4iAO4QAe/eV36/X5LFRV4Zmn+AdkqlL8Vjp3oVioOz+WTPzzYEgsN+fgPLYyJVheSbPPVl2ikeGZRjtG52/8rHuaV9VOlpP2OtKyVndcRVCSqOhsvxa4vW359i6OuKdD+aP8Q4SYPdOzS/flGjt1JUSaMqZ5nwa1Y8qWb/Ud/eZZkHisYezEM0m+fcelDr8F1SqW2LNK6r1jXQwyLzy1hxvrLXZulry7ocL+FS6G4QIu3fG/Px1gdYeW7LIgXU2P/115TOA5G7e3Rmj2aS/m7l5pThiZzrCcE/d1XHzbln373nw7y6veeoUm5KCNKT/IPPwbiY1hYd/l5MIT65BMFt87sU4v9D7/JMflr44uV6hGh1+L4RCkg6z5iK2tAhNLeLsNGwYA4fDYnC/drvuuFxe86NV/x+Ut27g0FvykgAAAABJRU5ErkJggg==",
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "enable_kwargs": false, "tool_state": "stable"}, {"name": "OpenAI GPT-4V",
        "type": "custom_llm", "inputs": {"connection": {"type": ["OpenAIConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 0}}, "frequency_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 7}}, "max_tokens": {"type": ["int"], "default": 512,
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 4}}, "model": {"type": ["string"], "enum": ["gpt-4-vision-preview"],
        "allow_manual_entry": true, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 1}}, "presence_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 6}}, "seed": {"type": ["int"], "default": "", "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        8}}, "stop": {"type": ["list"], "default": "", "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 5}},
        "temperature": {"type": ["double"], "default": 1, "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 2}},
        "top_p": {"type": ["double"], "default": 1, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "ui_hints": {"index": 3}}}, "description":
        "Use OpenAI GPT-4V to leverage vision ability.", "module": "promptflow.tools.openai_gpt4v",
        "class_name": "OpenAI", "function": "chat", "icon": {"dark": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA2ElEQVR4nJXSzW3CQBAF4DUSTjk+Al1AD0ikESslpBIEheRALhEpgAYSWV8OGUublf/yLuP3PPNmdndS+gdwXZrYDmh7fGE/W+wXbaYd8IYm4rxJPnZ0boI3wZcdJxs/n+AwV7DFK7aFyfQdYIMLPvES8YJNf5yp4jMeeEYdWh38gXOR35YGHe5xabvQdsHv6PLi8qV6gycc8YH3iMfQu6Lh4ASr+F5Hh3XwVWnQYzUkVlX1nccplAb1SN6Y/sfgmlK64VS8wimldIv/0yj2QLkHizG0iWP4AVAfQ34DVQONAAAAAElFTkSuQmCC",
        "light": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAx0lEQVR4nJWSwQ2CQBBFX0jAcjgqXUgPJNiIsQQrIVCIFy8GC6ABDcGDX7Mus9n1Xz7zZ+fPsLPwH4bUg0dD2wMPcbR48Uxq4AKU4iSTDwZ1LhWXipN/B3V0J6hjBTvgLHZNonewBXrgDpzEvXSIjN0BE3AACmmF4kl5F6tNzcCoLpW0SvGovFvsb4oZ2AANcAOu4ka6axCcINN3rg654sww+CYsPD0OwjcozFNh/Qcd78tqVbCIW+n+Fky472Bh/Q6SYb1EEy8tDzd+9IsVPAAAAABJRU5ErkJggg=="},
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "default_prompt": "# system:\nAs an AI assistant, your task involves interpreting
        images and responding to questions about the image.\nRemember to provide accurate
        answers based on the information present in the image.\n\n# user:\nCan you
        tell me what the image depicts?\n![image]({{image_input}})\n", "enable_kwargs":
        false, "tool_state": "preview"}, {"name": "Serp API", "type": "python", "inputs":
        {"connection": {"type": ["SerpConnection"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "engine": {"type": ["string"], "default":
        "google", "enum": ["google", "bing"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "location": {"type": ["string"], "default":
        "", "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "num": {"type": ["int"], "default": "10", "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "query": {"type": ["string"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "safe": {"type":
        ["string"], "default": "off", "enum": ["active", "off"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}}, "description":
        "Use Serp API to obtain search results from a specific search engine.", "module":
        "promptflow.tools.serpapi", "class_name": "SerpAPI", "function": "search",
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "enable_kwargs": false, "tool_state": "stable"}, {"name": "Index Lookup",
        "type": "python", "inputs": {"acs_content_field": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["Azure AI Search"], "dynamic_list": {"func_path":
        "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_fields",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}, {"default": "Edm.String", "name": "field_data_type",
        "optional": false, "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "uionly_hidden"}, "acs_embedding_field": {"type": ["string"],
        "enabled_by": "index_type", "enabled_by_value": ["Azure AI Search"], "dynamic_list":
        {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_fields",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}, {"default": "Collection(Edm.Single)", "name": "field_data_type",
        "optional": false, "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "uionly_hidden"}, "acs_index_connection": {"type": ["CognitiveSearchConnection"],
        "enabled_by": "index_type", "enabled_by_value": ["Azure AI Search"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "uionly_hidden"}, "acs_index_name":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Azure
        AI Search"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_indices",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]}]},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "acs_metadata_field": {"type": ["string"], "enabled_by": "index_type", "enabled_by_value":
        ["Azure AI Search"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_fields",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}, {"default": "Edm.String", "name": "field_data_type",
        "optional": false, "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "uionly_hidden"}, "aoai_embedding_connection": {"type":
        ["AzureOpenAIConnection"], "enabled_by": "embedding_type", "enabled_by_value":
        ["Azure OpenAI"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "uionly_hidden"}, "embedding_deployment": {"type": ["string"], "enabled_by":
        "embedding_type", "enabled_by_value": ["Azure OpenAI"], "dynamic_list": {"func_path":
        "promptflow_vectordb.tool.common_index_lookup_utils.list_aoai_embedding_deployments",
        "func_kwargs": [{"name": "aoai_connection", "optional": false, "reference":
        "${inputs.aoai_embedding_connection}", "type": ["AzurOpenAIConnection"]}]},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "embedding_model": {"type": ["string"], "enabled_by": "embedding_type", "enabled_by_value":
        ["OpenAI", "Hugging Face"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_embedding_models",
        "func_kwargs": [{"name": "embedding_type", "optional": false, "reference":
        "${inputs.embedding_type}", "type": ["string"]}]}, "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "uionly_hidden"}, "embedding_type":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Azure
        AI Search", "FAISS", "Pinecone"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_available_embedding_types",
        "func_kwargs": [{"name": "index_type", "optional": false, "reference": "${inputs.index_type}",
        "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "uionly_hidden"}, "faiss_index_path": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["FAISS"], "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "uionly_hidden"}, "index_type": {"type":
        ["string"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_available_index_types"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "mlindex_asset_id": {"type": ["string"], "enabled_by": "index_type", "enabled_by_value":
        ["Registered Index"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_registered_mlindices"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "mlindex_content": {"type": ["string"], "allow_manual_entry": false, "is_multi_select":
        false, "generated_by": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.forward_mapping",
        "func_kwargs": [{"name": "index_type", "reference": "${inputs.index_type}",
        "type": ["string"]}, {"name": "mlindex_asset_id", "optional": true, "reference":
        "${inputs.mlindex_asset_id}", "type": ["string"]}, {"name": "mlindex_path",
        "optional": true, "reference": "${inputs.mlindex_path}", "type": ["string"]},
        {"name": "acs_index_connection", "optional": true, "reference": "${inputs.acs_index_connection}",
        "type": ["CognitiveSearchConnection"]}, {"name": "acs_index_name", "optional":
        true, "reference": "${inputs.acs_index_name}", "type": ["string"]}, {"name":
        "acs_content_field", "optional": true, "reference": "${inputs.acs_content_field}",
        "type": ["string"]}, {"name": "acs_embedding_field", "optional": true, "reference":
        "${inputs.acs_embedding_field}", "type": ["string"]}, {"name": "acs_metadata_field",
        "optional": true, "reference": "${inputs.acs_metadata_field}", "type": ["string"]},
        {"name": "semantic_configuration", "optional": true, "reference": "${inputs.semantic_configuration}",
        "type": ["string"]}, {"name": "faiss_index_path", "optional": true, "reference":
        "${inputs.faiss_index_path}", "type": ["string"]}, {"name": "pinecone_index_connection",
        "optional": true, "reference": "${inputs.pinecone_index_connection}", "type":
        ["string"]}, {"name": "pinecone_index_name", "optional": true, "reference":
        "${inputs.pinecone_index_name}", "type": ["string"]}, {"name": "pinecone_content_field",
        "optional": true, "reference": "${inputs.pinecone_content_field}", "type":
        ["string"]}, {"name": "pinecone_metadata_field", "optional": true, "reference":
        "${inputs.pinecone_metadata_field}", "type": ["string"]}, {"name": "embedding_type",
        "optional": true, "reference": "${inputs.embedding_type}", "type": ["string"]},
        {"name": "aoai_embedding_connection", "optional": true, "reference": "${inputs.aoai_embedding_connection}",
        "type": ["AzureOpenAIConnection"]}, {"name": "oai_embedding_connection", "optional":
        true, "reference": "${inputs.oai_embedding_connection}", "type": ["string"]},
        {"name": "embedding_model", "optional": true, "reference": "${inputs.embedding_model}",
        "type": ["string"]}, {"name": "embedding_deployment", "optional": true, "reference":
        "${inputs.embedding_deployment}", "type": ["string"]}, {"name": "serverless_embedding_connection",
        "optional": true, "reference": "${inputs.serverless_embedding_connection}",
        "type": ["string"]}], "reverse_func_path": "promptflow_vectordb.tool.common_index_lookup_utils.reverse_mapping"},
        "input_type": "default"}, "mlindex_path": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["MLIndex file from path"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "uionly_hidden"}, "oai_embedding_connection":
        {"type": ["OpenAIConnection"], "enabled_by": "embedding_type", "enabled_by_value":
        ["OpenAI"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "uionly_hidden"}, "pinecone_content_field": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["Pinecone"], "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "uionly_hidden"}, "pinecone_index_connection":
        {"type": ["PineconeConnection"], "enabled_by": "index_type", "enabled_by_value":
        ["Pinecone"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_pinecone_connections"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "pinecone_index_name": {"type": ["string"], "enabled_by": "index_type", "enabled_by_value":
        ["Pinecone"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_pinecone_indices",
        "func_kwargs": [{"name": "pinecone_connection_name", "optional": false, "reference":
        "${inputs.pinecone_index_connection}", "type": ["string"]}]}, "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "uionly_hidden"}, "pinecone_metadata_field":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Pinecone"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "queries": {"type": ["object"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "query_type": {"type": ["string"], "dynamic_list":
        {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_available_query_types",
        "func_kwargs": [{"name": "mlindex_content", "optional": false, "reference":
        "${inputs.mlindex_content}", "type": ["string"]}]}, "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "semantic_configuration":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Azure
        AI Search"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_semantic_configurations",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "uionly_hidden"}, "serverless_embedding_connection": {"type":
        ["string"], "enabled_by": "embedding_type", "enabled_by_value": ["Serverless
        Endpoint"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_serverless_embedding_connections"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "top_k": {"type": ["int"], "default": 3, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}}, "description": "Search an AzureML Vector
        Index for relevant results using one or more text queries.", "module": "promptflow_vectordb.tool.common_index_lookup",
        "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "preview"},
        {"name": "Faiss Index Lookup", "type": "python", "inputs": {"path": {"type":
        ["string"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}, "top_k": {"type": ["int"], "default": "3", "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "vector": {"type":
        ["list"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}}, "description": "Search vector based query from the FAISS index
        file.", "module": "promptflow_vectordb.tool.faiss_index_lookup", "class_name":
        "FaissIndexLookup", "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "archived"},
        {"name": "Vector DB Lookup", "type": "python", "inputs": {"class_name": {"type":
        ["string"], "enabled_by": "connection", "enabled_by_type": ["WeaviateConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "collection_name": {"type": ["string"], "enabled_by": "connection", "enabled_by_type":
        ["QdrantConnection"], "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}, "connection": {"type": ["CognitiveSearchConnection",
        "QdrantConnection", "WeaviateConnection"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "index_name": {"type": ["string"], "enabled_by":
        "connection", "enabled_by_type": ["CognitiveSearchConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "search_filters":
        {"type": ["object"], "enabled_by": "connection", "enabled_by_type": ["CognitiveSearchConnection",
        "QdrantConnection"], "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}, "search_params": {"type": ["object"], "enabled_by":
        "connection", "enabled_by_type": ["CognitiveSearchConnection", "QdrantConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "text_field": {"type": ["string"], "enabled_by": "connection", "enabled_by_type":
        ["CognitiveSearchConnection", "QdrantConnection", "WeaviateConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "top_k": {"type":
        ["int"], "default": "3", "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}, "vector": {"type": ["list"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "vector_field":
        {"type": ["string"], "enabled_by": "connection", "enabled_by_type": ["CognitiveSearchConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"}},
        "description": "Search vector based query from existing Vector Database.",
        "module": "promptflow_vectordb.tool.vector_db_lookup", "class_name": "VectorDBLookup",
        "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "archived"},
        {"name": "Vector Index Lookup", "type": "python", "inputs": {"path": {"type":
        ["string"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}, "query": {"type": ["object"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "top_k": {"type": ["int"], "default": "3",
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"}},
        "description": "Search text or vector based query from AzureML Vector Index.",
        "module": "promptflow_vectordb.tool.vector_index_lookup", "class_name": "VectorIndexLookup",
        "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "archived"},
        {"name": "count_image.py", "type": "python", "inputs": {"images": {"type":
        ["object"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}}, "source": "count_image.py", "function": "aggregate", "is_builtin":
        false, "enable_kwargs": false, "tool_state": "stable"}, {"name": "flip_image.py",
        "type": "python", "inputs": {"input_image": {"type": ["image"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}}, "source": "flip_image.py",
        "function": "passthrough", "is_builtin": false, "enable_kwargs": false, "tool_state":
        "stable"}], "inputs": {"input_image": {"type": "image", "default": "https://developer.microsoft.com/_devcom/images/logo-ms-social.png",
        "is_chat_input": false}}, "outputs": {"output_image": {"type": "string", "reference":
        "${flip_image.output}", "evaluation_only": false, "is_chat_output": false}}},
        "flowRunResourceId": "azureml://locations/eastus/workspaces/00000/flows/name/flowRuns/name",
        "flowRunId": "name", "flowRunDisplayName": "resume_from_run_with_image_and_aggregation_node",
        "batchDataInput": {"dataUri": "azureml://datastores/workspaceblobstore/paths/LocalUpload/f0a11846460e7f82ede2efcac357243a/input_data/"},
        "flowRunType": "FlowRun", "flowType": "Default", "runtimeName": "automatic",
        "inputsMapping": {"input_image": "${data.input_image}"}, "outputDatastoreName":
        "workspaceblobstore", "childRunBasePath": "promptflow/PromptFlowArtifacts/name/name/flow_artifacts",
        "flowDagFileRelativePath": "flow.dag.yaml", "flowSnapshotId": "5736ca27-2c86-4efa-b25b-786d71f83a72",
        "sessionId": "name", "studioPortalEndpoint": "https://ml.azure.com/runs/name?wsid=/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000"}'
    headers:
      connection:
      - keep-alive
      content-length:
      - '28283'
      content-type:
      - application/json; charset=utf-8
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-request-time:
      - '0.204'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - promptflow-azure-sdk/1.0.0.dev0 azsdk-python-azuremachinelearningdesignerserviceclient/unknown
        Python/3.9.19 (Windows-10-10.0.22631-SP0)
    method: GET
    uri: https://eastus.api.azureml.ms/flow/api/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/BulkRuns/name
  response:
    body:
      string: '{"flowGraph": {"nodes": [{"name": "flip_image", "type": "python", "source":
        {"type": "code", "path": "flip_image.py"}, "inputs": {"input_image": "${inputs.input_image}"},
        "tool": "flip_image.py", "reduce": false}, {"name": "count_image", "type":
        "python", "source": {"type": "code", "path": "count_image.py"}, "inputs":
        {"images": "${flip_image.output}"}, "tool": "count_image.py", "reduce": true}],
        "tools": [{"name": "Azure OpenAI GPT-4 Turbo with Vision", "type": "custom_llm",
        "inputs": {"connection": {"type": ["AzureOpenAIConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        0}}, "deployment_name": {"type": ["string"], "enabled_by": "connection", "dynamic_list":
        {"func_path": "promptflow.tools.aoai_gpt4v.list_deployment_names", "func_kwargs":
        [{"name": "connection", "reference": "${inputs.connection}", "type": ["AzureOpenAIConnection"]}]},
        "allow_manual_entry": true, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 1}}, "frequency_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 7}}, "max_tokens": {"type": ["int"], "default": 512,
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 4}}, "presence_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 6}}, "seed": {"type": ["int"], "default": "", "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        8}}, "stop": {"type": ["list"], "default": "", "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 5}},
        "temperature": {"type": ["double"], "default": 1, "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 2}},
        "top_p": {"type": ["double"], "default": 1, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "ui_hints": {"index": 3}}}, "description":
        "Use Azure OpenAI GPT-4 Turbo with Vision to leverage AOAI vision ability.",
        "module": "promptflow.tools.aoai_gpt4v", "class_name": "AzureOpenAI", "function":
        "chat", "icon": {"dark": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA2ElEQVR4nJXSzW3CQBAF4DUSTjk+Al1AD0ikESslpBIEheRALhEpgAYSWV8OGUublf/yLuP3PPNmdndS+gdwXZrYDmh7fGE/W+wXbaYd8IYm4rxJPnZ0boI3wZcdJxs/n+AwV7DFK7aFyfQdYIMLPvES8YJNf5yp4jMeeEYdWh38gXOR35YGHe5xabvQdsHv6PLi8qV6gycc8YH3iMfQu6Lh4ASr+F5Hh3XwVWnQYzUkVlX1nccplAb1SN6Y/sfgmlK64VS8wimldIv/0yj2QLkHizG0iWP4AVAfQ34DVQONAAAAAElFTkSuQmCC",
        "light": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAx0lEQVR4nJWSwQ2CQBBFX0jAcjgqXUgPJNiIsQQrIVCIFy8GC6ABDcGDX7Mus9n1Xz7zZ+fPsLPwH4bUg0dD2wMPcbR48Uxq4AKU4iSTDwZ1LhWXipN/B3V0J6hjBTvgLHZNonewBXrgDpzEvXSIjN0BE3AACmmF4kl5F6tNzcCoLpW0SvGovFvsb4oZ2AANcAOu4ka6axCcINN3rg654sww+CYsPD0OwjcozFNh/Qcd78tqVbCIW+n+Fky472Bh/Q6SYb1EEy8tDzd+9IsVPAAAAABJRU5ErkJggg=="},
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "default_prompt": "# system:\nAs an AI assistant, your task involves interpreting
        images and responding to questions about the image.\nRemember to provide accurate
        answers based on the information present in the image.\n\n# user:\nCan you
        tell me what the image depicts?\n![image]({{image_input}})\n", "enable_kwargs":
        false, "tool_state": "preview"}, {"name": "Content Safety (Text Analyze)",
        "type": "python", "inputs": {"connection": {"type": ["AzureContentSafetyConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "hate_category": {"type": ["string"], "default": "medium_sensitivity", "enum":
        ["disable", "low_sensitivity", "medium_sensitivity", "high_sensitivity"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "self_harm_category": {"type": ["string"], "default": "medium_sensitivity",
        "enum": ["disable", "low_sensitivity", "medium_sensitivity", "high_sensitivity"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "sexual_category": {"type": ["string"], "default": "medium_sensitivity", "enum":
        ["disable", "low_sensitivity", "medium_sensitivity", "high_sensitivity"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "text": {"type": ["string"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "violence_category": {"type": ["string"],
        "default": "medium_sensitivity", "enum": ["disable", "low_sensitivity", "medium_sensitivity",
        "high_sensitivity"], "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}}, "description": "Use Azure Content Safety to detect
        harmful content.", "module": "promptflow.tools.azure_content_safety", "function":
        "analyze_text", "is_builtin": true, "package": "promptflow-tools", "package_version":
        "1.4.0rc3", "enable_kwargs": false, "deprecated_tools": ["content_safety_text.tools.content_safety_text_tool.analyze_text"],
        "tool_state": "stable"}, {"name": "Embedding", "type": "python", "inputs":
        {"connection": {"type": ["AzureOpenAIConnection", "OpenAIConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "deployment_name":
        {"type": ["string"], "enabled_by": "connection", "enabled_by_type": ["AzureOpenAIConnection"],
        "model_list": ["text-embedding-ada-002", "text-search-ada-doc-001", "text-search-ada-query-001"],
        "capabilities": {"completion": false, "chat_completion": false, "embeddings":
        true}, "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}, "input": {"type": ["string"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "model": {"type": ["string"], "enum": ["text-embedding-ada-002",
        "text-search-ada-doc-001", "text-search-ada-query-001"], "enabled_by": "connection",
        "enabled_by_type": ["OpenAIConnection"], "allow_manual_entry": true, "is_multi_select":
        false, "input_type": "default"}}, "description": "Use OpenAI''s embedding
        model to create an embedding vector representing the input text.", "module":
        "promptflow.tools.embedding", "function": "embedding", "is_builtin": true,
        "package": "promptflow-tools", "package_version": "1.4.0rc3", "enable_kwargs":
        false, "tool_state": "stable"}, {"name": "Open Model LLM", "type": "custom_llm",
        "inputs": {"api": {"type": ["string"], "enum": ["chat", "completion"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        2}}, "deployment_name": {"type": ["string"], "default": "", "dynamic_list":
        {"func_path": "promptflow.tools.open_model_llm.list_deployment_names", "func_kwargs":
        [{"name": "endpoint", "optional": true, "reference": "${inputs.endpoint}",
        "type": ["string"]}]}, "allow_manual_entry": true, "is_multi_select": false,
        "input_type": "default", "ui_hints": {"index": 1}}, "endpoint_name": {"type":
        ["string"], "dynamic_list": {"func_path": "promptflow.tools.open_model_llm.list_endpoint_names"},
        "allow_manual_entry": true, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 0}}, "max_new_tokens": {"type": ["int"], "default":
        500, "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default", "ui_hints": {"index": 4}}, "model_kwargs": {"type": ["object"],
        "default": "{}", "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default", "advanced": true, "ui_hints": {"index": 6}}, "temperature": {"type":
        ["double"], "default": 1.0, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "ui_hints": {"index": 3}}, "top_p": {"type":
        ["double"], "default": 1.0, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "advanced": true, "ui_hints": {"index": 5}}},
        "description": "Use an open model from the Azure Model catalog, deployed to
        an AzureML Online Endpoint for LLM Chat or Completion API calls.", "module":
        "promptflow.tools.open_model_llm", "class_name": "OpenModelLLM", "function":
        "call", "icon": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACgElEQVR4nGWSz2vcVRTFP/e9NzOZ1KDGohASslLEH6VLV0ak4l/QpeDCrfQPcNGliODKnVm4EBdBsIjQIlhciKW0ycKFVCSNbYnjdDLtmPnmO/nO9917XcxMkjYX3uLx7nnn3HOuMK2Nix4fP78ZdrYXVkLVWjf3l3B1B+HpcjzGFtmqa6cePz7/x0dnn1n5qhj3iBJPYREIURAJuCtpY8PjReDbrf9WG7H1fuefwQU9qKztTcMJT+PNnEFvjGVDBDlSsH6p/9MLzy6+NxwVqI8RAg4IPmWedMckdLYP6O6UpIaQfvyyXG012+e79/ZfHukoS1ISMT2hGTB1RkUmNgQ5QZ0w+a2VWDq73MbdEWmfnnv6UWe7oNzPaLapl5CwuLTXK9WUGBuCjqekzhP+z52ZXOrKMD3OJg0Hh778aiOuvpnYvp05d6GJO4iAO4QAe/eV36/X5LFRV4Zmn+AdkqlL8Vjp3oVioOz+WTPzzYEgsN+fgPLYyJVheSbPPVl2ikeGZRjtG52/8rHuaV9VOlpP2OtKyVndcRVCSqOhsvxa4vW359i6OuKdD+aP8Q4SYPdOzS/flGjt1JUSaMqZ5nwa1Y8qWb/Ud/eZZkHisYezEM0m+fcelDr8F1SqW2LNK6r1jXQwyLzy1hxvrLXZulry7ocL+FS6G4QIu3fG/Px1gdYeW7LIgXU2P/115TOA5G7e3Rmj2aS/m7l5pThiZzrCcE/d1XHzbln373nw7y6veeoUm5KCNKT/IPPwbiY1hYd/l5MIT65BMFt87sU4v9D7/JMflr44uV6hGh1+L4RCkg6z5iK2tAhNLeLsNGwYA4fDYnC/drvuuFxe86NV/x+Ut27g0FvykgAAAABJRU5ErkJggg==",
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "enable_kwargs": false, "tool_state": "stable"}, {"name": "OpenAI GPT-4V",
        "type": "custom_llm", "inputs": {"connection": {"type": ["OpenAIConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 0}}, "frequency_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 7}}, "max_tokens": {"type": ["int"], "default": 512,
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 4}}, "model": {"type": ["string"], "enum": ["gpt-4-vision-preview"],
        "allow_manual_entry": true, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 1}}, "presence_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 6}}, "seed": {"type": ["int"], "default": "", "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        8}}, "stop": {"type": ["list"], "default": "", "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 5}},
        "temperature": {"type": ["double"], "default": 1, "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 2}},
        "top_p": {"type": ["double"], "default": 1, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "ui_hints": {"index": 3}}}, "description":
        "Use OpenAI GPT-4V to leverage vision ability.", "module": "promptflow.tools.openai_gpt4v",
        "class_name": "OpenAI", "function": "chat", "icon": {"dark": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA2ElEQVR4nJXSzW3CQBAF4DUSTjk+Al1AD0ikESslpBIEheRALhEpgAYSWV8OGUublf/yLuP3PPNmdndS+gdwXZrYDmh7fGE/W+wXbaYd8IYm4rxJPnZ0boI3wZcdJxs/n+AwV7DFK7aFyfQdYIMLPvES8YJNf5yp4jMeeEYdWh38gXOR35YGHe5xabvQdsHv6PLi8qV6gycc8YH3iMfQu6Lh4ASr+F5Hh3XwVWnQYzUkVlX1nccplAb1SN6Y/sfgmlK64VS8wimldIv/0yj2QLkHizG0iWP4AVAfQ34DVQONAAAAAElFTkSuQmCC",
        "light": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAx0lEQVR4nJWSwQ2CQBBFX0jAcjgqXUgPJNiIsQQrIVCIFy8GC6ABDcGDX7Mus9n1Xz7zZ+fPsLPwH4bUg0dD2wMPcbR48Uxq4AKU4iSTDwZ1LhWXipN/B3V0J6hjBTvgLHZNonewBXrgDpzEvXSIjN0BE3AACmmF4kl5F6tNzcCoLpW0SvGovFvsb4oZ2AANcAOu4ka6axCcINN3rg654sww+CYsPD0OwjcozFNh/Qcd78tqVbCIW+n+Fky472Bh/Q6SYb1EEy8tDzd+9IsVPAAAAABJRU5ErkJggg=="},
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "default_prompt": "# system:\nAs an AI assistant, your task involves interpreting
        images and responding to questions about the image.\nRemember to provide accurate
        answers based on the information present in the image.\n\n# user:\nCan you
        tell me what the image depicts?\n![image]({{image_input}})\n", "enable_kwargs":
        false, "tool_state": "preview"}, {"name": "Serp API", "type": "python", "inputs":
        {"connection": {"type": ["SerpConnection"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "engine": {"type": ["string"], "default":
        "google", "enum": ["google", "bing"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "location": {"type": ["string"], "default":
        "", "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "num": {"type": ["int"], "default": "10", "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "query": {"type": ["string"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "safe": {"type":
        ["string"], "default": "off", "enum": ["active", "off"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}}, "description":
        "Use Serp API to obtain search results from a specific search engine.", "module":
        "promptflow.tools.serpapi", "class_name": "SerpAPI", "function": "search",
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "enable_kwargs": false, "tool_state": "stable"}, {"name": "Index Lookup",
        "type": "python", "inputs": {"acs_content_field": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["Azure AI Search"], "dynamic_list": {"func_path":
        "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_fields",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}, {"default": "Edm.String", "name": "field_data_type",
        "optional": false, "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "uionly_hidden"}, "acs_embedding_field": {"type": ["string"],
        "enabled_by": "index_type", "enabled_by_value": ["Azure AI Search"], "dynamic_list":
        {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_fields",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}, {"default": "Collection(Edm.Single)", "name": "field_data_type",
        "optional": false, "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "uionly_hidden"}, "acs_index_connection": {"type": ["CognitiveSearchConnection"],
        "enabled_by": "index_type", "enabled_by_value": ["Azure AI Search"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "uionly_hidden"}, "acs_index_name":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Azure
        AI Search"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_indices",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]}]},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "acs_metadata_field": {"type": ["string"], "enabled_by": "index_type", "enabled_by_value":
        ["Azure AI Search"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_fields",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}, {"default": "Edm.String", "name": "field_data_type",
        "optional": false, "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "uionly_hidden"}, "aoai_embedding_connection": {"type":
        ["AzureOpenAIConnection"], "enabled_by": "embedding_type", "enabled_by_value":
        ["Azure OpenAI"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "uionly_hidden"}, "embedding_deployment": {"type": ["string"], "enabled_by":
        "embedding_type", "enabled_by_value": ["Azure OpenAI"], "dynamic_list": {"func_path":
        "promptflow_vectordb.tool.common_index_lookup_utils.list_aoai_embedding_deployments",
        "func_kwargs": [{"name": "aoai_connection", "optional": false, "reference":
        "${inputs.aoai_embedding_connection}", "type": ["AzurOpenAIConnection"]}]},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "embedding_model": {"type": ["string"], "enabled_by": "embedding_type", "enabled_by_value":
        ["OpenAI", "Hugging Face"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_embedding_models",
        "func_kwargs": [{"name": "embedding_type", "optional": false, "reference":
        "${inputs.embedding_type}", "type": ["string"]}]}, "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "uionly_hidden"}, "embedding_type":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Azure
        AI Search", "FAISS", "Pinecone"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_available_embedding_types",
        "func_kwargs": [{"name": "index_type", "optional": false, "reference": "${inputs.index_type}",
        "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "uionly_hidden"}, "faiss_index_path": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["FAISS"], "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "uionly_hidden"}, "index_type": {"type":
        ["string"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_available_index_types"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "mlindex_asset_id": {"type": ["string"], "enabled_by": "index_type", "enabled_by_value":
        ["Registered Index"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_registered_mlindices"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "mlindex_content": {"type": ["string"], "allow_manual_entry": false, "is_multi_select":
        false, "generated_by": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.forward_mapping",
        "func_kwargs": [{"name": "index_type", "reference": "${inputs.index_type}",
        "type": ["string"]}, {"name": "mlindex_asset_id", "optional": true, "reference":
        "${inputs.mlindex_asset_id}", "type": ["string"]}, {"name": "mlindex_path",
        "optional": true, "reference": "${inputs.mlindex_path}", "type": ["string"]},
        {"name": "acs_index_connection", "optional": true, "reference": "${inputs.acs_index_connection}",
        "type": ["CognitiveSearchConnection"]}, {"name": "acs_index_name", "optional":
        true, "reference": "${inputs.acs_index_name}", "type": ["string"]}, {"name":
        "acs_content_field", "optional": true, "reference": "${inputs.acs_content_field}",
        "type": ["string"]}, {"name": "acs_embedding_field", "optional": true, "reference":
        "${inputs.acs_embedding_field}", "type": ["string"]}, {"name": "acs_metadata_field",
        "optional": true, "reference": "${inputs.acs_metadata_field}", "type": ["string"]},
        {"name": "semantic_configuration", "optional": true, "reference": "${inputs.semantic_configuration}",
        "type": ["string"]}, {"name": "faiss_index_path", "optional": true, "reference":
        "${inputs.faiss_index_path}", "type": ["string"]}, {"name": "pinecone_index_connection",
        "optional": true, "reference": "${inputs.pinecone_index_connection}", "type":
        ["string"]}, {"name": "pinecone_index_name", "optional": true, "reference":
        "${inputs.pinecone_index_name}", "type": ["string"]}, {"name": "pinecone_content_field",
        "optional": true, "reference": "${inputs.pinecone_content_field}", "type":
        ["string"]}, {"name": "pinecone_metadata_field", "optional": true, "reference":
        "${inputs.pinecone_metadata_field}", "type": ["string"]}, {"name": "embedding_type",
        "optional": true, "reference": "${inputs.embedding_type}", "type": ["string"]},
        {"name": "aoai_embedding_connection", "optional": true, "reference": "${inputs.aoai_embedding_connection}",
        "type": ["AzureOpenAIConnection"]}, {"name": "oai_embedding_connection", "optional":
        true, "reference": "${inputs.oai_embedding_connection}", "type": ["string"]},
        {"name": "embedding_model", "optional": true, "reference": "${inputs.embedding_model}",
        "type": ["string"]}, {"name": "embedding_deployment", "optional": true, "reference":
        "${inputs.embedding_deployment}", "type": ["string"]}, {"name": "serverless_embedding_connection",
        "optional": true, "reference": "${inputs.serverless_embedding_connection}",
        "type": ["string"]}], "reverse_func_path": "promptflow_vectordb.tool.common_index_lookup_utils.reverse_mapping"},
        "input_type": "default"}, "mlindex_path": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["MLIndex file from path"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "uionly_hidden"}, "oai_embedding_connection":
        {"type": ["OpenAIConnection"], "enabled_by": "embedding_type", "enabled_by_value":
        ["OpenAI"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "uionly_hidden"}, "pinecone_content_field": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["Pinecone"], "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "uionly_hidden"}, "pinecone_index_connection":
        {"type": ["PineconeConnection"], "enabled_by": "index_type", "enabled_by_value":
        ["Pinecone"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_pinecone_connections"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "pinecone_index_name": {"type": ["string"], "enabled_by": "index_type", "enabled_by_value":
        ["Pinecone"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_pinecone_indices",
        "func_kwargs": [{"name": "pinecone_connection_name", "optional": false, "reference":
        "${inputs.pinecone_index_connection}", "type": ["string"]}]}, "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "uionly_hidden"}, "pinecone_metadata_field":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Pinecone"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "queries": {"type": ["object"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "query_type": {"type": ["string"], "dynamic_list":
        {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_available_query_types",
        "func_kwargs": [{"name": "mlindex_content", "optional": false, "reference":
        "${inputs.mlindex_content}", "type": ["string"]}]}, "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "semantic_configuration":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Azure
        AI Search"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_semantic_configurations",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "uionly_hidden"}, "serverless_embedding_connection": {"type":
        ["string"], "enabled_by": "embedding_type", "enabled_by_value": ["Serverless
        Endpoint"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_serverless_embedding_connections"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "top_k": {"type": ["int"], "default": 3, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}}, "description": "Search an AzureML Vector
        Index for relevant results using one or more text queries.", "module": "promptflow_vectordb.tool.common_index_lookup",
        "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "preview"},
        {"name": "Faiss Index Lookup", "type": "python", "inputs": {"path": {"type":
        ["string"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}, "top_k": {"type": ["int"], "default": "3", "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "vector": {"type":
        ["list"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}}, "description": "Search vector based query from the FAISS index
        file.", "module": "promptflow_vectordb.tool.faiss_index_lookup", "class_name":
        "FaissIndexLookup", "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "archived"},
        {"name": "Vector DB Lookup", "type": "python", "inputs": {"class_name": {"type":
        ["string"], "enabled_by": "connection", "enabled_by_type": ["WeaviateConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "collection_name": {"type": ["string"], "enabled_by": "connection", "enabled_by_type":
        ["QdrantConnection"], "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}, "connection": {"type": ["CognitiveSearchConnection",
        "QdrantConnection", "WeaviateConnection"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "index_name": {"type": ["string"], "enabled_by":
        "connection", "enabled_by_type": ["CognitiveSearchConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "search_filters":
        {"type": ["object"], "enabled_by": "connection", "enabled_by_type": ["CognitiveSearchConnection",
        "QdrantConnection"], "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}, "search_params": {"type": ["object"], "enabled_by":
        "connection", "enabled_by_type": ["CognitiveSearchConnection", "QdrantConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "text_field": {"type": ["string"], "enabled_by": "connection", "enabled_by_type":
        ["CognitiveSearchConnection", "QdrantConnection", "WeaviateConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "top_k": {"type":
        ["int"], "default": "3", "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}, "vector": {"type": ["list"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "vector_field":
        {"type": ["string"], "enabled_by": "connection", "enabled_by_type": ["CognitiveSearchConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"}},
        "description": "Search vector based query from existing Vector Database.",
        "module": "promptflow_vectordb.tool.vector_db_lookup", "class_name": "VectorDBLookup",
        "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "archived"},
        {"name": "Vector Index Lookup", "type": "python", "inputs": {"path": {"type":
        ["string"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}, "query": {"type": ["object"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "top_k": {"type": ["int"], "default": "3",
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"}},
        "description": "Search text or vector based query from AzureML Vector Index.",
        "module": "promptflow_vectordb.tool.vector_index_lookup", "class_name": "VectorIndexLookup",
        "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "archived"},
        {"name": "count_image.py", "type": "python", "inputs": {"images": {"type":
        ["object"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}}, "source": "count_image.py", "function": "aggregate", "is_builtin":
        false, "enable_kwargs": false, "tool_state": "stable"}, {"name": "flip_image.py",
        "type": "python", "inputs": {"input_image": {"type": ["image"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}}, "source": "flip_image.py",
        "function": "passthrough", "is_builtin": false, "enable_kwargs": false, "tool_state":
        "stable"}], "inputs": {"input_image": {"type": "image", "default": "https://developer.microsoft.com/_devcom/images/logo-ms-social.png",
        "is_chat_input": false}}, "outputs": {"output_image": {"type": "string", "reference":
        "${flip_image.output}", "evaluation_only": false, "is_chat_output": false}}},
        "flowRunResourceId": "azureml://locations/eastus/workspaces/00000/flows/name/flowRuns/name",
        "flowRunId": "name", "flowRunDisplayName": "resume_from_run_with_image_and_aggregation_node",
        "batchDataInput": {"dataUri": "azureml://datastores/workspaceblobstore/paths/LocalUpload/f0a11846460e7f82ede2efcac357243a/input_data/"},
        "flowRunType": "FlowRun", "flowType": "Default", "runtimeName": "automatic",
        "inputsMapping": {"input_image": "${data.input_image}"}, "outputDatastoreName":
        "workspaceblobstore", "childRunBasePath": "promptflow/PromptFlowArtifacts/name/name/flow_artifacts",
        "flowDagFileRelativePath": "flow.dag.yaml", "flowSnapshotId": "5736ca27-2c86-4efa-b25b-786d71f83a72",
        "sessionId": "name", "studioPortalEndpoint": "https://ml.azure.com/runs/name?wsid=/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000"}'
    headers:
      connection:
      - keep-alive
      content-length:
      - '28283'
      content-type:
      - application/json; charset=utf-8
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-request-time:
      - '0.206'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - promptflow-azure-sdk/1.0.0.dev0 azsdk-python-azuremachinelearningdesignerserviceclient/unknown
        Python/3.9.19 (Windows-10-10.0.22631-SP0)
    method: GET
    uri: https://eastus.api.azureml.ms/flow/api/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/BulkRuns/resume_from_run_with_image_and_aggregation_node
  response:
    body:
      string: '{"flowGraph": {"nodes": [{"name": "flip_image", "type": "python", "source":
        {"type": "code", "path": "flip_image.py"}, "inputs": {"input_image": "${inputs.input_image}"},
        "tool": "flip_image.py", "reduce": false}, {"name": "count_image", "type":
        "python", "source": {"type": "code", "path": "count_image.py"}, "inputs":
        {"images": "${flip_image.output}"}, "tool": "count_image.py", "reduce": true}],
        "tools": [{"name": "Azure OpenAI GPT-4 Turbo with Vision", "type": "custom_llm",
        "inputs": {"connection": {"type": ["AzureOpenAIConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        0}}, "deployment_name": {"type": ["string"], "enabled_by": "connection", "dynamic_list":
        {"func_path": "promptflow.tools.aoai_gpt4v.list_deployment_names", "func_kwargs":
        [{"name": "connection", "reference": "${inputs.connection}", "type": ["AzureOpenAIConnection"]}]},
        "allow_manual_entry": true, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 1}}, "frequency_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 7}}, "max_tokens": {"type": ["int"], "default": 512,
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 4}}, "presence_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 6}}, "seed": {"type": ["int"], "default": "", "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        8}}, "stop": {"type": ["list"], "default": "", "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 5}},
        "temperature": {"type": ["double"], "default": 1, "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 2}},
        "top_p": {"type": ["double"], "default": 1, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "ui_hints": {"index": 3}}}, "description":
        "Use Azure OpenAI GPT-4 Turbo with Vision to leverage AOAI vision ability.",
        "module": "promptflow.tools.aoai_gpt4v", "class_name": "AzureOpenAI", "function":
        "chat", "icon": {"dark": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA2ElEQVR4nJXSzW3CQBAF4DUSTjk+Al1AD0ikESslpBIEheRALhEpgAYSWV8OGUublf/yLuP3PPNmdndS+gdwXZrYDmh7fGE/W+wXbaYd8IYm4rxJPnZ0boI3wZcdJxs/n+AwV7DFK7aFyfQdYIMLPvES8YJNf5yp4jMeeEYdWh38gXOR35YGHe5xabvQdsHv6PLi8qV6gycc8YH3iMfQu6Lh4ASr+F5Hh3XwVWnQYzUkVlX1nccplAb1SN6Y/sfgmlK64VS8wimldIv/0yj2QLkHizG0iWP4AVAfQ34DVQONAAAAAElFTkSuQmCC",
        "light": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAx0lEQVR4nJWSwQ2CQBBFX0jAcjgqXUgPJNiIsQQrIVCIFy8GC6ABDcGDX7Mus9n1Xz7zZ+fPsLPwH4bUg0dD2wMPcbR48Uxq4AKU4iSTDwZ1LhWXipN/B3V0J6hjBTvgLHZNonewBXrgDpzEvXSIjN0BE3AACmmF4kl5F6tNzcCoLpW0SvGovFvsb4oZ2AANcAOu4ka6axCcINN3rg654sww+CYsPD0OwjcozFNh/Qcd78tqVbCIW+n+Fky472Bh/Q6SYb1EEy8tDzd+9IsVPAAAAABJRU5ErkJggg=="},
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "default_prompt": "# system:\nAs an AI assistant, your task involves interpreting
        images and responding to questions about the image.\nRemember to provide accurate
        answers based on the information present in the image.\n\n# user:\nCan you
        tell me what the image depicts?\n![image]({{image_input}})\n", "enable_kwargs":
        false, "tool_state": "preview"}, {"name": "Content Safety (Text Analyze)",
        "type": "python", "inputs": {"connection": {"type": ["AzureContentSafetyConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "hate_category": {"type": ["string"], "default": "medium_sensitivity", "enum":
        ["disable", "low_sensitivity", "medium_sensitivity", "high_sensitivity"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "self_harm_category": {"type": ["string"], "default": "medium_sensitivity",
        "enum": ["disable", "low_sensitivity", "medium_sensitivity", "high_sensitivity"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "sexual_category": {"type": ["string"], "default": "medium_sensitivity", "enum":
        ["disable", "low_sensitivity", "medium_sensitivity", "high_sensitivity"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "text": {"type": ["string"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "violence_category": {"type": ["string"],
        "default": "medium_sensitivity", "enum": ["disable", "low_sensitivity", "medium_sensitivity",
        "high_sensitivity"], "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}}, "description": "Use Azure Content Safety to detect
        harmful content.", "module": "promptflow.tools.azure_content_safety", "function":
        "analyze_text", "is_builtin": true, "package": "promptflow-tools", "package_version":
        "1.4.0rc3", "enable_kwargs": false, "deprecated_tools": ["content_safety_text.tools.content_safety_text_tool.analyze_text"],
        "tool_state": "stable"}, {"name": "Embedding", "type": "python", "inputs":
        {"connection": {"type": ["AzureOpenAIConnection", "OpenAIConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "deployment_name":
        {"type": ["string"], "enabled_by": "connection", "enabled_by_type": ["AzureOpenAIConnection"],
        "model_list": ["text-embedding-ada-002", "text-search-ada-doc-001", "text-search-ada-query-001"],
        "capabilities": {"completion": false, "chat_completion": false, "embeddings":
        true}, "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}, "input": {"type": ["string"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "model": {"type": ["string"], "enum": ["text-embedding-ada-002",
        "text-search-ada-doc-001", "text-search-ada-query-001"], "enabled_by": "connection",
        "enabled_by_type": ["OpenAIConnection"], "allow_manual_entry": true, "is_multi_select":
        false, "input_type": "default"}}, "description": "Use OpenAI''s embedding
        model to create an embedding vector representing the input text.", "module":
        "promptflow.tools.embedding", "function": "embedding", "is_builtin": true,
        "package": "promptflow-tools", "package_version": "1.4.0rc3", "enable_kwargs":
        false, "tool_state": "stable"}, {"name": "Open Model LLM", "type": "custom_llm",
        "inputs": {"api": {"type": ["string"], "enum": ["chat", "completion"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        2}}, "deployment_name": {"type": ["string"], "default": "", "dynamic_list":
        {"func_path": "promptflow.tools.open_model_llm.list_deployment_names", "func_kwargs":
        [{"name": "endpoint", "optional": true, "reference": "${inputs.endpoint}",
        "type": ["string"]}]}, "allow_manual_entry": true, "is_multi_select": false,
        "input_type": "default", "ui_hints": {"index": 1}}, "endpoint_name": {"type":
        ["string"], "dynamic_list": {"func_path": "promptflow.tools.open_model_llm.list_endpoint_names"},
        "allow_manual_entry": true, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 0}}, "max_new_tokens": {"type": ["int"], "default":
        500, "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default", "ui_hints": {"index": 4}}, "model_kwargs": {"type": ["object"],
        "default": "{}", "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default", "advanced": true, "ui_hints": {"index": 6}}, "temperature": {"type":
        ["double"], "default": 1.0, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "ui_hints": {"index": 3}}, "top_p": {"type":
        ["double"], "default": 1.0, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "advanced": true, "ui_hints": {"index": 5}}},
        "description": "Use an open model from the Azure Model catalog, deployed to
        an AzureML Online Endpoint for LLM Chat or Completion API calls.", "module":
        "promptflow.tools.open_model_llm", "class_name": "OpenModelLLM", "function":
        "call", "icon": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACgElEQVR4nGWSz2vcVRTFP/e9NzOZ1KDGohASslLEH6VLV0ak4l/QpeDCrfQPcNGliODKnVm4EBdBsIjQIlhciKW0ycKFVCSNbYnjdDLtmPnmO/nO9917XcxMkjYX3uLx7nnn3HOuMK2Nix4fP78ZdrYXVkLVWjf3l3B1B+HpcjzGFtmqa6cePz7/x0dnn1n5qhj3iBJPYREIURAJuCtpY8PjReDbrf9WG7H1fuefwQU9qKztTcMJT+PNnEFvjGVDBDlSsH6p/9MLzy6+NxwVqI8RAg4IPmWedMckdLYP6O6UpIaQfvyyXG012+e79/ZfHukoS1ISMT2hGTB1RkUmNgQ5QZ0w+a2VWDq73MbdEWmfnnv6UWe7oNzPaLapl5CwuLTXK9WUGBuCjqekzhP+z52ZXOrKMD3OJg0Hh778aiOuvpnYvp05d6GJO4iAO4QAe/eV36/X5LFRV4Zmn+AdkqlL8Vjp3oVioOz+WTPzzYEgsN+fgPLYyJVheSbPPVl2ikeGZRjtG52/8rHuaV9VOlpP2OtKyVndcRVCSqOhsvxa4vW359i6OuKdD+aP8Q4SYPdOzS/flGjt1JUSaMqZ5nwa1Y8qWb/Ud/eZZkHisYezEM0m+fcelDr8F1SqW2LNK6r1jXQwyLzy1hxvrLXZulry7ocL+FS6G4QIu3fG/Px1gdYeW7LIgXU2P/115TOA5G7e3Rmj2aS/m7l5pThiZzrCcE/d1XHzbln373nw7y6veeoUm5KCNKT/IPPwbiY1hYd/l5MIT65BMFt87sU4v9D7/JMflr44uV6hGh1+L4RCkg6z5iK2tAhNLeLsNGwYA4fDYnC/drvuuFxe86NV/x+Ut27g0FvykgAAAABJRU5ErkJggg==",
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "enable_kwargs": false, "tool_state": "stable"}, {"name": "OpenAI GPT-4V",
        "type": "custom_llm", "inputs": {"connection": {"type": ["OpenAIConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 0}}, "frequency_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 7}}, "max_tokens": {"type": ["int"], "default": 512,
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 4}}, "model": {"type": ["string"], "enum": ["gpt-4-vision-preview"],
        "allow_manual_entry": true, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 1}}, "presence_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 6}}, "seed": {"type": ["int"], "default": "", "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        8}}, "stop": {"type": ["list"], "default": "", "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 5}},
        "temperature": {"type": ["double"], "default": 1, "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 2}},
        "top_p": {"type": ["double"], "default": 1, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "ui_hints": {"index": 3}}}, "description":
        "Use OpenAI GPT-4V to leverage vision ability.", "module": "promptflow.tools.openai_gpt4v",
        "class_name": "OpenAI", "function": "chat", "icon": {"dark": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA2ElEQVR4nJXSzW3CQBAF4DUSTjk+Al1AD0ikESslpBIEheRALhEpgAYSWV8OGUublf/yLuP3PPNmdndS+gdwXZrYDmh7fGE/W+wXbaYd8IYm4rxJPnZ0boI3wZcdJxs/n+AwV7DFK7aFyfQdYIMLPvES8YJNf5yp4jMeeEYdWh38gXOR35YGHe5xabvQdsHv6PLi8qV6gycc8YH3iMfQu6Lh4ASr+F5Hh3XwVWnQYzUkVlX1nccplAb1SN6Y/sfgmlK64VS8wimldIv/0yj2QLkHizG0iWP4AVAfQ34DVQONAAAAAElFTkSuQmCC",
        "light": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAx0lEQVR4nJWSwQ2CQBBFX0jAcjgqXUgPJNiIsQQrIVCIFy8GC6ABDcGDX7Mus9n1Xz7zZ+fPsLPwH4bUg0dD2wMPcbR48Uxq4AKU4iSTDwZ1LhWXipN/B3V0J6hjBTvgLHZNonewBXrgDpzEvXSIjN0BE3AACmmF4kl5F6tNzcCoLpW0SvGovFvsb4oZ2AANcAOu4ka6axCcINN3rg654sww+CYsPD0OwjcozFNh/Qcd78tqVbCIW+n+Fky472Bh/Q6SYb1EEy8tDzd+9IsVPAAAAABJRU5ErkJggg=="},
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "default_prompt": "# system:\nAs an AI assistant, your task involves interpreting
        images and responding to questions about the image.\nRemember to provide accurate
        answers based on the information present in the image.\n\n# user:\nCan you
        tell me what the image depicts?\n![image]({{image_input}})\n", "enable_kwargs":
        false, "tool_state": "preview"}, {"name": "Serp API", "type": "python", "inputs":
        {"connection": {"type": ["SerpConnection"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "engine": {"type": ["string"], "default":
        "google", "enum": ["google", "bing"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "location": {"type": ["string"], "default":
        "", "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "num": {"type": ["int"], "default": "10", "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "query": {"type": ["string"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "safe": {"type":
        ["string"], "default": "off", "enum": ["active", "off"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}}, "description":
        "Use Serp API to obtain search results from a specific search engine.", "module":
        "promptflow.tools.serpapi", "class_name": "SerpAPI", "function": "search",
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "enable_kwargs": false, "tool_state": "stable"}, {"name": "Index Lookup",
        "type": "python", "inputs": {"acs_content_field": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["Azure AI Search"], "dynamic_list": {"func_path":
        "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_fields",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}, {"default": "Edm.String", "name": "field_data_type",
        "optional": false, "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "uionly_hidden"}, "acs_embedding_field": {"type": ["string"],
        "enabled_by": "index_type", "enabled_by_value": ["Azure AI Search"], "dynamic_list":
        {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_fields",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}, {"default": "Collection(Edm.Single)", "name": "field_data_type",
        "optional": false, "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "uionly_hidden"}, "acs_index_connection": {"type": ["CognitiveSearchConnection"],
        "enabled_by": "index_type", "enabled_by_value": ["Azure AI Search"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "uionly_hidden"}, "acs_index_name":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Azure
        AI Search"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_indices",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]}]},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "acs_metadata_field": {"type": ["string"], "enabled_by": "index_type", "enabled_by_value":
        ["Azure AI Search"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_fields",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}, {"default": "Edm.String", "name": "field_data_type",
        "optional": false, "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "uionly_hidden"}, "aoai_embedding_connection": {"type":
        ["AzureOpenAIConnection"], "enabled_by": "embedding_type", "enabled_by_value":
        ["Azure OpenAI"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "uionly_hidden"}, "embedding_deployment": {"type": ["string"], "enabled_by":
        "embedding_type", "enabled_by_value": ["Azure OpenAI"], "dynamic_list": {"func_path":
        "promptflow_vectordb.tool.common_index_lookup_utils.list_aoai_embedding_deployments",
        "func_kwargs": [{"name": "aoai_connection", "optional": false, "reference":
        "${inputs.aoai_embedding_connection}", "type": ["AzurOpenAIConnection"]}]},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "embedding_model": {"type": ["string"], "enabled_by": "embedding_type", "enabled_by_value":
        ["OpenAI", "Hugging Face"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_embedding_models",
        "func_kwargs": [{"name": "embedding_type", "optional": false, "reference":
        "${inputs.embedding_type}", "type": ["string"]}]}, "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "uionly_hidden"}, "embedding_type":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Azure
        AI Search", "FAISS", "Pinecone"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_available_embedding_types",
        "func_kwargs": [{"name": "index_type", "optional": false, "reference": "${inputs.index_type}",
        "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "uionly_hidden"}, "faiss_index_path": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["FAISS"], "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "uionly_hidden"}, "index_type": {"type":
        ["string"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_available_index_types"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "mlindex_asset_id": {"type": ["string"], "enabled_by": "index_type", "enabled_by_value":
        ["Registered Index"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_registered_mlindices"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "mlindex_content": {"type": ["string"], "allow_manual_entry": false, "is_multi_select":
        false, "generated_by": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.forward_mapping",
        "func_kwargs": [{"name": "index_type", "reference": "${inputs.index_type}",
        "type": ["string"]}, {"name": "mlindex_asset_id", "optional": true, "reference":
        "${inputs.mlindex_asset_id}", "type": ["string"]}, {"name": "mlindex_path",
        "optional": true, "reference": "${inputs.mlindex_path}", "type": ["string"]},
        {"name": "acs_index_connection", "optional": true, "reference": "${inputs.acs_index_connection}",
        "type": ["CognitiveSearchConnection"]}, {"name": "acs_index_name", "optional":
        true, "reference": "${inputs.acs_index_name}", "type": ["string"]}, {"name":
        "acs_content_field", "optional": true, "reference": "${inputs.acs_content_field}",
        "type": ["string"]}, {"name": "acs_embedding_field", "optional": true, "reference":
        "${inputs.acs_embedding_field}", "type": ["string"]}, {"name": "acs_metadata_field",
        "optional": true, "reference": "${inputs.acs_metadata_field}", "type": ["string"]},
        {"name": "semantic_configuration", "optional": true, "reference": "${inputs.semantic_configuration}",
        "type": ["string"]}, {"name": "faiss_index_path", "optional": true, "reference":
        "${inputs.faiss_index_path}", "type": ["string"]}, {"name": "pinecone_index_connection",
        "optional": true, "reference": "${inputs.pinecone_index_connection}", "type":
        ["string"]}, {"name": "pinecone_index_name", "optional": true, "reference":
        "${inputs.pinecone_index_name}", "type": ["string"]}, {"name": "pinecone_content_field",
        "optional": true, "reference": "${inputs.pinecone_content_field}", "type":
        ["string"]}, {"name": "pinecone_metadata_field", "optional": true, "reference":
        "${inputs.pinecone_metadata_field}", "type": ["string"]}, {"name": "embedding_type",
        "optional": true, "reference": "${inputs.embedding_type}", "type": ["string"]},
        {"name": "aoai_embedding_connection", "optional": true, "reference": "${inputs.aoai_embedding_connection}",
        "type": ["AzureOpenAIConnection"]}, {"name": "oai_embedding_connection", "optional":
        true, "reference": "${inputs.oai_embedding_connection}", "type": ["string"]},
        {"name": "embedding_model", "optional": true, "reference": "${inputs.embedding_model}",
        "type": ["string"]}, {"name": "embedding_deployment", "optional": true, "reference":
        "${inputs.embedding_deployment}", "type": ["string"]}, {"name": "serverless_embedding_connection",
        "optional": true, "reference": "${inputs.serverless_embedding_connection}",
        "type": ["string"]}], "reverse_func_path": "promptflow_vectordb.tool.common_index_lookup_utils.reverse_mapping"},
        "input_type": "default"}, "mlindex_path": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["MLIndex file from path"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "uionly_hidden"}, "oai_embedding_connection":
        {"type": ["OpenAIConnection"], "enabled_by": "embedding_type", "enabled_by_value":
        ["OpenAI"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "uionly_hidden"}, "pinecone_content_field": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["Pinecone"], "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "uionly_hidden"}, "pinecone_index_connection":
        {"type": ["PineconeConnection"], "enabled_by": "index_type", "enabled_by_value":
        ["Pinecone"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_pinecone_connections"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "pinecone_index_name": {"type": ["string"], "enabled_by": "index_type", "enabled_by_value":
        ["Pinecone"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_pinecone_indices",
        "func_kwargs": [{"name": "pinecone_connection_name", "optional": false, "reference":
        "${inputs.pinecone_index_connection}", "type": ["string"]}]}, "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "uionly_hidden"}, "pinecone_metadata_field":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Pinecone"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "queries": {"type": ["object"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "query_type": {"type": ["string"], "dynamic_list":
        {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_available_query_types",
        "func_kwargs": [{"name": "mlindex_content", "optional": false, "reference":
        "${inputs.mlindex_content}", "type": ["string"]}]}, "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "semantic_configuration":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Azure
        AI Search"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_semantic_configurations",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "uionly_hidden"}, "serverless_embedding_connection": {"type":
        ["string"], "enabled_by": "embedding_type", "enabled_by_value": ["Serverless
        Endpoint"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_serverless_embedding_connections"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "top_k": {"type": ["int"], "default": 3, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}}, "description": "Search an AzureML Vector
        Index for relevant results using one or more text queries.", "module": "promptflow_vectordb.tool.common_index_lookup",
        "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "preview"},
        {"name": "Faiss Index Lookup", "type": "python", "inputs": {"path": {"type":
        ["string"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}, "top_k": {"type": ["int"], "default": "3", "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "vector": {"type":
        ["list"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}}, "description": "Search vector based query from the FAISS index
        file.", "module": "promptflow_vectordb.tool.faiss_index_lookup", "class_name":
        "FaissIndexLookup", "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "archived"},
        {"name": "Vector DB Lookup", "type": "python", "inputs": {"class_name": {"type":
        ["string"], "enabled_by": "connection", "enabled_by_type": ["WeaviateConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "collection_name": {"type": ["string"], "enabled_by": "connection", "enabled_by_type":
        ["QdrantConnection"], "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}, "connection": {"type": ["CognitiveSearchConnection",
        "QdrantConnection", "WeaviateConnection"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "index_name": {"type": ["string"], "enabled_by":
        "connection", "enabled_by_type": ["CognitiveSearchConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "search_filters":
        {"type": ["object"], "enabled_by": "connection", "enabled_by_type": ["CognitiveSearchConnection",
        "QdrantConnection"], "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}, "search_params": {"type": ["object"], "enabled_by":
        "connection", "enabled_by_type": ["CognitiveSearchConnection", "QdrantConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "text_field": {"type": ["string"], "enabled_by": "connection", "enabled_by_type":
        ["CognitiveSearchConnection", "QdrantConnection", "WeaviateConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "top_k": {"type":
        ["int"], "default": "3", "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}, "vector": {"type": ["list"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "vector_field":
        {"type": ["string"], "enabled_by": "connection", "enabled_by_type": ["CognitiveSearchConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"}},
        "description": "Search vector based query from existing Vector Database.",
        "module": "promptflow_vectordb.tool.vector_db_lookup", "class_name": "VectorDBLookup",
        "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "archived"},
        {"name": "Vector Index Lookup", "type": "python", "inputs": {"path": {"type":
        ["string"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}, "query": {"type": ["object"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "top_k": {"type": ["int"], "default": "3",
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"}},
        "description": "Search text or vector based query from AzureML Vector Index.",
        "module": "promptflow_vectordb.tool.vector_index_lookup", "class_name": "VectorIndexLookup",
        "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "archived"},
        {"name": "count_image.py", "type": "python", "inputs": {"images": {"type":
        ["object"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}}, "source": "count_image.py", "function": "aggregate", "is_builtin":
        false, "enable_kwargs": false, "tool_state": "stable"}, {"name": "flip_image.py",
        "type": "python", "inputs": {"input_image": {"type": ["image"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}}, "source": "flip_image.py",
        "function": "passthrough", "is_builtin": false, "enable_kwargs": false, "tool_state":
        "stable"}], "inputs": {"input_image": {"type": "image", "default": "https://developer.microsoft.com/_devcom/images/logo-ms-social.png",
        "is_chat_input": false}}, "outputs": {"output_image": {"type": "string", "reference":
        "${flip_image.output}", "evaluation_only": false, "is_chat_output": false}}},
        "flowRunResourceId": "azureml://locations/eastus/workspaces/00000/flows/resume_from_run_with_image_and_aggregation_node/flowRuns/resume_from_run_with_image_and_aggregation_node",
        "flowRunId": "resume_from_run_with_image_and_aggregation_node", "flowRunDisplayName":
        "resume_from_run_with_image_and_aggregation_node", "batchDataInput": {"dataUri":
        "azureml://datastores/workspaceblobstore/paths/LocalUpload/f0a11846460e7f82ede2efcac357243a/input_data/"},
        "flowRunType": "FlowRun", "flowType": "Default", "runtimeName": "automatic",
        "inputsMapping": {"input_image": "${data.input_image}"}, "outputDatastoreName":
        "workspaceblobstore", "childRunBasePath": "promptflow/PromptFlowArtifacts/resume_from_run_with_image_and_aggregation_node/flow_artifacts",
        "flowDagFileRelativePath": "flow.dag.yaml", "flowSnapshotId": "5736ca27-2c86-4efa-b25b-786d71f83a72",
        "sessionId": "dd798e161fe6ff4d5da384b8b0cfda2c1de3b1d9275b138e", "studioPortalEndpoint":
        "https://ml.azure.com/runs/resume_from_run_with_image_and_aggregation_node?wsid=/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000"}'
    headers:
      connection:
      - keep-alive
      content-length:
      - '28313'
      content-type:
      - application/json; charset=utf-8
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-request-time:
      - '0.293'
    status:
      code: 200
      message: OK
- request:
    body: '{}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.31.0
    method: POST
    uri: https://eastus.api.azureml.ms/metric/v2.0/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/runs/resume_from_run_with_image_and_aggregation_node/lastvalues
  response:
    body:
      string: '{"value": [{"dataContainerId": "dcid.resume_from_run_with_image_and_aggregation_node",
        "name": "__pf__.nodes.flip_image.failed", "columns": {"__pf__.nodes.flip_image.failed":
        "Double"}, "properties": {"uxMetricType": "azureml.v1.scalar", "dataLocation":
        null}, "namespace": null, "standardSchemaId": null, "value": [{"metricId":
        "6e64bb74-8b84-41bd-a660-c6ec1e843518", "createdUtc": "2024-04-10T13:24:41.47+00:00",
        "step": 0, "data": {"__pf__.nodes.flip_image.failed": 9.0}}]}, {"dataContainerId":
        "dcid.resume_from_run_with_image_and_aggregation_node", "name": "__pf__.nodes.flip_image.completed",
        "columns": {"__pf__.nodes.flip_image.completed": "Double"}, "properties":
        {"uxMetricType": "azureml.v1.scalar", "dataLocation": null}, "namespace":
        null, "standardSchemaId": null, "value": [{"metricId": "770324fe-d945-4ce0-b1b1-c34148340e79",
        "createdUtc": "2024-04-10T13:24:41.86+00:00", "step": 0, "data": {"__pf__.nodes.flip_image.completed":
        6.0}}]}, {"dataContainerId": "dcid.resume_from_run_with_image_and_aggregation_node",
        "name": "__pf__.nodes.count_image.completed", "columns": {"__pf__.nodes.count_image.completed":
        "Double"}, "properties": {"uxMetricType": "azureml.v1.scalar", "dataLocation":
        null}, "namespace": null, "standardSchemaId": null, "value": [{"metricId":
        "dc9364d6-7f3f-4eff-a63d-939750318f01", "createdUtc": "2024-04-10T13:24:43.064+00:00",
        "step": 0, "data": {"__pf__.nodes.count_image.completed": 1.0}}]}, {"dataContainerId":
        "dcid.resume_from_run_with_image_and_aggregation_node", "name": "__pf__.lines.completed",
        "columns": {"__pf__.lines.completed": "Double"}, "properties": {"uxMetricType":
        "azureml.v1.scalar", "dataLocation": null}, "namespace": null, "standardSchemaId":
        null, "value": [{"metricId": "3b5aeb0b-cc24-4bd2-87ee-8601e82fe0eb", "createdUtc":
        "2024-04-10T13:24:43.351+00:00", "step": 0, "data": {"__pf__.lines.completed":
        6.0}}]}, {"dataContainerId": "dcid.resume_from_run_with_image_and_aggregation_node",
        "name": "__pf__.lines.failed", "columns": {"__pf__.lines.failed": "Double"},
        "properties": {"uxMetricType": "azureml.v1.scalar", "dataLocation": null},
        "namespace": null, "standardSchemaId": null, "value": [{"metricId": "92603edc-d00b-4be3-a622-4f6a77fd693d",
        "createdUtc": "2024-04-10T13:24:43.676+00:00", "step": 0, "data": {"__pf__.lines.failed":
        9.0}}]}, {"dataContainerId": "dcid.resume_from_run_with_image_and_aggregation_node",
        "name": "image_count", "columns": {"image_count": "Double"}, "properties":
        {"uxMetricType": "azureml.v1.scalar", "dataLocation": null}, "namespace":
        null, "standardSchemaId": null, "value": [{"metricId": "038df1c9-a70f-49b0-b3ac-48924c7997df",
        "createdUtc": "2024-04-10T13:24:44.171+00:00", "step": 0, "data": {"image_count":
        6.0}}]}]}'
    headers:
      connection:
      - keep-alive
      content-length:
      - '3824'
      content-type:
      - application/json; charset=utf-8
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-request-time:
      - '0.256'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - promptflow-azure-sdk/1.0.0.dev0 azsdk-python-azuremachinelearningdesignerserviceclient/unknown
        Python/3.9.19 (Windows-10-10.0.22631-SP0)
    method: GET
    uri: https://eastus.api.azureml.ms/flow/api/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/BulkRuns/name
  response:
    body:
      string: '{"flowGraph": {"nodes": [{"name": "flip_image", "type": "python", "source":
        {"type": "code", "path": "flip_image.py"}, "inputs": {"input_image": "${inputs.input_image}"},
        "tool": "flip_image.py", "reduce": false}, {"name": "count_image", "type":
        "python", "source": {"type": "code", "path": "count_image.py"}, "inputs":
        {"images": "${flip_image.output}"}, "tool": "count_image.py", "reduce": true}],
        "tools": [{"name": "Azure OpenAI GPT-4 Turbo with Vision", "type": "custom_llm",
        "inputs": {"connection": {"type": ["AzureOpenAIConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        0}}, "deployment_name": {"type": ["string"], "enabled_by": "connection", "dynamic_list":
        {"func_path": "promptflow.tools.aoai_gpt4v.list_deployment_names", "func_kwargs":
        [{"name": "connection", "reference": "${inputs.connection}", "type": ["AzureOpenAIConnection"]}]},
        "allow_manual_entry": true, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 1}}, "frequency_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 7}}, "max_tokens": {"type": ["int"], "default": 512,
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 4}}, "presence_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 6}}, "seed": {"type": ["int"], "default": "", "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        8}}, "stop": {"type": ["list"], "default": "", "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 5}},
        "temperature": {"type": ["double"], "default": 1, "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 2}},
        "top_p": {"type": ["double"], "default": 1, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "ui_hints": {"index": 3}}}, "description":
        "Use Azure OpenAI GPT-4 Turbo with Vision to leverage AOAI vision ability.",
        "module": "promptflow.tools.aoai_gpt4v", "class_name": "AzureOpenAI", "function":
        "chat", "icon": {"dark": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA2ElEQVR4nJXSzW3CQBAF4DUSTjk+Al1AD0ikESslpBIEheRALhEpgAYSWV8OGUublf/yLuP3PPNmdndS+gdwXZrYDmh7fGE/W+wXbaYd8IYm4rxJPnZ0boI3wZcdJxs/n+AwV7DFK7aFyfQdYIMLPvES8YJNf5yp4jMeeEYdWh38gXOR35YGHe5xabvQdsHv6PLi8qV6gycc8YH3iMfQu6Lh4ASr+F5Hh3XwVWnQYzUkVlX1nccplAb1SN6Y/sfgmlK64VS8wimldIv/0yj2QLkHizG0iWP4AVAfQ34DVQONAAAAAElFTkSuQmCC",
        "light": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAx0lEQVR4nJWSwQ2CQBBFX0jAcjgqXUgPJNiIsQQrIVCIFy8GC6ABDcGDX7Mus9n1Xz7zZ+fPsLPwH4bUg0dD2wMPcbR48Uxq4AKU4iSTDwZ1LhWXipN/B3V0J6hjBTvgLHZNonewBXrgDpzEvXSIjN0BE3AACmmF4kl5F6tNzcCoLpW0SvGovFvsb4oZ2AANcAOu4ka6axCcINN3rg654sww+CYsPD0OwjcozFNh/Qcd78tqVbCIW+n+Fky472Bh/Q6SYb1EEy8tDzd+9IsVPAAAAABJRU5ErkJggg=="},
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "default_prompt": "# system:\nAs an AI assistant, your task involves interpreting
        images and responding to questions about the image.\nRemember to provide accurate
        answers based on the information present in the image.\n\n# user:\nCan you
        tell me what the image depicts?\n![image]({{image_input}})\n", "enable_kwargs":
        false, "tool_state": "preview"}, {"name": "Content Safety (Text Analyze)",
        "type": "python", "inputs": {"connection": {"type": ["AzureContentSafetyConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "hate_category": {"type": ["string"], "default": "medium_sensitivity", "enum":
        ["disable", "low_sensitivity", "medium_sensitivity", "high_sensitivity"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "self_harm_category": {"type": ["string"], "default": "medium_sensitivity",
        "enum": ["disable", "low_sensitivity", "medium_sensitivity", "high_sensitivity"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "sexual_category": {"type": ["string"], "default": "medium_sensitivity", "enum":
        ["disable", "low_sensitivity", "medium_sensitivity", "high_sensitivity"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "text": {"type": ["string"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "violence_category": {"type": ["string"],
        "default": "medium_sensitivity", "enum": ["disable", "low_sensitivity", "medium_sensitivity",
        "high_sensitivity"], "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}}, "description": "Use Azure Content Safety to detect
        harmful content.", "module": "promptflow.tools.azure_content_safety", "function":
        "analyze_text", "is_builtin": true, "package": "promptflow-tools", "package_version":
        "1.4.0rc3", "enable_kwargs": false, "deprecated_tools": ["content_safety_text.tools.content_safety_text_tool.analyze_text"],
        "tool_state": "stable"}, {"name": "Embedding", "type": "python", "inputs":
        {"connection": {"type": ["AzureOpenAIConnection", "OpenAIConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "deployment_name":
        {"type": ["string"], "enabled_by": "connection", "enabled_by_type": ["AzureOpenAIConnection"],
        "model_list": ["text-embedding-ada-002", "text-search-ada-doc-001", "text-search-ada-query-001"],
        "capabilities": {"completion": false, "chat_completion": false, "embeddings":
        true}, "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}, "input": {"type": ["string"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "model": {"type": ["string"], "enum": ["text-embedding-ada-002",
        "text-search-ada-doc-001", "text-search-ada-query-001"], "enabled_by": "connection",
        "enabled_by_type": ["OpenAIConnection"], "allow_manual_entry": true, "is_multi_select":
        false, "input_type": "default"}}, "description": "Use OpenAI''s embedding
        model to create an embedding vector representing the input text.", "module":
        "promptflow.tools.embedding", "function": "embedding", "is_builtin": true,
        "package": "promptflow-tools", "package_version": "1.4.0rc3", "enable_kwargs":
        false, "tool_state": "stable"}, {"name": "Open Model LLM", "type": "custom_llm",
        "inputs": {"api": {"type": ["string"], "enum": ["chat", "completion"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        2}}, "deployment_name": {"type": ["string"], "default": "", "dynamic_list":
        {"func_path": "promptflow.tools.open_model_llm.list_deployment_names", "func_kwargs":
        [{"name": "endpoint", "optional": true, "reference": "${inputs.endpoint}",
        "type": ["string"]}]}, "allow_manual_entry": true, "is_multi_select": false,
        "input_type": "default", "ui_hints": {"index": 1}}, "endpoint_name": {"type":
        ["string"], "dynamic_list": {"func_path": "promptflow.tools.open_model_llm.list_endpoint_names"},
        "allow_manual_entry": true, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 0}}, "max_new_tokens": {"type": ["int"], "default":
        500, "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default", "ui_hints": {"index": 4}}, "model_kwargs": {"type": ["object"],
        "default": "{}", "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default", "advanced": true, "ui_hints": {"index": 6}}, "temperature": {"type":
        ["double"], "default": 1.0, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "ui_hints": {"index": 3}}, "top_p": {"type":
        ["double"], "default": 1.0, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "advanced": true, "ui_hints": {"index": 5}}},
        "description": "Use an open model from the Azure Model catalog, deployed to
        an AzureML Online Endpoint for LLM Chat or Completion API calls.", "module":
        "promptflow.tools.open_model_llm", "class_name": "OpenModelLLM", "function":
        "call", "icon": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACgElEQVR4nGWSz2vcVRTFP/e9NzOZ1KDGohASslLEH6VLV0ak4l/QpeDCrfQPcNGliODKnVm4EBdBsIjQIlhciKW0ycKFVCSNbYnjdDLtmPnmO/nO9917XcxMkjYX3uLx7nnn3HOuMK2Nix4fP78ZdrYXVkLVWjf3l3B1B+HpcjzGFtmqa6cePz7/x0dnn1n5qhj3iBJPYREIURAJuCtpY8PjReDbrf9WG7H1fuefwQU9qKztTcMJT+PNnEFvjGVDBDlSsH6p/9MLzy6+NxwVqI8RAg4IPmWedMckdLYP6O6UpIaQfvyyXG012+e79/ZfHukoS1ISMT2hGTB1RkUmNgQ5QZ0w+a2VWDq73MbdEWmfnnv6UWe7oNzPaLapl5CwuLTXK9WUGBuCjqekzhP+z52ZXOrKMD3OJg0Hh778aiOuvpnYvp05d6GJO4iAO4QAe/eV36/X5LFRV4Zmn+AdkqlL8Vjp3oVioOz+WTPzzYEgsN+fgPLYyJVheSbPPVl2ikeGZRjtG52/8rHuaV9VOlpP2OtKyVndcRVCSqOhsvxa4vW359i6OuKdD+aP8Q4SYPdOzS/flGjt1JUSaMqZ5nwa1Y8qWb/Ud/eZZkHisYezEM0m+fcelDr8F1SqW2LNK6r1jXQwyLzy1hxvrLXZulry7ocL+FS6G4QIu3fG/Px1gdYeW7LIgXU2P/115TOA5G7e3Rmj2aS/m7l5pThiZzrCcE/d1XHzbln373nw7y6veeoUm5KCNKT/IPPwbiY1hYd/l5MIT65BMFt87sU4v9D7/JMflr44uV6hGh1+L4RCkg6z5iK2tAhNLeLsNGwYA4fDYnC/drvuuFxe86NV/x+Ut27g0FvykgAAAABJRU5ErkJggg==",
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "enable_kwargs": false, "tool_state": "stable"}, {"name": "OpenAI GPT-4V",
        "type": "custom_llm", "inputs": {"connection": {"type": ["OpenAIConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 0}}, "frequency_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 7}}, "max_tokens": {"type": ["int"], "default": 512,
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 4}}, "model": {"type": ["string"], "enum": ["gpt-4-vision-preview"],
        "allow_manual_entry": true, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 1}}, "presence_penalty": {"type": ["double"], "default":
        0, "allow_manual_entry": false, "is_multi_select": false, "input_type": "default",
        "ui_hints": {"index": 6}}, "seed": {"type": ["int"], "default": "", "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default", "ui_hints": {"index":
        8}}, "stop": {"type": ["list"], "default": "", "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 5}},
        "temperature": {"type": ["double"], "default": 1, "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "default", "ui_hints": {"index": 2}},
        "top_p": {"type": ["double"], "default": 1, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default", "ui_hints": {"index": 3}}}, "description":
        "Use OpenAI GPT-4V to leverage vision ability.", "module": "promptflow.tools.openai_gpt4v",
        "class_name": "OpenAI", "function": "chat", "icon": {"dark": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA2ElEQVR4nJXSzW3CQBAF4DUSTjk+Al1AD0ikESslpBIEheRALhEpgAYSWV8OGUublf/yLuP3PPNmdndS+gdwXZrYDmh7fGE/W+wXbaYd8IYm4rxJPnZ0boI3wZcdJxs/n+AwV7DFK7aFyfQdYIMLPvES8YJNf5yp4jMeeEYdWh38gXOR35YGHe5xabvQdsHv6PLi8qV6gycc8YH3iMfQu6Lh4ASr+F5Hh3XwVWnQYzUkVlX1nccplAb1SN6Y/sfgmlK64VS8wimldIv/0yj2QLkHizG0iWP4AVAfQ34DVQONAAAAAElFTkSuQmCC",
        "light": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAx0lEQVR4nJWSwQ2CQBBFX0jAcjgqXUgPJNiIsQQrIVCIFy8GC6ABDcGDX7Mus9n1Xz7zZ+fPsLPwH4bUg0dD2wMPcbR48Uxq4AKU4iSTDwZ1LhWXipN/B3V0J6hjBTvgLHZNonewBXrgDpzEvXSIjN0BE3AACmmF4kl5F6tNzcCoLpW0SvGovFvsb4oZ2AANcAOu4ka6axCcINN3rg654sww+CYsPD0OwjcozFNh/Qcd78tqVbCIW+n+Fky472Bh/Q6SYb1EEy8tDzd+9IsVPAAAAABJRU5ErkJggg=="},
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "default_prompt": "# system:\nAs an AI assistant, your task involves interpreting
        images and responding to questions about the image.\nRemember to provide accurate
        answers based on the information present in the image.\n\n# user:\nCan you
        tell me what the image depicts?\n![image]({{image_input}})\n", "enable_kwargs":
        false, "tool_state": "preview"}, {"name": "Serp API", "type": "python", "inputs":
        {"connection": {"type": ["SerpConnection"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "engine": {"type": ["string"], "default":
        "google", "enum": ["google", "bing"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "location": {"type": ["string"], "default":
        "", "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "num": {"type": ["int"], "default": "10", "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "query": {"type": ["string"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "safe": {"type":
        ["string"], "default": "off", "enum": ["active", "off"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}}, "description":
        "Use Serp API to obtain search results from a specific search engine.", "module":
        "promptflow.tools.serpapi", "class_name": "SerpAPI", "function": "search",
        "is_builtin": true, "package": "promptflow-tools", "package_version": "1.4.0rc3",
        "enable_kwargs": false, "tool_state": "stable"}, {"name": "Index Lookup",
        "type": "python", "inputs": {"acs_content_field": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["Azure AI Search"], "dynamic_list": {"func_path":
        "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_fields",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}, {"default": "Edm.String", "name": "field_data_type",
        "optional": false, "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "uionly_hidden"}, "acs_embedding_field": {"type": ["string"],
        "enabled_by": "index_type", "enabled_by_value": ["Azure AI Search"], "dynamic_list":
        {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_fields",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}, {"default": "Collection(Edm.Single)", "name": "field_data_type",
        "optional": false, "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "uionly_hidden"}, "acs_index_connection": {"type": ["CognitiveSearchConnection"],
        "enabled_by": "index_type", "enabled_by_value": ["Azure AI Search"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "uionly_hidden"}, "acs_index_name":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Azure
        AI Search"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_indices",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]}]},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "acs_metadata_field": {"type": ["string"], "enabled_by": "index_type", "enabled_by_value":
        ["Azure AI Search"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_fields",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}, {"default": "Edm.String", "name": "field_data_type",
        "optional": false, "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "uionly_hidden"}, "aoai_embedding_connection": {"type":
        ["AzureOpenAIConnection"], "enabled_by": "embedding_type", "enabled_by_value":
        ["Azure OpenAI"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "uionly_hidden"}, "embedding_deployment": {"type": ["string"], "enabled_by":
        "embedding_type", "enabled_by_value": ["Azure OpenAI"], "dynamic_list": {"func_path":
        "promptflow_vectordb.tool.common_index_lookup_utils.list_aoai_embedding_deployments",
        "func_kwargs": [{"name": "aoai_connection", "optional": false, "reference":
        "${inputs.aoai_embedding_connection}", "type": ["AzurOpenAIConnection"]}]},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "embedding_model": {"type": ["string"], "enabled_by": "embedding_type", "enabled_by_value":
        ["OpenAI", "Hugging Face"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_embedding_models",
        "func_kwargs": [{"name": "embedding_type", "optional": false, "reference":
        "${inputs.embedding_type}", "type": ["string"]}]}, "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "uionly_hidden"}, "embedding_type":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Azure
        AI Search", "FAISS", "Pinecone"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_available_embedding_types",
        "func_kwargs": [{"name": "index_type", "optional": false, "reference": "${inputs.index_type}",
        "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "uionly_hidden"}, "faiss_index_path": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["FAISS"], "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "uionly_hidden"}, "index_type": {"type":
        ["string"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_available_index_types"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "mlindex_asset_id": {"type": ["string"], "enabled_by": "index_type", "enabled_by_value":
        ["Registered Index"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_registered_mlindices"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "mlindex_content": {"type": ["string"], "allow_manual_entry": false, "is_multi_select":
        false, "generated_by": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.forward_mapping",
        "func_kwargs": [{"name": "index_type", "reference": "${inputs.index_type}",
        "type": ["string"]}, {"name": "mlindex_asset_id", "optional": true, "reference":
        "${inputs.mlindex_asset_id}", "type": ["string"]}, {"name": "mlindex_path",
        "optional": true, "reference": "${inputs.mlindex_path}", "type": ["string"]},
        {"name": "acs_index_connection", "optional": true, "reference": "${inputs.acs_index_connection}",
        "type": ["CognitiveSearchConnection"]}, {"name": "acs_index_name", "optional":
        true, "reference": "${inputs.acs_index_name}", "type": ["string"]}, {"name":
        "acs_content_field", "optional": true, "reference": "${inputs.acs_content_field}",
        "type": ["string"]}, {"name": "acs_embedding_field", "optional": true, "reference":
        "${inputs.acs_embedding_field}", "type": ["string"]}, {"name": "acs_metadata_field",
        "optional": true, "reference": "${inputs.acs_metadata_field}", "type": ["string"]},
        {"name": "semantic_configuration", "optional": true, "reference": "${inputs.semantic_configuration}",
        "type": ["string"]}, {"name": "faiss_index_path", "optional": true, "reference":
        "${inputs.faiss_index_path}", "type": ["string"]}, {"name": "pinecone_index_connection",
        "optional": true, "reference": "${inputs.pinecone_index_connection}", "type":
        ["string"]}, {"name": "pinecone_index_name", "optional": true, "reference":
        "${inputs.pinecone_index_name}", "type": ["string"]}, {"name": "pinecone_content_field",
        "optional": true, "reference": "${inputs.pinecone_content_field}", "type":
        ["string"]}, {"name": "pinecone_metadata_field", "optional": true, "reference":
        "${inputs.pinecone_metadata_field}", "type": ["string"]}, {"name": "embedding_type",
        "optional": true, "reference": "${inputs.embedding_type}", "type": ["string"]},
        {"name": "aoai_embedding_connection", "optional": true, "reference": "${inputs.aoai_embedding_connection}",
        "type": ["AzureOpenAIConnection"]}, {"name": "oai_embedding_connection", "optional":
        true, "reference": "${inputs.oai_embedding_connection}", "type": ["string"]},
        {"name": "embedding_model", "optional": true, "reference": "${inputs.embedding_model}",
        "type": ["string"]}, {"name": "embedding_deployment", "optional": true, "reference":
        "${inputs.embedding_deployment}", "type": ["string"]}, {"name": "serverless_embedding_connection",
        "optional": true, "reference": "${inputs.serverless_embedding_connection}",
        "type": ["string"]}], "reverse_func_path": "promptflow_vectordb.tool.common_index_lookup_utils.reverse_mapping"},
        "input_type": "default"}, "mlindex_path": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["MLIndex file from path"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "uionly_hidden"}, "oai_embedding_connection":
        {"type": ["OpenAIConnection"], "enabled_by": "embedding_type", "enabled_by_value":
        ["OpenAI"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "uionly_hidden"}, "pinecone_content_field": {"type": ["string"], "enabled_by":
        "index_type", "enabled_by_value": ["Pinecone"], "allow_manual_entry": false,
        "is_multi_select": false, "input_type": "uionly_hidden"}, "pinecone_index_connection":
        {"type": ["PineconeConnection"], "enabled_by": "index_type", "enabled_by_value":
        ["Pinecone"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_pinecone_connections"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "pinecone_index_name": {"type": ["string"], "enabled_by": "index_type", "enabled_by_value":
        ["Pinecone"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_pinecone_indices",
        "func_kwargs": [{"name": "pinecone_connection_name", "optional": false, "reference":
        "${inputs.pinecone_index_connection}", "type": ["string"]}]}, "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "uionly_hidden"}, "pinecone_metadata_field":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Pinecone"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "queries": {"type": ["object"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "query_type": {"type": ["string"], "dynamic_list":
        {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_available_query_types",
        "func_kwargs": [{"name": "mlindex_content", "optional": false, "reference":
        "${inputs.mlindex_content}", "type": ["string"]}]}, "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "semantic_configuration":
        {"type": ["string"], "enabled_by": "index_type", "enabled_by_value": ["Azure
        AI Search"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_semantic_configurations",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "uionly_hidden"}, "serverless_embedding_connection": {"type":
        ["string"], "enabled_by": "embedding_type", "enabled_by_value": ["Serverless
        Endpoint"], "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_serverless_embedding_connections"},
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "uionly_hidden"},
        "top_k": {"type": ["int"], "default": 3, "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}}, "description": "Search an AzureML Vector
        Index for relevant results using one or more text queries.", "module": "promptflow_vectordb.tool.common_index_lookup",
        "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "preview"},
        {"name": "Faiss Index Lookup", "type": "python", "inputs": {"path": {"type":
        ["string"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}, "top_k": {"type": ["int"], "default": "3", "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "vector": {"type":
        ["list"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}}, "description": "Search vector based query from the FAISS index
        file.", "module": "promptflow_vectordb.tool.faiss_index_lookup", "class_name":
        "FaissIndexLookup", "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "archived"},
        {"name": "Vector DB Lookup", "type": "python", "inputs": {"class_name": {"type":
        ["string"], "enabled_by": "connection", "enabled_by_type": ["WeaviateConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "collection_name": {"type": ["string"], "enabled_by": "connection", "enabled_by_type":
        ["QdrantConnection"], "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}, "connection": {"type": ["CognitiveSearchConnection",
        "QdrantConnection", "WeaviateConnection"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "index_name": {"type": ["string"], "enabled_by":
        "connection", "enabled_by_type": ["CognitiveSearchConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "search_filters":
        {"type": ["object"], "enabled_by": "connection", "enabled_by_type": ["CognitiveSearchConnection",
        "QdrantConnection"], "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}, "search_params": {"type": ["object"], "enabled_by":
        "connection", "enabled_by_type": ["CognitiveSearchConnection", "QdrantConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"},
        "text_field": {"type": ["string"], "enabled_by": "connection", "enabled_by_type":
        ["CognitiveSearchConnection", "QdrantConnection", "WeaviateConnection"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "top_k": {"type":
        ["int"], "default": "3", "allow_manual_entry": false, "is_multi_select": false,
        "input_type": "default"}, "vector": {"type": ["list"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}, "vector_field":
        {"type": ["string"], "enabled_by": "connection", "enabled_by_type": ["CognitiveSearchConnection"],
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"}},
        "description": "Search vector based query from existing Vector Database.",
        "module": "promptflow_vectordb.tool.vector_db_lookup", "class_name": "VectorDBLookup",
        "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "archived"},
        {"name": "Vector Index Lookup", "type": "python", "inputs": {"path": {"type":
        ["string"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}, "query": {"type": ["object"], "allow_manual_entry": false, "is_multi_select":
        false, "input_type": "default"}, "top_k": {"type": ["int"], "default": "3",
        "allow_manual_entry": false, "is_multi_select": false, "input_type": "default"}},
        "description": "Search text or vector based query from AzureML Vector Index.",
        "module": "promptflow_vectordb.tool.vector_index_lookup", "class_name": "VectorIndexLookup",
        "function": "search", "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "enable_kwargs": false, "tool_state": "archived"},
        {"name": "count_image.py", "type": "python", "inputs": {"images": {"type":
        ["object"], "allow_manual_entry": false, "is_multi_select": false, "input_type":
        "default"}}, "source": "count_image.py", "function": "aggregate", "is_builtin":
        false, "enable_kwargs": false, "tool_state": "stable"}, {"name": "flip_image.py",
        "type": "python", "inputs": {"input_image": {"type": ["image"], "allow_manual_entry":
        false, "is_multi_select": false, "input_type": "default"}}, "source": "flip_image.py",
        "function": "passthrough", "is_builtin": false, "enable_kwargs": false, "tool_state":
        "stable"}], "inputs": {"input_image": {"type": "image", "default": "https://developer.microsoft.com/_devcom/images/logo-ms-social.png",
        "is_chat_input": false}}, "outputs": {"output_image": {"type": "string", "reference":
        "${flip_image.output}", "evaluation_only": false, "is_chat_output": false}}},
        "flowRunResourceId": "azureml://locations/eastus/workspaces/00000/flows/name/flowRuns/name",
        "flowRunId": "name", "flowRunDisplayName": "resume_from_run_with_image_and_aggregation_node",
        "batchDataInput": {"dataUri": "azureml://datastores/workspaceblobstore/paths/LocalUpload/f0a11846460e7f82ede2efcac357243a/input_data/"},
        "flowRunType": "FlowRun", "flowType": "Default", "runtimeName": "automatic",
        "inputsMapping": {"input_image": "${data.input_image}"}, "outputDatastoreName":
        "workspaceblobstore", "childRunBasePath": "promptflow/PromptFlowArtifacts/name/name/flow_artifacts",
        "flowDagFileRelativePath": "flow.dag.yaml", "flowSnapshotId": "5736ca27-2c86-4efa-b25b-786d71f83a72",
        "sessionId": "name", "studioPortalEndpoint": "https://ml.azure.com/runs/name?wsid=/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000"}'
    headers:
      connection:
      - keep-alive
      content-length:
      - '28283'
      content-type:
      - application/json; charset=utf-8
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-request-time:
      - '0.199'
    status:
      code: 200
      message: OK
- request:
    body: '{}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.31.0
    method: POST
    uri: https://eastus.api.azureml.ms/metric/v2.0/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/runs/name/lastvalues
  response:
    body:
      string: '{"value": [{"dataContainerId": "dcid.name", "name": "__pf__.nodes.flip_image.completed",
        "columns": {"__pf__.nodes.flip_image.completed": "Double"}, "properties":
        {"uxMetricType": "azureml.v1.scalar", "dataLocation": null}, "namespace":
        null, "standardSchemaId": null, "value": [{"metricId": "0f685aa7-1806-4e31-a6c1-025527d45934",
        "createdUtc": "2024-04-12T08:29:24.183+00:00", "step": 0, "data": {"__pf__.nodes.flip_image.completed":
        10.0}}]}, {"dataContainerId": "dcid.name", "name": "__pf__.nodes.flip_image.failed",
        "columns": {"__pf__.nodes.flip_image.failed": "Double"}, "properties": {"uxMetricType":
        "azureml.v1.scalar", "dataLocation": null}, "namespace": null, "standardSchemaId":
        null, "value": [{"metricId": "1cf39d6b-d977-4063-a6d7-07ce1890f860", "createdUtc":
        "2024-04-12T08:29:24.735+00:00", "step": 0, "data": {"__pf__.nodes.flip_image.failed":
        5.0}}]}, {"dataContainerId": "dcid.name", "name": "__pf__.nodes.count_image.completed",
        "columns": {"__pf__.nodes.count_image.completed": "Double"}, "properties":
        {"uxMetricType": "azureml.v1.scalar", "dataLocation": null}, "namespace":
        null, "standardSchemaId": null, "value": [{"metricId": "f3b93fb4-be95-45ed-8e5b-397f064e2d68",
        "createdUtc": "2024-04-12T08:29:25.022+00:00", "step": 0, "data": {"__pf__.nodes.count_image.completed":
        1.0}}]}, {"dataContainerId": "dcid.name", "name": "__pf__.lines.completed",
        "columns": {"__pf__.lines.completed": "Double"}, "properties": {"uxMetricType":
        "azureml.v1.scalar", "dataLocation": null}, "namespace": null, "standardSchemaId":
        null, "value": [{"metricId": "cc4011cd-a21a-4a74-ae51-7969b2152d7a", "createdUtc":
        "2024-04-12T08:29:25.356+00:00", "step": 0, "data": {"__pf__.lines.completed":
        10.0}}]}, {"dataContainerId": "dcid.name", "name": "__pf__.lines.failed",
        "columns": {"__pf__.lines.failed": "Double"}, "properties": {"uxMetricType":
        "azureml.v1.scalar", "dataLocation": null}, "namespace": null, "standardSchemaId":
        null, "value": [{"metricId": "3ddb5f3f-e39d-46b1-a3e0-530ce35d0da9", "createdUtc":
        "2024-04-12T08:29:25.702+00:00", "step": 0, "data": {"__pf__.lines.failed":
        5.0}}]}, {"dataContainerId": "dcid.name", "name": "image_count", "columns":
        {"image_count": "Double"}, "properties": {"uxMetricType": "azureml.v1.scalar",
        "dataLocation": null}, "namespace": null, "standardSchemaId": null, "value":
        [{"metricId": "665bc5bd-eeed-471e-8711-294ad561b8fe", "createdUtc": "2024-04-12T08:29:26.064+00:00",
        "step": 0, "data": {"image_count": 10.0}}]}]}'
    headers:
      connection:
      - keep-alive
      content-length:
      - '3763'
      content-type:
      - application/json; charset=utf-8
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-request-time:
      - '0.083'
    status:
      code: 200
      message: OK
- request:
    body: '{"runId": "resume_from_run_with_image_and_aggregation_node", "selectRunMetadata":
      true, "selectRunDefinition": true, "selectJobSpecification": true}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '148'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.31.0
    method: POST
    uri: https://eastus.api.azureml.ms/history/v1.0/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/rundata
  response:
    body:
      string: '{"runMetadata": {"runNumber": 1712755412, "rootRunId": "resume_from_run_with_image_and_aggregation_node",
        "createdUtc": "2024-04-10T13:23:32.5799568+00:00", "createdBy": {"userObjectId":
        "00000000-0000-0000-0000-000000000000", "userPuId": "10032002CE21DB29", "userIdp":
        null, "userAltSecId": null, "userIss": "https://sts.windows.net/00000000-0000-0000-0000-000000000000/",
        "userTenantId": "00000000-0000-0000-0000-000000000000", "userName": "Min Shi",
        "upn": null}, "userId": "00000000-0000-0000-0000-000000000000", "token": null,
        "tokenExpiryTimeUtc": null, "error": {"error": {"code": "UserError", "severity":
        null, "message": "Execution failure in ''flip_image'': (ValueError) Random
        failure", "messageFormat": "{\"totalChildRuns\": 15, \"userErrorChildRuns\":
        9, \"systemErrorChildRuns\": 0, \"errorDetails\": [{\"code\": \"UserError/ToolExecutionError\",
        \"messageFormat\": \"Execution failure in ''{node_name}''.\", \"count\": 9}]}",
        "messageParameters": {"node_name": "flip_image"}, "referenceCode": "Tool/__pf_main__",
        "detailsUri": null, "target": null, "details": [], "innerError": {"code":
        "ToolExecutionError", "innerError": null}, "debugInfo": {"type": "ToolExecutionError",
        "message": "Execution failure in ''flip_image'': (ValueError) Random failure",
        "stackTrace": "\nThe above exception was the direct cause of the following
        exception:\n\nTraceback (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 958, in _exec\n    output, aggregation_inputs = self._exec_inner_with_trace(\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 866, in _exec_inner_with_trace\n    output, aggregation_inputs = self._exec_inner(\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 895, in _exec_inner\n    output, nodes_outputs = self._traverse_nodes(inputs,
        context)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 1144, in _traverse_nodes\n    nodes_outputs, bypassed_nodes = self._submit_to_scheduler(context,
        inputs, batch_nodes)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 1181, in _submit_to_scheduler\n    return scheduler.execute(self._line_timeout_sec)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 89, in execute\n    raise e\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 72, in execute\n    self._dag_manager.complete_nodes(self._collect_outputs(completed_futures))\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 113, in _collect_outputs\n    each_node_result = each_future.result()\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/_base.py\",
        line 439, in result\n    return self.__get_result()\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/_base.py\",
        line 391, in __get_result\n    raise self._exception\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/thread.py\",
        line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 134, in _exec_single_node_in_thread\n    result = context.invoke_tool(node,
        f, kwargs=kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 90, in invoke_tool\n    result = self._invoke_tool_inner(node, f, kwargs)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 206, in _invoke_tool_inner\n    raise ToolExecutionError(node_name=node_name,
        module=module) from e\n", "innerException": {"type": "ValueError", "message":
        "Random failure", "stackTrace": "Traceback (most recent call last):\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 182, in _invoke_tool_inner\n    return f(**kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\n", "innerException":
        null, "data": null, "errorResponse": null}, "data": null, "errorResponse":
        null}, "additionalInfo": [{"type": "ToolExecutionErrorDetails", "info": {"type":
        "ValueError", "message": "Random failure", "traceback": "Traceback (most recent
        call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\nValueError:
        Random failure\n", "filename": "/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py",
        "lineno": 12, "name": "passthrough"}}]}, "correlation": null, "environment":
        null, "location": null, "time": "2024-04-10T13:24:44.918188+00:00", "componentName":
        "promptflow-runtime/20240403.v2 Designer/1.0 Pfo Designer/1.0 promptflow-azure-sdk/1.9.0.dev0
        azsdk-python-azuremachinelearningdesignerserviceclient/unknown Python/3.9.19
        (Windows-10-10.0.22631-SP0) Pfo Designer/1.0 promptflow-azure-sdk/1.9.0.dev0
        azsdk-python-azuremachinelearningdesignerserviceclient/unknown Python/3.9.19
        (Windows-10-10.0.22631-SP0) promptflow-tracing/1.1.0rc3"}, "warnings": null,
        "revision": 7, "statusRevision": 3, "runUuid": "216dae9c-d289-4b98-80bf-be0a77321ee8",
        "parentRunUuid": null, "rootRunUuid": "216dae9c-d289-4b98-80bf-be0a77321ee8",
        "lastStartTimeUtc": null, "currentComputeTime": null, "computeDuration": "00:00:16.9887722",
        "effectiveStartTimeUtc": null, "lastModifiedBy": {"userObjectId": "00000000-0000-0000-0000-000000000000",
        "userPuId": "10032002CE21DB29", "userIdp": null, "userAltSecId": null, "userIss":
        "https://sts.windows.net/00000000-0000-0000-0000-000000000000/", "userTenantId":
        "00000000-0000-0000-0000-000000000000", "userName": "Min Shi", "upn": "username@microsoft.com"},
        "lastModifiedUtc": "2024-04-10T13:24:44.5075471+00:00", "duration": "00:00:16.9887722",
        "cancelationReason": null, "currentAttemptId": 1, "runId": "resume_from_run_with_image_and_aggregation_node",
        "parentRunId": null, "experimentId": "db5705ce-7865-413d-b324-549bc91e6de4",
        "status": "Completed", "startTimeUtc": "2024-04-10T13:24:28.2198408+00:00",
        "endTimeUtc": "2024-04-10T13:24:45.208613+00:00", "scheduleId": null, "displayName":
        "resume_from_run_with_image_and_aggregation_node", "name": null, "dataContainerId":
        "dcid.resume_from_run_with_image_and_aggregation_node", "description": null,
        "hidden": false, "runType": "azureml.promptflow.FlowRun", "runTypeV2": {"orchestrator":
        null, "traits": [], "attribution": "PromptFlow", "computeType": null}, "properties":
        {"azureml.promptflow.runtime_name": "automatic", "azureml.promptflow.input_data":
        "azureml://datastores/workspaceblobstore/paths/LocalUpload/f0a11846460e7f82ede2efcac357243a/input_data/",
        "azureml.promptflow.inputs_mapping": "{\"input_image\":\"${data.input_image}\"}",
        "azureml.promptflow.session_id": "dd798e161fe6ff4d5da384b8b0cfda2c1de3b1d9275b138e",
        "azureml.promptflow.definition_file_name": "flow.dag.yaml", "azureml.promptflow.flow_lineage_id":
        "d1b603169986e126b2762c50a034d3aad85f637a3a2400307e3254407ecd1bdd", "azureml.promptflow.flow_definition_datastore_name":
        "workspaceblobstore", "azureml.promptflow.flow_definition_blob_path": "LocalUpload/5d951fac650cf852b66c6f05e0f0e920/eval_flow_with_image_resume_random_fail/flow.dag.yaml",
        "_azureml.evaluation_run": "promptflow.BatchRun", "azureml.promptflow.snapshot_id":
        "5736ca27-2c86-4efa-b25b-786d71f83a72", "azureml.promptflow.runtime_version":
        "20240403.v2", "azureml.promptflow.total_tokens": "0", "_azureml.evaluate_artifacts":
        "[{\"path\": \"instance_results.jsonl\", \"type\": \"table\"}]"}, "parameters":
        {}, "actionUris": {}, "scriptName": null, "target": null, "uniqueChildRunComputeTargets":
        [], "tags": {}, "settings": {}, "services": {}, "inputDatasets": [], "outputDatasets":
        [], "runDefinition": null, "jobSpecification": null, "primaryMetricName":
        null, "createdFrom": null, "cancelUri": null, "completeUri": null, "diagnosticsUri":
        null, "computeRequest": null, "compute": null, "retainForLifetimeOfWorkspace":
        false, "queueingInfo": null, "inputs": null, "outputs": {"debug_info": {"assetId":
        "azureml://locations/eastus/workspaces/00000/data/azureml_resume_from_run_with_image_and_aggregation_node_output_data_debug_info/versions/1",
        "type": "UriFolder"}, "flow_outputs": {"assetId": "azureml://locations/eastus/workspaces/00000/data/azureml_resume_from_run_with_image_and_aggregation_node_output_data_flow_outputs/versions/1",
        "type": "UriFolder"}}}, "runDefinition": null, "jobSpecification": null, "systemSettings":
        null}'
    headers:
      connection:
      - keep-alive
      content-length:
      - '10529'
      content-type:
      - application/json; charset=utf-8
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-request-time:
      - '0.033'
    status:
      code: 200
      message: OK
- request:
    body: '{"runId": "name", "selectRunMetadata": true, "selectRunDefinition": true,
      "selectJobSpecification": true}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '137'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.31.0
    method: POST
    uri: https://eastus.api.azureml.ms/history/v1.0/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/rundata
  response:
    body:
      string: '{"runMetadata": {"runNumber": 1712910485, "rootRunId": "name", "createdUtc":
        "2024-04-12T08:28:05.2529256+00:00", "createdBy": {"userObjectId": "00000000-0000-0000-0000-000000000000",
        "userPuId": "10032002CE21DB29", "userIdp": null, "userAltSecId": null, "userIss":
        "https://sts.windows.net/00000000-0000-0000-0000-000000000000/", "userTenantId":
        "00000000-0000-0000-0000-000000000000", "userName": "Min Shi", "upn": null},
        "userId": "00000000-0000-0000-0000-000000000000", "token": null, "tokenExpiryTimeUtc":
        null, "error": {"error": {"code": "UserError", "severity": null, "message":
        "Execution failure in ''flip_image'': (ValueError) Random failure", "messageFormat":
        "{\"totalChildRuns\": 15, \"userErrorChildRuns\": 5, \"systemErrorChildRuns\":
        0, \"errorDetails\": [{\"code\": \"UserError/ToolExecutionError\", \"messageFormat\":
        \"Execution failure in ''{node_name}''.\", \"count\": 5}]}", "messageParameters":
        {"node_name": "flip_image"}, "referenceCode": "Tool/__pf_main__", "detailsUri":
        null, "target": null, "details": [], "innerError": {"code": "ToolExecutionError",
        "innerError": null}, "debugInfo": {"type": "ToolExecutionError", "message":
        "Execution failure in ''flip_image'': (ValueError) Random failure", "stackTrace":
        "\nThe above exception was the direct cause of the following exception:\n\nTraceback
        (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 958, in _exec\n    output, aggregation_inputs = self._exec_inner_with_trace(\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 866, in _exec_inner_with_trace\n    output, aggregation_inputs = self._exec_inner(\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 895, in _exec_inner\n    output, nodes_outputs = self._traverse_nodes(inputs,
        context)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 1144, in _traverse_nodes\n    nodes_outputs, bypassed_nodes = self._submit_to_scheduler(context,
        inputs, batch_nodes)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 1181, in _submit_to_scheduler\n    return scheduler.execute(self._line_timeout_sec)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 89, in execute\n    raise e\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 72, in execute\n    self._dag_manager.complete_nodes(self._collect_outputs(completed_futures))\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 113, in _collect_outputs\n    each_node_result = each_future.result()\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/_base.py\",
        line 439, in result\n    return self.__get_result()\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/_base.py\",
        line 391, in __get_result\n    raise self._exception\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/concurrent/futures/thread.py\",
        line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 134, in _exec_single_node_in_thread\n    result = context.invoke_tool(node,
        f, kwargs=kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 90, in invoke_tool\n    result = self._invoke_tool_inner(node, f, kwargs)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 206, in _invoke_tool_inner\n    raise ToolExecutionError(node_name=node_name,
        module=module) from e\n", "innerException": {"type": "ValueError", "message":
        "Random failure", "stackTrace": "Traceback (most recent call last):\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 182, in _invoke_tool_inner\n    return f(**kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38659/requests/name/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\n", "innerException":
        null, "data": null, "errorResponse": null}, "data": null, "errorResponse":
        null}, "additionalInfo": [{"type": "ToolExecutionErrorDetails", "info": {"type":
        "ValueError", "message": "Random failure", "traceback": "Traceback (most recent
        call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38659/requests/name/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\nValueError:
        Random failure\n", "filename": "/mnt/host/service/app/38659/requests/name/flip_image.py",
        "lineno": 12, "name": "passthrough"}}]}, "correlation": null, "environment":
        null, "location": null, "time": "2024-04-12T08:29:26.879001+00:00", "componentName":
        "promptflow-runtime/20240403.v2 Designer/1.0 Pfo Designer/1.0 promptflow-azure-sdk/1.0.0.dev0
        azsdk-python-azuremachinelearningdesignerserviceclient/unknown Python/3.9.19
        (Windows-10-10.0.22631-SP0) Pfo Designer/1.0 promptflow-azure-sdk/1.0.0.dev0
        azsdk-python-azuremachinelearningdesignerserviceclient/unknown Python/3.9.19
        (Windows-10-10.0.22631-SP0) promptflow-tracing/1.1.0rc3"}, "warnings": null,
        "revision": 7, "statusRevision": 3, "runUuid": "d5529e3b-ac8a-4766-be2e-d0ad5971edcc",
        "parentRunUuid": null, "rootRunUuid": "d5529e3b-ac8a-4766-be2e-d0ad5971edcc",
        "lastStartTimeUtc": null, "currentComputeTime": null, "computeDuration": "00:00:30.2646539",
        "effectiveStartTimeUtc": null, "lastModifiedBy": {"userObjectId": "00000000-0000-0000-0000-000000000000",
        "userPuId": "10032002CE21DB29", "userIdp": null, "userAltSecId": null, "userIss":
        "https://sts.windows.net/00000000-0000-0000-0000-000000000000/", "userTenantId":
        "00000000-0000-0000-0000-000000000000", "userName": "Min Shi", "upn": "username@microsoft.com"},
        "lastModifiedUtc": "2024-04-12T08:29:26.4561556+00:00", "duration": "00:00:30.2646539",
        "cancelationReason": null, "currentAttemptId": 1, "runId": "name", "parentRunId":
        null, "experimentId": "db5705ce-7865-413d-b324-549bc91e6de4", "status": "Completed",
        "startTimeUtc": "2024-04-12T08:28:56.9003615+00:00", "endTimeUtc": "2024-04-12T08:29:27.1650154+00:00",
        "scheduleId": null, "displayName": "resume_from_run_with_image_and_aggregation_node",
        "name": null, "dataContainerId": "dcid.name", "description": null, "hidden":
        false, "runType": "azureml.promptflow.FlowRun", "runTypeV2": {"orchestrator":
        null, "traits": [], "attribution": "PromptFlow", "computeType": null}, "properties":
        {"azureml.promptflow.input_data": "azureml://datastores/workspaceblobstore/paths/LocalUpload/f0a11846460e7f82ede2efcac357243a/input_data/",
        "azureml.promptflow.inputs_mapping": "{\"input_image\":\"${data.input_image}\"}",
        "azureml.promptflow.definition_file_name": "flow.dag.yaml", "azureml.promptflow.flow_lineage_id":
        "d1b603169986e126b2762c50a034d3aad85f637a3a2400307e3254407ecd1bdd", "azureml.promptflow.flow_definition_datastore_name":
        "workspaceblobstore", "azureml.promptflow.flow_definition_blob_path": "LocalUpload/5d951fac650cf852b66c6f05e0f0e920/eval_flow_with_image_resume_random_fail/flow.dag.yaml",
        "azureml.promptflow.snapshot_id": "5736ca27-2c86-4efa-b25b-786d71f83a72",
        "azureml.promptflow.resume_from_run_id": "resume_from_run_with_image_and_aggregation_node",
        "azureml.promptflow.disable_trace": "false", "azureml.promptflow.runtime_name":
        "automatic", "azureml.promptflow.session_id": "name", "_azureml.evaluation_run":
        "promptflow.BatchRun", "azureml.promptflow.runtime_version": "20240403.v2",
        "azureml.promptflow.total_tokens": "0", "_azureml.evaluate_artifacts": "[{\"path\":
        \"instance_results.jsonl\", \"type\": \"table\"}]"}, "parameters": {}, "actionUris":
        {}, "scriptName": null, "target": null, "uniqueChildRunComputeTargets": [],
        "tags": {}, "settings": {}, "services": {}, "inputDatasets": [], "outputDatasets":
        [], "runDefinition": null, "jobSpecification": null, "primaryMetricName":
        null, "createdFrom": null, "cancelUri": null, "completeUri": null, "diagnosticsUri":
        null, "computeRequest": null, "compute": null, "retainForLifetimeOfWorkspace":
        false, "queueingInfo": null, "inputs": null, "outputs": {"debug_info": {"assetId":
        "azureml://locations/eastus/workspaces/00000/data/azureml_name_output_data_debug_info/versions/1",
        "type": "UriFolder"}, "flow_outputs": {"assetId": "azureml://locations/eastus/workspaces/00000/data/azureml_name_output_data_flow_outputs/versions/1",
        "type": "UriFolder"}}}, "runDefinition": {"Nodes": [{"Name": "flip_image",
        "Type": "python", "Source": {"Type": "code", "Tool": null, "Path": "flip_image.py"},
        "Inputs": {"input_image": "${inputs.input_image}"}, "Tool": "flip_image.py",
        "Reduce": false, "Activate": null, "Comment": null, "Api": null, "Provider":
        null, "Connection": null, "Module": null}, {"Name": "count_image", "Type":
        "python", "Source": {"Type": "code", "Tool": null, "Path": "count_image.py"},
        "Inputs": {"images": "${flip_image.output}"}, "Tool": "count_image.py", "Reduce":
        true, "Activate": null, "Comment": null, "Api": null, "Provider": null, "Connection":
        null, "Module": null}], "Tools": [{"Name": "Azure OpenAI GPT-4 Turbo with
        Vision", "Type": "custom_llm", "Inputs": {"connection": {"Name": null, "Type":
        ["AzureOpenAIConnection"], "Default": null, "Description": null, "Enum": null,
        "enabled_by": null, "enabled_by_type": null, "enabled_by_value": null, "model_list":
        null, "Capabilities": null, "dynamic_list": null, "allow_manual_entry": false,
        "is_multi_select": false, "generated_by": null, "input_type": "default", "advanced":
        null, "ui_hints": {"index": 0}, "filter_by": null}, "deployment_name": {"Name":
        null, "Type": ["string"], "Default": null, "Description": null, "Enum": null,
        "enabled_by": "connection", "enabled_by_type": null, "enabled_by_value": null,
        "model_list": null, "Capabilities": null, "dynamic_list": {"func_path": "promptflow.tools.aoai_gpt4v.list_deployment_names",
        "func_kwargs": [{"name": "connection", "reference": "${inputs.connection}",
        "type": ["AzureOpenAIConnection"]}]}, "allow_manual_entry": true, "is_multi_select":
        false, "generated_by": null, "input_type": "default", "advanced": null, "ui_hints":
        {"index": 1}, "filter_by": null}, "frequency_penalty": {"Name": null, "Type":
        ["double"], "Default": 0, "Description": null, "Enum": null, "enabled_by":
        null, "enabled_by_type": null, "enabled_by_value": null, "model_list": null,
        "Capabilities": null, "dynamic_list": null, "allow_manual_entry": false, "is_multi_select":
        false, "generated_by": null, "input_type": "default", "advanced": null, "ui_hints":
        {"index": 7}, "filter_by": null}, "max_tokens": {"Name": null, "Type": ["int"],
        "Default": 512, "Description": null, "Enum": null, "enabled_by": null, "enabled_by_type":
        null, "enabled_by_value": null, "model_list": null, "Capabilities": null,
        "dynamic_list": null, "allow_manual_entry": false, "is_multi_select": false,
        "generated_by": null, "input_type": "default", "advanced": null, "ui_hints":
        {"index": 4}, "filter_by": null}, "presence_penalty": {"Name": null, "Type":
        ["double"], "Default": 0, "Description": null, "Enum": null, "enabled_by":
        null, "enabled_by_type": null, "enabled_by_value": null, "model_list": null,
        "Capabilities": null, "dynamic_list": null, "allow_manual_entry": false, "is_multi_select":
        false, "generated_by": null, "input_type": "default", "advanced": null, "ui_hints":
        {"index": 6}, "filter_by": null}, "seed": {"Name": null, "Type": ["int"],
        "Default": "", "Description": null, "Enum": null, "enabled_by": null, "enabled_by_type":
        null, "enabled_by_value": null, "model_list": null, "Capabilities": null,
        "dynamic_list": null, "allow_manual_entry": false, "is_multi_select": false,
        "generated_by": null, "input_type": "default", "advanced": null, "ui_hints":
        {"index": 8}, "filter_by": null}, "stop": {"Name": null, "Type": ["list"],
        "Default": "", "Description": null, "Enum": null, "enabled_by": null, "enabled_by_type":
        null, "enabled_by_value": null, "model_list": null, "Capabilities": null,
        "dynamic_list": null, "allow_manual_entry": false, "is_multi_select": false,
        "generated_by": null, "input_type": "default", "advanced": null, "ui_hints":
        {"index": 5}, "filter_by": null}, "temperature": {"Name": null, "Type": ["double"],
        "Default": 1, "Description": null, "Enum": null, "enabled_by": null, "enabled_by_type":
        null, "enabled_by_value": null, "model_list": null, "Capabilities": null,
        "dynamic_list": null, "allow_manual_entry": false, "is_multi_select": false,
        "generated_by": null, "input_type": "default", "advanced": null, "ui_hints":
        {"index": 2}, "filter_by": null}, "top_p": {"Name": null, "Type": ["double"],
        "Default": 1, "Description": null, "Enum": null, "enabled_by": null, "enabled_by_type":
        null, "enabled_by_value": null, "model_list": null, "Capabilities": null,
        "dynamic_list": null, "allow_manual_entry": false, "is_multi_select": false,
        "generated_by": null, "input_type": "default", "advanced": null, "ui_hints":
        {"index": 3}, "filter_by": null}}, "Outputs": null, "Description": "Use Azure
        OpenAI GPT-4 Turbo with Vision to leverage AOAI vision ability.", "connection_type":
        null, "Module": "promptflow.tools.aoai_gpt4v", "class_name": "AzureOpenAI",
        "Source": null, "LkgCode": null, "Code": null, "Function": "chat", "action_type":
        null, "provider_config": null, "function_config": null, "Icon": {"dark": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA2ElEQVR4nJXSzW3CQBAF4DUSTjk+Al1AD0ikESslpBIEheRALhEpgAYSWV8OGUublf/yLuP3PPNmdndS+gdwXZrYDmh7fGE/W+wXbaYd8IYm4rxJPnZ0boI3wZcdJxs/n+AwV7DFK7aFyfQdYIMLPvES8YJNf5yp4jMeeEYdWh38gXOR35YGHe5xabvQdsHv6PLi8qV6gycc8YH3iMfQu6Lh4ASr+F5Hh3XwVWnQYzUkVlX1nccplAb1SN6Y/sfgmlK64VS8wimldIv/0yj2QLkHizG0iWP4AVAfQ34DVQONAAAAAElFTkSuQmCC",
        "light": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAx0lEQVR4nJWSwQ2CQBBFX0jAcjgqXUgPJNiIsQQrIVCIFy8GC6ABDcGDX7Mus9n1Xz7zZ+fPsLPwH4bUg0dD2wMPcbR48Uxq4AKU4iSTDwZ1LhWXipN/B3V0J6hjBTvgLHZNonewBXrgDpzEvXSIjN0BE3AACmmF4kl5F6tNzcCoLpW0SvGovFvsb4oZ2AANcAOu4ka6axCcINN3rg654sww+CYsPD0OwjcozFNh/Qcd78tqVbCIW+n+Fky472Bh/Q6SYb1EEy8tDzd+9IsVPAAAAABJRU5ErkJggg=="},
        "Category": null, "Tags": null, "is_builtin": true, "package": "promptflow-tools",
        "package_version": "1.4.0rc3", "default_prompt": "# system:\nAs an AI assistant,
        your task involves interpreting images and responding to questions about the
        image.\nRemember to provide accurate answers based on the information present
        in the image.\n\n# user:\nCan you tell me what the image depicts?\n![image]({{image_input}})\n",
        "enable_kwargs": false, "deprecated_tools": null, "tool_state": "preview",
        "groups": null}, {"Name": "Content Safety (Text Analyze)", "Type": "python",
        "Inputs": {"connection": {"Name": null, "Type": ["AzureContentSafetyConnection"],
        "Default": null, "Description": null, "Enum": null, "enabled_by": null, "enabled_by_type":
        null, "enabled_by_value": null, "model_list": null, "Capabilities": null,
        "dynamic_list": null, "allow_manual_entry": false, "is_multi_select": false,
        "generated_by": null, "input_type": "default", "advanced": null, "ui_hints":
        null, "filter_by": null}, "hate_category": {"Name": null, "Type": ["string"],
        "Default": "medium_sensitivity", "Description": null, "Enum": ["disable",
        "low_sensitivity", "medium_sensitivity", "high_sensitivity"], "enabled_by":
        null, "enabled_by_type": null, "enabled_by_value": null, "model_list": null,
        "Capabilities": null, "dynamic_list": null, "allow_manual_entry": false, "is_multi_select":
        false, "generated_by": null, "input_type": "default", "advanced": null, "ui_hints":
        null, "filter_by": null}, "self_harm_category": {"Name": null, "Type": ["string"],
        "Default": "medium_sensitivity", "Description": null, "Enum": ["disable",
        "low_sensitivity", "medium_sensitivity", "high_sensitivity"], "enabled_by":
        null, "enabled_by_type": null, "enabled_by_value": null, "model_list": null,
        "Capabilities": null, "dynamic_list": null, "allow_manual_entry": false, "is_multi_select":
        false, "generated_by": null, "input_type": "default", "advanced": null, "ui_hints":
        null, "filter_by": null}, "sexual_category": {"Name": null, "Type": ["string"],
        "Default": "medium_sensitivity", "Description": null, "Enum": ["disable",
        "low_sensitivity", "medium_sensitivity", "high_sensitivity"], "enabled_by":
        null, "enabled_by_type": null, "enabled_by_value": null, "model_list": null,
        "Capabilities": null, "dynamic_list": null, "allow_manual_entry": false, "is_multi_select":
        false, "generated_by": null, "input_type": "default", "advanced": null, "ui_hints":
        null, "filter_by": null}, "text": {"Name": null, "Type": ["string"], "Default":
        null, "Description": null, "Enum": null, "enabled_by": null, "enabled_by_type":
        null, "enabled_by_value": null, "model_list": null, "Capabilities": null,
        "dynamic_list": null, "allow_manual_entry": false, "is_multi_select": false,
        "generated_by": null, "input_type": "default", "advanced": null, "ui_hints":
        null, "filter_by": null}, "violence_category": {"Name": null, "Type": ["string"],
        "Default": "medium_sensitivity", "Description": null, "Enum": ["disable",
        "low_sensitivity", "medium_sensitivity", "high_sensitivity"], "enabled_by":
        null, "enabled_by_type": null, "enabled_by_value": null, "model_list": null,
        "Capabilities": null, "dynamic_list": null, "allow_manual_entry": false, "is_multi_select":
        false, "generated_by": null, "input_type": "default", "advanced": null, "ui_hints":
        null, "filter_by": null}}, "Outputs": null, "Description": "Use Azure Content
        Safety to detect harmful content.", "connection_type": null, "Module": "promptflow.tools.azure_content_safety",
        "class_name": null, "Source": null, "LkgCode": null, "Code": null, "Function":
        "analyze_text", "action_type": null, "provider_config": null, "function_config":
        null, "Icon": null, "Category": null, "Tags": null, "is_builtin": true, "package":
        "promptflow-tools", "package_version": "1.4.0rc3", "default_prompt": null,
        "enable_kwargs": false, "deprecated_tools": ["content_safety_text.tools.content_safety_text_tool.analyze_text"],
        "tool_state": "stable", "groups": null}, {"Name": "Embedding", "Type": "python",
        "Inputs": {"connection": {"Name": null, "Type": ["AzureOpenAIConnection",
        "OpenAIConnection"], "Default": null, "Description": null, "Enum": null, "enabled_by":
        null, "enabled_by_type": null, "enabled_by_value": null, "model_list": null,
        "Capabilities": null, "dynamic_list": null, "allow_manual_entry": false, "is_multi_select":
        false, "generated_by": null, "input_type": "default", "advanced": null, "ui_hints":
        null, "filter_by": null}, "deployment_name": {"Name": null, "Type": ["string"],
        "Default": null, "Description": null, "Enum": null, "enabled_by": "connection",
        "enabled_by_type": ["AzureOpenAIConnection"], "enabled_by_value": null, "model_list":
        ["text-embedding-ada-002", "text-search-ada-doc-001", "text-search-ada-query-001"],
        "Capabilities": {"completion": false, "chat_completion": false, "embeddings":
        true, "Include": null, "Exclude": null}, "dynamic_list": null, "allow_manual_entry":
        false, "is_multi_select": false, "generated_by": null, "input_type": "default",
        "advanced": null, "ui_hints": null, "filter_by": null}, "input": {"Name":
        null, "Type": ["string"], "Default": null, "Description": null, "Enum": null,
        "enabled_by": null, "enabled_by_type": null, "enabled_by_value": null, "model_list":
        null, "Capabilities": null, "dynamic_list": null, "allow_manual_entry": false,
        "is_multi_select": false, "generated_by": null, "input_type": "default", "advanced":
        null, "ui_hints": null, "filter_by": null}, "model": {"Name": null, "Type":
        ["string"], "Default": null, "Description": null, "Enum": ["text-embedding-ada-002",
        "text-search-ada-doc-001", "text-search-ada-query-001"], "enabled_by": "connection",
        "enabled_by_type": ["OpenAIConnection"], "enabled_by_value": null, "model_list":
        null, "Capabilities": null, "dynamic_list": null, "allow_manual_entry": true,
        "is_multi_select": false, "generated_by": null, "input_type": "default", "advanced":
        null, "ui_hints": null, "filter_by": null}}, "Outputs": null, "Description":
        "Use OpenAI''s embedding model to create an embedding vector representing
        the input text.", "connection_type": null, "Module": "promptflow.tools.embedding",
        "class_name": null, "Source": null, "LkgCode": null, "Code": null, "Function":
        "embedding", "action_type": null, "provider_config": null, "function_config":
        null, "Icon": null, "Category": null, "Tags": null, "is_builtin": true, "package":
        "promptflow-tools", "package_version": "1.4.0rc3", "default_prompt": null,
        "enable_kwargs": false, "deprecated_tools": null, "tool_state": "stable",
        "groups": null}, {"Name": "Open Model LLM", "Type": "custom_llm", "Inputs":
        {"api": {"Name": null, "Type": ["string"], "Default": null, "Description":
        null, "Enum": ["chat", "completion"], "enabled_by": null, "enabled_by_type":
        null, "enabled_by_value": null, "model_list": null, "Capabilities": null,
        "dynamic_list": null, "allow_manual_entry": false, "is_multi_select": false,
        "generated_by": null, "input_type": "default", "advanced": null, "ui_hints":
        {"index": 2}, "filter_by": null}, "deployment_name": {"Name": null, "Type":
        ["string"], "Default": "", "Description": null, "Enum": null, "enabled_by":
        null, "enabled_by_type": null, "enabled_by_value": null, "model_list": null,
        "Capabilities": null, "dynamic_list": {"func_path": "promptflow.tools.open_model_llm.list_deployment_names",
        "func_kwargs": [{"name": "endpoint", "optional": true, "reference": "${inputs.endpoint}",
        "type": ["string"]}]}, "allow_manual_entry": true, "is_multi_select": false,
        "generated_by": null, "input_type": "default", "advanced": null, "ui_hints":
        {"index": 1}, "filter_by": null}, "endpoint_name": {"Name": null, "Type":
        ["string"], "Default": null, "Description": null, "Enum": null, "enabled_by":
        null, "enabled_by_type": null, "enabled_by_value": null, "model_list": null,
        "Capabilities": null, "dynamic_list": {"func_path": "promptflow.tools.open_model_llm.list_endpoint_names",
        "func_kwargs": null}, "allow_manual_entry": true, "is_multi_select": false,
        "generated_by": null, "input_type": "default", "advanced": null, "ui_hints":
        {"index": 0}, "filter_by": null}, "max_new_tokens": {"Name": null, "Type":
        ["int"], "Default": 500, "Description": null, "Enum": null, "enabled_by":
        null, "enabled_by_type": null, "enabled_by_value": null, "model_list": null,
        "Capabilities": null, "dynamic_list": null, "allow_manual_entry": false, "is_multi_select":
        false, "generated_by": null, "input_type": "default", "advanced": null, "ui_hints":
        {"index": 4}, "filter_by": null}, "model_kwargs": {"Name": null, "Type": ["object"],
        "Default": "{}", "Description": null, "Enum": null, "enabled_by": null, "enabled_by_type":
        null, "enabled_by_value": null, "model_list": null, "Capabilities": null,
        "dynamic_list": null, "allow_manual_entry": false, "is_multi_select": false,
        "generated_by": null, "input_type": "default", "advanced": true, "ui_hints":
        {"index": 6}, "filter_by": null}, "temperature": {"Name": null, "Type": ["double"],
        "Default": 1.0, "Description": null, "Enum": null, "enabled_by": null, "enabled_by_type":
        null, "enabled_by_value": null, "model_list": null, "Capabilities": null,
        "dynamic_list": null, "allow_manual_entry": false, "is_multi_select": false,
        "generated_by": null, "input_type": "default", "advanced": null, "ui_hints":
        {"index": 3}, "filter_by": null}, "top_p": {"Name": null, "Type": ["double"],
        "Default": 1.0, "Description": null, "Enum": null, "enabled_by": null, "enabled_by_type":
        null, "enabled_by_value": null, "model_list": null, "Capabilities": null,
        "dynamic_list": null, "allow_manual_entry": false, "is_multi_select": false,
        "generated_by": null, "input_type": "default", "advanced": true, "ui_hints":
        {"index": 5}, "filter_by": null}}, "Outputs": null, "Description": "Use an
        open model from the Azure Model catalog, deployed to an AzureML Online Endpoint
        for LLM Chat or Completion API calls.", "connection_type": null, "Module":
        "promptflow.tools.open_model_llm", "class_name": "OpenModelLLM", "Source":
        null, "LkgCode": null, "Code": null, "Function": "call", "action_type": null,
        "provider_config": null, "function_config": null, "Icon": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACgElEQVR4nGWSz2vcVRTFP/e9NzOZ1KDGohASslLEH6VLV0ak4l/QpeDCrfQPcNGliODKnVm4EBdBsIjQIlhciKW0ycKFVCSNbYnjdDLtmPnmO/nO9917XcxMkjYX3uLx7nnn3HOuMK2Nix4fP78ZdrYXVkLVWjf3l3B1B+HpcjzGFtmqa6cePz7/x0dnn1n5qhj3iBJPYREIURAJuCtpY8PjReDbrf9WG7H1fuefwQU9qKztTcMJT+PNnEFvjGVDBDlSsH6p/9MLzy6+NxwVqI8RAg4IPmWedMckdLYP6O6UpIaQfvyyXG012+e79/ZfHukoS1ISMT2hGTB1RkUmNgQ5QZ0w+a2VWDq73MbdEWmfnnv6UWe7oNzPaLapl5CwuLTXK9WUGBuCjqekzhP+z52ZXOrKMD3OJg0Hh778aiOuvpnYvp05d6GJO4iAO4QAe/eV36/X5LFRV4Zmn+AdkqlL8Vjp3oVioOz+WTPzzYEgsN+fgPLYyJVheSbPPVl2ikeGZRjtG52/8rHuaV9VOlpP2OtKyVndcRVCSqOhsvxa4vW359i6OuKdD+aP8Q4SYPdOzS/flGjt1JUSaMqZ5nwa1Y8qWb/Ud/eZZkHisYezEM0m+fcelDr8F1SqW2LNK6r1jXQwyLzy1hxvrLXZulry7ocL+FS6G4QIu3fG/Px1gdYeW7LIgXU2P/115TOA5G7e3Rmj2aS/m7l5pThiZzrCcE/d1XHzbln373nw7y6veeoUm5KCNKT/IPPwbiY1hYd/l5MIT65BMFt87sU4v9D7/JMflr44uV6hGh1+L4RCkg6z5iK2tAhNLeLsNGwYA4fDYnC/drvuuFxe86NV/x+Ut27g0FvykgAAAABJRU5ErkJggg==",
        "Category": null, "Tags": null, "is_builtin": true, "package": "promptflow-tools",
        "package_version": "1.4.0rc3", "default_prompt": null, "enable_kwargs": false,
        "deprecated_tools": null, "tool_state": "stable", "groups": null}, {"Name":
        "OpenAI GPT-4V", "Type": "custom_llm", "Inputs": {"connection": {"Name": null,
        "Type": ["OpenAIConnection"], "Default": null, "Description": null, "Enum":
        null, "enabled_by": null, "enabled_by_type": null, "enabled_by_value": null,
        "model_list": null, "Capabilities": null, "dynamic_list": null, "allow_manual_entry":
        false, "is_multi_select": false, "generated_by": null, "input_type": "default",
        "advanced": null, "ui_hints": {"index": 0}, "filter_by": null}, "frequency_penalty":
        {"Name": null, "Type": ["double"], "Default": 0, "Description": null, "Enum":
        null, "enabled_by": null, "enabled_by_type": null, "enabled_by_value": null,
        "model_list": null, "Capabilities": null, "dynamic_list": null, "allow_manual_entry":
        false, "is_multi_select": false, "generated_by": null, "input_type": "default",
        "advanced": null, "ui_hints": {"index": 7}, "filter_by": null}, "max_tokens":
        {"Name": null, "Type": ["int"], "Default": 512, "Description": null, "Enum":
        null, "enabled_by": null, "enabled_by_type": null, "enabled_by_value": null,
        "model_list": null, "Capabilities": null, "dynamic_list": null, "allow_manual_entry":
        false, "is_multi_select": false, "generated_by": null, "input_type": "default",
        "advanced": null, "ui_hints": {"index": 4}, "filter_by": null}, "model": {"Name":
        null, "Type": ["string"], "Default": null, "Description": null, "Enum": ["gpt-4-vision-preview"],
        "enabled_by": null, "enabled_by_type": null, "enabled_by_value": null, "model_list":
        null, "Capabilities": null, "dynamic_list": null, "allow_manual_entry": true,
        "is_multi_select": false, "generated_by": null, "input_type": "default", "advanced":
        null, "ui_hints": {"index": 1}, "filter_by": null}, "presence_penalty": {"Name":
        null, "Type": ["double"], "Default": 0, "Description": null, "Enum": null,
        "enabled_by": null, "enabled_by_type": null, "enabled_by_value": null, "model_list":
        null, "Capabilities": null, "dynamic_list": null, "allow_manual_entry": false,
        "is_multi_select": false, "generated_by": null, "input_type": "default", "advanced":
        null, "ui_hints": {"index": 6}, "filter_by": null}, "seed": {"Name": null,
        "Type": ["int"], "Default": "", "Description": null, "Enum": null, "enabled_by":
        null, "enabled_by_type": null, "enabled_by_value": null, "model_list": null,
        "Capabilities": null, "dynamic_list": null, "allow_manual_entry": false, "is_multi_select":
        false, "generated_by": null, "input_type": "default", "advanced": null, "ui_hints":
        {"index": 8}, "filter_by": null}, "stop": {"Name": null, "Type": ["list"],
        "Default": "", "Description": null, "Enum": null, "enabled_by": null, "enabled_by_type":
        null, "enabled_by_value": null, "model_list": null, "Capabilities": null,
        "dynamic_list": null, "allow_manual_entry": false, "is_multi_select": false,
        "generated_by": null, "input_type": "default", "advanced": null, "ui_hints":
        {"index": 5}, "filter_by": null}, "temperature": {"Name": null, "Type": ["double"],
        "Default": 1, "Description": null, "Enum": null, "enabled_by": null, "enabled_by_type":
        null, "enabled_by_value": null, "model_list": null, "Capabilities": null,
        "dynamic_list": null, "allow_manual_entry": false, "is_multi_select": false,
        "generated_by": null, "input_type": "default", "advanced": null, "ui_hints":
        {"index": 2}, "filter_by": null}, "top_p": {"Name": null, "Type": ["double"],
        "Default": 1, "Description": null, "Enum": null, "enabled_by": null, "enabled_by_type":
        null, "enabled_by_value": null, "model_list": null, "Capabilities": null,
        "dynamic_list": null, "allow_manual_entry": false, "is_multi_select": false,
        "generated_by": null, "input_type": "default", "advanced": null, "ui_hints":
        {"index": 3}, "filter_by": null}}, "Outputs": null, "Description": "Use OpenAI
        GPT-4V to leverage vision ability.", "connection_type": null, "Module": "promptflow.tools.openai_gpt4v",
        "class_name": "OpenAI", "Source": null, "LkgCode": null, "Code": null, "Function":
        "chat", "action_type": null, "provider_config": null, "function_config": null,
        "Icon": {"dark": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA2ElEQVR4nJXSzW3CQBAF4DUSTjk+Al1AD0ikESslpBIEheRALhEpgAYSWV8OGUublf/yLuP3PPNmdndS+gdwXZrYDmh7fGE/W+wXbaYd8IYm4rxJPnZ0boI3wZcdJxs/n+AwV7DFK7aFyfQdYIMLPvES8YJNf5yp4jMeeEYdWh38gXOR35YGHe5xabvQdsHv6PLi8qV6gycc8YH3iMfQu6Lh4ASr+F5Hh3XwVWnQYzUkVlX1nccplAb1SN6Y/sfgmlK64VS8wimldIv/0yj2QLkHizG0iWP4AVAfQ34DVQONAAAAAElFTkSuQmCC",
        "light": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAx0lEQVR4nJWSwQ2CQBBFX0jAcjgqXUgPJNiIsQQrIVCIFy8GC6ABDcGDX7Mus9n1Xz7zZ+fPsLPwH4bUg0dD2wMPcbR48Uxq4AKU4iSTDwZ1LhWXipN/B3V0J6hjBTvgLHZNonewBXrgDpzEvXSIjN0BE3AACmmF4kl5F6tNzcCoLpW0SvGovFvsb4oZ2AANcAOu4ka6axCcINN3rg654sww+CYsPD0OwjcozFNh/Qcd78tqVbCIW+n+Fky472Bh/Q6SYb1EEy8tDzd+9IsVPAAAAABJRU5ErkJggg=="},
        "Category": null, "Tags": null, "is_builtin": true, "package": "promptflow-tools",
        "package_version": "1.4.0rc3", "default_prompt": "# system:\nAs an AI assistant,
        your task involves interpreting images and responding to questions about the
        image.\nRemember to provide accurate answers based on the information present
        in the image.\n\n# user:\nCan you tell me what the image depicts?\n![image]({{image_input}})\n",
        "enable_kwargs": false, "deprecated_tools": null, "tool_state": "preview",
        "groups": null}, {"Name": "Serp API", "Type": "python", "Inputs": {"connection":
        {"Name": null, "Type": ["SerpConnection"], "Default": null, "Description":
        null, "Enum": null, "enabled_by": null, "enabled_by_type": null, "enabled_by_value":
        null, "model_list": null, "Capabilities": null, "dynamic_list": null, "allow_manual_entry":
        false, "is_multi_select": false, "generated_by": null, "input_type": "default",
        "advanced": null, "ui_hints": null, "filter_by": null}, "engine": {"Name":
        null, "Type": ["string"], "Default": "google", "Description": null, "Enum":
        ["google", "bing"], "enabled_by": null, "enabled_by_type": null, "enabled_by_value":
        null, "model_list": null, "Capabilities": null, "dynamic_list": null, "allow_manual_entry":
        false, "is_multi_select": false, "generated_by": null, "input_type": "default",
        "advanced": null, "ui_hints": null, "filter_by": null}, "location": {"Name":
        null, "Type": ["string"], "Default": "", "Description": null, "Enum": null,
        "enabled_by": null, "enabled_by_type": null, "enabled_by_value": null, "model_list":
        null, "Capabilities": null, "dynamic_list": null, "allow_manual_entry": false,
        "is_multi_select": false, "generated_by": null, "input_type": "default", "advanced":
        null, "ui_hints": null, "filter_by": null}, "num": {"Name": null, "Type":
        ["int"], "Default": "10", "Description": null, "Enum": null, "enabled_by":
        null, "enabled_by_type": null, "enabled_by_value": null, "model_list": null,
        "Capabilities": null, "dynamic_list": null, "allow_manual_entry": false, "is_multi_select":
        false, "generated_by": null, "input_type": "default", "advanced": null, "ui_hints":
        null, "filter_by": null}, "query": {"Name": null, "Type": ["string"], "Default":
        null, "Description": null, "Enum": null, "enabled_by": null, "enabled_by_type":
        null, "enabled_by_value": null, "model_list": null, "Capabilities": null,
        "dynamic_list": null, "allow_manual_entry": false, "is_multi_select": false,
        "generated_by": null, "input_type": "default", "advanced": null, "ui_hints":
        null, "filter_by": null}, "safe": {"Name": null, "Type": ["string"], "Default":
        "off", "Description": null, "Enum": ["active", "off"], "enabled_by": null,
        "enabled_by_type": null, "enabled_by_value": null, "model_list": null, "Capabilities":
        null, "dynamic_list": null, "allow_manual_entry": false, "is_multi_select":
        false, "generated_by": null, "input_type": "default", "advanced": null, "ui_hints":
        null, "filter_by": null}}, "Outputs": null, "Description": "Use Serp API to
        obtain search results from a specific search engine.", "connection_type":
        null, "Module": "promptflow.tools.serpapi", "class_name": "SerpAPI", "Source":
        null, "LkgCode": null, "Code": null, "Function": "search", "action_type":
        null, "provider_config": null, "function_config": null, "Icon": null, "Category":
        null, "Tags": null, "is_builtin": true, "package": "promptflow-tools", "package_version":
        "1.4.0rc3", "default_prompt": null, "enable_kwargs": false, "deprecated_tools":
        null, "tool_state": "stable", "groups": null}, {"Name": "Index Lookup", "Type":
        "python", "Inputs": {"acs_content_field": {"Name": null, "Type": ["string"],
        "Default": null, "Description": null, "Enum": null, "enabled_by": "index_type",
        "enabled_by_type": null, "enabled_by_value": ["Azure AI Search"], "model_list":
        null, "Capabilities": null, "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_fields",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}, {"default": "Edm.String", "name": "field_data_type",
        "optional": false, "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select":
        false, "generated_by": null, "input_type": "uionly_hidden", "advanced": null,
        "ui_hints": null, "filter_by": null}, "acs_embedding_field": {"Name": null,
        "Type": ["string"], "Default": null, "Description": null, "Enum": null, "enabled_by":
        "index_type", "enabled_by_type": null, "enabled_by_value": ["Azure AI Search"],
        "model_list": null, "Capabilities": null, "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_fields",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}, {"default": "Collection(Edm.Single)", "name": "field_data_type",
        "optional": false, "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select":
        false, "generated_by": null, "input_type": "uionly_hidden", "advanced": null,
        "ui_hints": null, "filter_by": null}, "acs_index_connection": {"Name": null,
        "Type": ["CognitiveSearchConnection"], "Default": null, "Description": null,
        "Enum": null, "enabled_by": "index_type", "enabled_by_type": null, "enabled_by_value":
        ["Azure AI Search"], "model_list": null, "Capabilities": null, "dynamic_list":
        null, "allow_manual_entry": false, "is_multi_select": false, "generated_by":
        null, "input_type": "uionly_hidden", "advanced": null, "ui_hints": null, "filter_by":
        null}, "acs_index_name": {"Name": null, "Type": ["string"], "Default": null,
        "Description": null, "Enum": null, "enabled_by": "index_type", "enabled_by_type":
        null, "enabled_by_value": ["Azure AI Search"], "model_list": null, "Capabilities":
        null, "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_indices",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]}]},
        "allow_manual_entry": false, "is_multi_select": false, "generated_by": null,
        "input_type": "uionly_hidden", "advanced": null, "ui_hints": null, "filter_by":
        null}, "acs_metadata_field": {"Name": null, "Type": ["string"], "Default":
        null, "Description": null, "Enum": null, "enabled_by": "index_type", "enabled_by_type":
        null, "enabled_by_value": ["Azure AI Search"], "model_list": null, "Capabilities":
        null, "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_fields",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}, {"default": "Edm.String", "name": "field_data_type",
        "optional": false, "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select":
        false, "generated_by": null, "input_type": "uionly_hidden", "advanced": null,
        "ui_hints": null, "filter_by": null}, "aoai_embedding_connection": {"Name":
        null, "Type": ["AzureOpenAIConnection"], "Default": null, "Description": null,
        "Enum": null, "enabled_by": "embedding_type", "enabled_by_type": null, "enabled_by_value":
        ["Azure OpenAI"], "model_list": null, "Capabilities": null, "dynamic_list":
        null, "allow_manual_entry": false, "is_multi_select": false, "generated_by":
        null, "input_type": "uionly_hidden", "advanced": null, "ui_hints": null, "filter_by":
        null}, "embedding_deployment": {"Name": null, "Type": ["string"], "Default":
        null, "Description": null, "Enum": null, "enabled_by": "embedding_type", "enabled_by_type":
        null, "enabled_by_value": ["Azure OpenAI"], "model_list": null, "Capabilities":
        null, "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_aoai_embedding_deployments",
        "func_kwargs": [{"name": "aoai_connection", "optional": false, "reference":
        "${inputs.aoai_embedding_connection}", "type": ["AzurOpenAIConnection"]}]},
        "allow_manual_entry": false, "is_multi_select": false, "generated_by": null,
        "input_type": "uionly_hidden", "advanced": null, "ui_hints": null, "filter_by":
        null}, "embedding_model": {"Name": null, "Type": ["string"], "Default": null,
        "Description": null, "Enum": null, "enabled_by": "embedding_type", "enabled_by_type":
        null, "enabled_by_value": ["OpenAI", "Hugging Face"], "model_list": null,
        "Capabilities": null, "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_embedding_models",
        "func_kwargs": [{"name": "embedding_type", "optional": false, "reference":
        "${inputs.embedding_type}", "type": ["string"]}]}, "allow_manual_entry": false,
        "is_multi_select": false, "generated_by": null, "input_type": "uionly_hidden",
        "advanced": null, "ui_hints": null, "filter_by": null}, "embedding_type":
        {"Name": null, "Type": ["string"], "Default": null, "Description": null, "Enum":
        null, "enabled_by": "index_type", "enabled_by_type": null, "enabled_by_value":
        ["Azure AI Search", "FAISS", "Pinecone"], "model_list": null, "Capabilities":
        null, "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_available_embedding_types",
        "func_kwargs": [{"name": "index_type", "optional": false, "reference": "${inputs.index_type}",
        "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select": false,
        "generated_by": null, "input_type": "uionly_hidden", "advanced": null, "ui_hints":
        null, "filter_by": null}, "faiss_index_path": {"Name": null, "Type": ["string"],
        "Default": null, "Description": null, "Enum": null, "enabled_by": "index_type",
        "enabled_by_type": null, "enabled_by_value": ["FAISS"], "model_list": null,
        "Capabilities": null, "dynamic_list": null, "allow_manual_entry": false, "is_multi_select":
        false, "generated_by": null, "input_type": "uionly_hidden", "advanced": null,
        "ui_hints": null, "filter_by": null}, "index_type": {"Name": null, "Type":
        ["string"], "Default": null, "Description": null, "Enum": null, "enabled_by":
        null, "enabled_by_type": null, "enabled_by_value": null, "model_list": null,
        "Capabilities": null, "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_available_index_types",
        "func_kwargs": null}, "allow_manual_entry": false, "is_multi_select": false,
        "generated_by": null, "input_type": "uionly_hidden", "advanced": null, "ui_hints":
        null, "filter_by": null}, "mlindex_asset_id": {"Name": null, "Type": ["string"],
        "Default": null, "Description": null, "Enum": null, "enabled_by": "index_type",
        "enabled_by_type": null, "enabled_by_value": ["Registered Index"], "model_list":
        null, "Capabilities": null, "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_registered_mlindices",
        "func_kwargs": null}, "allow_manual_entry": false, "is_multi_select": false,
        "generated_by": null, "input_type": "uionly_hidden", "advanced": null, "ui_hints":
        null, "filter_by": null}, "mlindex_content": {"Name": null, "Type": ["string"],
        "Default": null, "Description": null, "Enum": null, "enabled_by": null, "enabled_by_type":
        null, "enabled_by_value": null, "model_list": null, "Capabilities": null,
        "dynamic_list": null, "allow_manual_entry": false, "is_multi_select": false,
        "generated_by": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.forward_mapping",
        "func_kwargs": [{"name": "index_type", "reference": "${inputs.index_type}",
        "type": ["string"]}, {"name": "mlindex_asset_id", "optional": true, "reference":
        "${inputs.mlindex_asset_id}", "type": ["string"]}, {"name": "mlindex_path",
        "optional": true, "reference": "${inputs.mlindex_path}", "type": ["string"]},
        {"name": "acs_index_connection", "optional": true, "reference": "${inputs.acs_index_connection}",
        "type": ["CognitiveSearchConnection"]}, {"name": "acs_index_name", "optional":
        true, "reference": "${inputs.acs_index_name}", "type": ["string"]}, {"name":
        "acs_content_field", "optional": true, "reference": "${inputs.acs_content_field}",
        "type": ["string"]}, {"name": "acs_embedding_field", "optional": true, "reference":
        "${inputs.acs_embedding_field}", "type": ["string"]}, {"name": "acs_metadata_field",
        "optional": true, "reference": "${inputs.acs_metadata_field}", "type": ["string"]},
        {"name": "semantic_configuration", "optional": true, "reference": "${inputs.semantic_configuration}",
        "type": ["string"]}, {"name": "faiss_index_path", "optional": true, "reference":
        "${inputs.faiss_index_path}", "type": ["string"]}, {"name": "pinecone_index_connection",
        "optional": true, "reference": "${inputs.pinecone_index_connection}", "type":
        ["string"]}, {"name": "pinecone_index_name", "optional": true, "reference":
        "${inputs.pinecone_index_name}", "type": ["string"]}, {"name": "pinecone_content_field",
        "optional": true, "reference": "${inputs.pinecone_content_field}", "type":
        ["string"]}, {"name": "pinecone_metadata_field", "optional": true, "reference":
        "${inputs.pinecone_metadata_field}", "type": ["string"]}, {"name": "embedding_type",
        "optional": true, "reference": "${inputs.embedding_type}", "type": ["string"]},
        {"name": "aoai_embedding_connection", "optional": true, "reference": "${inputs.aoai_embedding_connection}",
        "type": ["AzureOpenAIConnection"]}, {"name": "oai_embedding_connection", "optional":
        true, "reference": "${inputs.oai_embedding_connection}", "type": ["string"]},
        {"name": "embedding_model", "optional": true, "reference": "${inputs.embedding_model}",
        "type": ["string"]}, {"name": "embedding_deployment", "optional": true, "reference":
        "${inputs.embedding_deployment}", "type": ["string"]}, {"name": "serverless_embedding_connection",
        "optional": true, "reference": "${inputs.serverless_embedding_connection}",
        "type": ["string"]}], "reverse_func_path": "promptflow_vectordb.tool.common_index_lookup_utils.reverse_mapping"},
        "input_type": "default", "advanced": null, "ui_hints": null, "filter_by":
        null}, "mlindex_path": {"Name": null, "Type": ["string"], "Default": null,
        "Description": null, "Enum": null, "enabled_by": "index_type", "enabled_by_type":
        null, "enabled_by_value": ["MLIndex file from path"], "model_list": null,
        "Capabilities": null, "dynamic_list": null, "allow_manual_entry": false, "is_multi_select":
        false, "generated_by": null, "input_type": "uionly_hidden", "advanced": null,
        "ui_hints": null, "filter_by": null}, "oai_embedding_connection": {"Name":
        null, "Type": ["OpenAIConnection"], "Default": null, "Description": null,
        "Enum": null, "enabled_by": "embedding_type", "enabled_by_type": null, "enabled_by_value":
        ["OpenAI"], "model_list": null, "Capabilities": null, "dynamic_list": null,
        "allow_manual_entry": false, "is_multi_select": false, "generated_by": null,
        "input_type": "uionly_hidden", "advanced": null, "ui_hints": null, "filter_by":
        null}, "pinecone_content_field": {"Name": null, "Type": ["string"], "Default":
        null, "Description": null, "Enum": null, "enabled_by": "index_type", "enabled_by_type":
        null, "enabled_by_value": ["Pinecone"], "model_list": null, "Capabilities":
        null, "dynamic_list": null, "allow_manual_entry": false, "is_multi_select":
        false, "generated_by": null, "input_type": "uionly_hidden", "advanced": null,
        "ui_hints": null, "filter_by": null}, "pinecone_index_connection": {"Name":
        null, "Type": ["PineconeConnection"], "Default": null, "Description": null,
        "Enum": null, "enabled_by": "index_type", "enabled_by_type": null, "enabled_by_value":
        ["Pinecone"], "model_list": null, "Capabilities": null, "dynamic_list": {"func_path":
        "promptflow_vectordb.tool.common_index_lookup_utils.list_pinecone_connections",
        "func_kwargs": null}, "allow_manual_entry": false, "is_multi_select": false,
        "generated_by": null, "input_type": "uionly_hidden", "advanced": null, "ui_hints":
        null, "filter_by": null}, "pinecone_index_name": {"Name": null, "Type": ["string"],
        "Default": null, "Description": null, "Enum": null, "enabled_by": "index_type",
        "enabled_by_type": null, "enabled_by_value": ["Pinecone"], "model_list": null,
        "Capabilities": null, "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_pinecone_indices",
        "func_kwargs": [{"name": "pinecone_connection_name", "optional": false, "reference":
        "${inputs.pinecone_index_connection}", "type": ["string"]}]}, "allow_manual_entry":
        false, "is_multi_select": false, "generated_by": null, "input_type": "uionly_hidden",
        "advanced": null, "ui_hints": null, "filter_by": null}, "pinecone_metadata_field":
        {"Name": null, "Type": ["string"], "Default": null, "Description": null, "Enum":
        null, "enabled_by": "index_type", "enabled_by_type": null, "enabled_by_value":
        ["Pinecone"], "model_list": null, "Capabilities": null, "dynamic_list": null,
        "allow_manual_entry": false, "is_multi_select": false, "generated_by": null,
        "input_type": "uionly_hidden", "advanced": null, "ui_hints": null, "filter_by":
        null}, "queries": {"Name": null, "Type": ["object"], "Default": null, "Description":
        null, "Enum": null, "enabled_by": null, "enabled_by_type": null, "enabled_by_value":
        null, "model_list": null, "Capabilities": null, "dynamic_list": null, "allow_manual_entry":
        false, "is_multi_select": false, "generated_by": null, "input_type": "default",
        "advanced": null, "ui_hints": null, "filter_by": null}, "query_type": {"Name":
        null, "Type": ["string"], "Default": null, "Description": null, "Enum": null,
        "enabled_by": null, "enabled_by_type": null, "enabled_by_value": null, "model_list":
        null, "Capabilities": null, "dynamic_list": {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_available_query_types",
        "func_kwargs": [{"name": "mlindex_content", "optional": false, "reference":
        "${inputs.mlindex_content}", "type": ["string"]}]}, "allow_manual_entry":
        false, "is_multi_select": false, "generated_by": null, "input_type": "default",
        "advanced": null, "ui_hints": null, "filter_by": null}, "semantic_configuration":
        {"Name": null, "Type": ["string"], "Default": null, "Description": null, "Enum":
        null, "enabled_by": "index_type", "enabled_by_type": null, "enabled_by_value":
        ["Azure AI Search"], "model_list": null, "Capabilities": null, "dynamic_list":
        {"func_path": "promptflow_vectordb.tool.common_index_lookup_utils.list_acs_index_semantic_configurations",
        "func_kwargs": [{"name": "acs_connection", "optional": false, "reference":
        "${inputs.acs_index_connection}", "type": ["CognitiveSearchConnection"]},
        {"name": "acs_index_name", "optional": false, "reference": "${inputs.acs_index_name}",
        "type": ["string"]}]}, "allow_manual_entry": false, "is_multi_select": false,
        "generated_by": null, "input_type": "uionly_hidden", "advanced": null, "ui_hints":
        null, "filter_by": null}, "serverless_embedding_connection": {"Name": null,
        "Type": ["string"], "Default": null, "Description": null, "Enum": null, "enabled_by":
        "embedding_type", "enabled_by_type": null, "enabled_by_value": ["Serverless
        Endpoint"], "model_list": null, "Capabilities": null, "dynamic_list": {"func_path":
        "promptflow_vectordb.tool.common_index_lookup_utils.list_serverless_embedding_connections",
        "func_kwargs": null}, "allow_manual_entry": false, "is_multi_select": false,
        "generated_by": null, "input_type": "uionly_hidden", "advanced": null, "ui_hints":
        null, "filter_by": null}, "top_k": {"Name": null, "Type": ["int"], "Default":
        3, "Description": null, "Enum": null, "enabled_by": null, "enabled_by_type":
        null, "enabled_by_value": null, "model_list": null, "Capabilities": null,
        "dynamic_list": null, "allow_manual_entry": false, "is_multi_select": false,
        "generated_by": null, "input_type": "default", "advanced": null, "ui_hints":
        null, "filter_by": null}}, "Outputs": null, "Description": "Search an AzureML
        Vector Index for relevant results using one or more text queries.", "connection_type":
        null, "Module": "promptflow_vectordb.tool.common_index_lookup", "class_name":
        null, "Source": null, "LkgCode": null, "Code": null, "Function": "search",
        "action_type": null, "provider_config": null, "function_config": null, "Icon":
        null, "Category": null, "Tags": null, "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "default_prompt": null, "enable_kwargs": false,
        "deprecated_tools": null, "tool_state": "preview", "groups": null}, {"Name":
        "Faiss Index Lookup", "Type": "python", "Inputs": {"path": {"Name": null,
        "Type": ["string"], "Default": null, "Description": null, "Enum": null, "enabled_by":
        null, "enabled_by_type": null, "enabled_by_value": null, "model_list": null,
        "Capabilities": null, "dynamic_list": null, "allow_manual_entry": false, "is_multi_select":
        false, "generated_by": null, "input_type": "default", "advanced": null, "ui_hints":
        null, "filter_by": null}, "top_k": {"Name": null, "Type": ["int"], "Default":
        "3", "Description": null, "Enum": null, "enabled_by": null, "enabled_by_type":
        null, "enabled_by_value": null, "model_list": null, "Capabilities": null,
        "dynamic_list": null, "allow_manual_entry": false, "is_multi_select": false,
        "generated_by": null, "input_type": "default", "advanced": null, "ui_hints":
        null, "filter_by": null}, "vector": {"Name": null, "Type": ["list"], "Default":
        null, "Description": null, "Enum": null, "enabled_by": null, "enabled_by_type":
        null, "enabled_by_value": null, "model_list": null, "Capabilities": null,
        "dynamic_list": null, "allow_manual_entry": false, "is_multi_select": false,
        "generated_by": null, "input_type": "default", "advanced": null, "ui_hints":
        null, "filter_by": null}}, "Outputs": null, "Description": "Search vector
        based query from the FAISS index file.", "connection_type": null, "Module":
        "promptflow_vectordb.tool.faiss_index_lookup", "class_name": "FaissIndexLookup",
        "Source": null, "LkgCode": null, "Code": null, "Function": "search", "action_type":
        null, "provider_config": null, "function_config": null, "Icon": null, "Category":
        null, "Tags": null, "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "default_prompt": null, "enable_kwargs": false,
        "deprecated_tools": null, "tool_state": "archived", "groups": null}, {"Name":
        "Vector DB Lookup", "Type": "python", "Inputs": {"class_name": {"Name": null,
        "Type": ["string"], "Default": null, "Description": null, "Enum": null, "enabled_by":
        "connection", "enabled_by_type": ["WeaviateConnection"], "enabled_by_value":
        null, "model_list": null, "Capabilities": null, "dynamic_list": null, "allow_manual_entry":
        false, "is_multi_select": false, "generated_by": null, "input_type": "default",
        "advanced": null, "ui_hints": null, "filter_by": null}, "collection_name":
        {"Name": null, "Type": ["string"], "Default": null, "Description": null, "Enum":
        null, "enabled_by": "connection", "enabled_by_type": ["QdrantConnection"],
        "enabled_by_value": null, "model_list": null, "Capabilities": null, "dynamic_list":
        null, "allow_manual_entry": false, "is_multi_select": false, "generated_by":
        null, "input_type": "default", "advanced": null, "ui_hints": null, "filter_by":
        null}, "connection": {"Name": null, "Type": ["CognitiveSearchConnection",
        "QdrantConnection", "WeaviateConnection"], "Default": null, "Description":
        null, "Enum": null, "enabled_by": null, "enabled_by_type": null, "enabled_by_value":
        null, "model_list": null, "Capabilities": null, "dynamic_list": null, "allow_manual_entry":
        false, "is_multi_select": false, "generated_by": null, "input_type": "default",
        "advanced": null, "ui_hints": null, "filter_by": null}, "index_name": {"Name":
        null, "Type": ["string"], "Default": null, "Description": null, "Enum": null,
        "enabled_by": "connection", "enabled_by_type": ["CognitiveSearchConnection"],
        "enabled_by_value": null, "model_list": null, "Capabilities": null, "dynamic_list":
        null, "allow_manual_entry": false, "is_multi_select": false, "generated_by":
        null, "input_type": "default", "advanced": null, "ui_hints": null, "filter_by":
        null}, "search_filters": {"Name": null, "Type": ["object"], "Default": null,
        "Description": null, "Enum": null, "enabled_by": "connection", "enabled_by_type":
        ["CognitiveSearchConnection", "QdrantConnection"], "enabled_by_value": null,
        "model_list": null, "Capabilities": null, "dynamic_list": null, "allow_manual_entry":
        false, "is_multi_select": false, "generated_by": null, "input_type": "default",
        "advanced": null, "ui_hints": null, "filter_by": null}, "search_params": {"Name":
        null, "Type": ["object"], "Default": null, "Description": null, "Enum": null,
        "enabled_by": "connection", "enabled_by_type": ["CognitiveSearchConnection",
        "QdrantConnection"], "enabled_by_value": null, "model_list": null, "Capabilities":
        null, "dynamic_list": null, "allow_manual_entry": false, "is_multi_select":
        false, "generated_by": null, "input_type": "default", "advanced": null, "ui_hints":
        null, "filter_by": null}, "text_field": {"Name": null, "Type": ["string"],
        "Default": null, "Description": null, "Enum": null, "enabled_by": "connection",
        "enabled_by_type": ["CognitiveSearchConnection", "QdrantConnection", "WeaviateConnection"],
        "enabled_by_value": null, "model_list": null, "Capabilities": null, "dynamic_list":
        null, "allow_manual_entry": false, "is_multi_select": false, "generated_by":
        null, "input_type": "default", "advanced": null, "ui_hints": null, "filter_by":
        null}, "top_k": {"Name": null, "Type": ["int"], "Default": "3", "Description":
        null, "Enum": null, "enabled_by": null, "enabled_by_type": null, "enabled_by_value":
        null, "model_list": null, "Capabilities": null, "dynamic_list": null, "allow_manual_entry":
        false, "is_multi_select": false, "generated_by": null, "input_type": "default",
        "advanced": null, "ui_hints": null, "filter_by": null}, "vector": {"Name":
        null, "Type": ["list"], "Default": null, "Description": null, "Enum": null,
        "enabled_by": null, "enabled_by_type": null, "enabled_by_value": null, "model_list":
        null, "Capabilities": null, "dynamic_list": null, "allow_manual_entry": false,
        "is_multi_select": false, "generated_by": null, "input_type": "default", "advanced":
        null, "ui_hints": null, "filter_by": null}, "vector_field": {"Name": null,
        "Type": ["string"], "Default": null, "Description": null, "Enum": null, "enabled_by":
        "connection", "enabled_by_type": ["CognitiveSearchConnection"], "enabled_by_value":
        null, "model_list": null, "Capabilities": null, "dynamic_list": null, "allow_manual_entry":
        false, "is_multi_select": false, "generated_by": null, "input_type": "default",
        "advanced": null, "ui_hints": null, "filter_by": null}}, "Outputs": null,
        "Description": "Search vector based query from existing Vector Database.",
        "connection_type": null, "Module": "promptflow_vectordb.tool.vector_db_lookup",
        "class_name": "VectorDBLookup", "Source": null, "LkgCode": null, "Code": null,
        "Function": "search", "action_type": null, "provider_config": null, "function_config":
        null, "Icon": null, "Category": null, "Tags": null, "is_builtin": true, "package":
        "promptflow_vectordb", "package_version": "0.2.7", "default_prompt": null,
        "enable_kwargs": false, "deprecated_tools": null, "tool_state": "archived",
        "groups": null}, {"Name": "Vector Index Lookup", "Type": "python", "Inputs":
        {"path": {"Name": null, "Type": ["string"], "Default": null, "Description":
        null, "Enum": null, "enabled_by": null, "enabled_by_type": null, "enabled_by_value":
        null, "model_list": null, "Capabilities": null, "dynamic_list": null, "allow_manual_entry":
        false, "is_multi_select": false, "generated_by": null, "input_type": "default",
        "advanced": null, "ui_hints": null, "filter_by": null}, "query": {"Name":
        null, "Type": ["object"], "Default": null, "Description": null, "Enum": null,
        "enabled_by": null, "enabled_by_type": null, "enabled_by_value": null, "model_list":
        null, "Capabilities": null, "dynamic_list": null, "allow_manual_entry": false,
        "is_multi_select": false, "generated_by": null, "input_type": "default", "advanced":
        null, "ui_hints": null, "filter_by": null}, "top_k": {"Name": null, "Type":
        ["int"], "Default": "3", "Description": null, "Enum": null, "enabled_by":
        null, "enabled_by_type": null, "enabled_by_value": null, "model_list": null,
        "Capabilities": null, "dynamic_list": null, "allow_manual_entry": false, "is_multi_select":
        false, "generated_by": null, "input_type": "default", "advanced": null, "ui_hints":
        null, "filter_by": null}}, "Outputs": null, "Description": "Search text or
        vector based query from AzureML Vector Index.", "connection_type": null, "Module":
        "promptflow_vectordb.tool.vector_index_lookup", "class_name": "VectorIndexLookup",
        "Source": null, "LkgCode": null, "Code": null, "Function": "search", "action_type":
        null, "provider_config": null, "function_config": null, "Icon": null, "Category":
        null, "Tags": null, "is_builtin": true, "package": "promptflow_vectordb",
        "package_version": "0.2.7", "default_prompt": null, "enable_kwargs": false,
        "deprecated_tools": null, "tool_state": "archived", "groups": null}, {"Name":
        "count_image.py", "Type": "python", "Inputs": {"images": {"Name": null, "Type":
        ["object"], "Default": null, "Description": null, "Enum": null, "enabled_by":
        null, "enabled_by_type": null, "enabled_by_value": null, "model_list": null,
        "Capabilities": null, "dynamic_list": null, "allow_manual_entry": false, "is_multi_select":
        false, "generated_by": null, "input_type": "default", "advanced": null, "ui_hints":
        null, "filter_by": null}}, "Outputs": null, "Description": null, "connection_type":
        null, "Module": null, "class_name": null, "Source": "count_image.py", "LkgCode":
        null, "Code": null, "Function": "aggregate", "action_type": null, "provider_config":
        null, "function_config": null, "Icon": null, "Category": null, "Tags": null,
        "is_builtin": false, "package": null, "package_version": null, "default_prompt":
        null, "enable_kwargs": false, "deprecated_tools": null, "tool_state": "stable",
        "groups": null}, {"Name": "flip_image.py", "Type": "python", "Inputs": {"input_image":
        {"Name": null, "Type": ["image"], "Default": null, "Description": null, "Enum":
        null, "enabled_by": null, "enabled_by_type": null, "enabled_by_value": null,
        "model_list": null, "Capabilities": null, "dynamic_list": null, "allow_manual_entry":
        false, "is_multi_select": false, "generated_by": null, "input_type": "default",
        "advanced": null, "ui_hints": null, "filter_by": null}}, "Outputs": null,
        "Description": null, "connection_type": null, "Module": null, "class_name":
        null, "Source": "flip_image.py", "LkgCode": null, "Code": null, "Function":
        "passthrough", "action_type": null, "provider_config": null, "function_config":
        null, "Icon": null, "Category": null, "Tags": null, "is_builtin": false, "package":
        null, "package_version": null, "default_prompt": null, "enable_kwargs": false,
        "deprecated_tools": null, "tool_state": "stable", "groups": null}], "Codes":
        null, "Inputs": {"input_image": {"name": null, "type": "image", "default":
        "https://developer.microsoft.com/_devcom/images/logo-ms-social.png", "description":
        null, "is_chat_input": false, "is_chat_history": null}}, "Outputs": {"output_image":
        {"name": null, "type": "string", "description": null, "reference": "${flip_image.output}",
        "evaluation_only": false, "is_chat_output": false}}}, "jobSpecification":
        null, "systemSettings": null}'
    headers:
      connection:
      - keep-alive
      content-length:
      - '97851'
      content-type:
      - application/json; charset=utf-8
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-request-time:
      - '0.088'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - promptflow-azure-sdk/1.0.0.dev0 azsdk-python-azuremachinelearningdesignerserviceclient/unknown
        Python/3.9.19 (Windows-10-10.0.22631-SP0)
    method: GET
    uri: https://eastus.api.azureml.ms/flow/api/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/BulkRuns/resume_from_run_with_image_and_aggregation_node/logContent
  response:
    body:
      string: '"2024-04-10 13:24:17 +0000      49 promptflow-runtime INFO     [resume_from_run_with_image_and_aggregation_node]
        Receiving v2 bulk run request decd3c03-58cb-44b4-b47e-2d1ef3f70a17: {\"flow_id\":
        \"resume_from_run_with_image_and_aggregation_node\", \"flow_run_id\": \"resume_from_run_with_image_and_aggregation_node\",
        \"flow_source\": {\"flow_source_type\": 1, \"flow_source_info\": {\"snapshot_id\":
        \"5736ca27-2c86-4efa-b25b-786d71f83a72\"}, \"flow_dag_file\": \"flow.dag.yaml\"},
        \"log_path\": \"https://promptfloweast0432322450.blob.core.windows.net/azureml/ExperimentRun/dcid.resume_from_run_with_image_and_aggregation_node/logs/azureml/executionlogs.txt?sv=2019-07-07&sr=b&sig=**data_scrubbed**&skoid=3741a7ff-b7ad-4041-ae1a-b4232876e8f0&sktid=00000000-0000-0000-0000-000000000000&skt=2024-04-10T06%3A44%3A08Z&ske=2024-04-11T14%3A54%3A08Z&sks=b&skv=2019-07-07&st=2024-04-10T13%3A14%3A17Z&se=2024-04-10T21%3A24%3A17Z&sp=rcw\",
        \"app_insights_instrumentation_key\": \"InstrumentationKey=**data_scrubbed**;IngestionEndpoint=https://eastus-6.in.applicationinsights.azure.com/;LiveEndpoint=https://eastus.livediagnostics.monitor.azure.com/\",
        \"batch_timeout_sec\": 36000, \"data_inputs\": {\"data\": \"azureml://datastores/workspaceblobstore/paths/LocalUpload/f0a11846460e7f82ede2efcac357243a/input_data/\"},
        \"inputs_mapping\": {\"input_image\": \"${data.input_image}\"}, \"azure_storage_setting\":
        {\"azure_storage_mode\": 1, \"storage_account_name\": \"promptfloweast0432322450\",
        \"blob_container_name\": \"azureml-blobstore-f8925d22-478a-4b5c-8e16-a85158d03b9b\",
        \"flow_artifacts_root_path\": \"promptflow/PromptFlowArtifacts/resume_from_run_with_image_and_aggregation_node\",
        \"blob_container_sas_token\": \"?sv=2019-07-07&sr=c&sig=**data_scrubbed**&skoid=3741a7ff-b7ad-4041-ae1a-b4232876e8f0&sktid=00000000-0000-0000-0000-000000000000&skt=2024-04-10T13%3A24%3A17Z&ske=2024-04-17T13%3A24%3A17Z&sks=b&skv=2019-07-07&se=2024-04-17T13%3A24%3A17Z&sp=racwl\",
        \"output_datastore_name\": \"workspaceblobstore\"}}\n2024-04-10 13:24:17 +0000      49
        promptflow-runtime INFO     Runtime version: 20240403.v2. PromptFlow version:
        1.8.0rc3\n2024-04-10 13:24:17 +0000      49 promptflow-runtime INFO     Updating
        resume_from_run_with_image_and_aggregation_node to Status.Preparing...\n2024-04-10
        13:24:17 +0000      49 promptflow-runtime INFO     Downloading snapshot to
        /mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node\n2024-04-10
        13:24:17 +0000      49 promptflow-runtime INFO     Get snapshot sas url for
        5736ca27-2c86-4efa-b25b-786d71f83a72.\n2024-04-10 13:24:18 +0000      49 promptflow-runtime
        INFO     Snapshot 5736ca27-2c86-4efa-b25b-786d71f83a72 contains 13 files.\n2024-04-10
        13:24:18 +0000      49 promptflow-runtime INFO     Download snapshot 5736ca27-2c86-4efa-b25b-786d71f83a72
        completed.\n2024-04-10 13:24:18 +0000      49 promptflow-runtime INFO     Successfully
        download snapshot to /mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node\n2024-04-10
        13:24:18 +0000      49 promptflow-runtime INFO     About to execute a python
        flow.\n2024-04-10 13:24:18 +0000      49 promptflow-runtime INFO     Set otlp_endpoint
        to http://127.0.0.1:38539//aml-api/v1.0/traces\n2024-04-10 13:24:18 +0000      49
        promptflow-runtime INFO     Use spawn method to start child process.\n2024-04-10
        13:24:18 +0000      49 promptflow-runtime INFO     Starting to check process
        196 status for run resume_from_run_with_image_and_aggregation_node\n2024-04-10
        13:24:18 +0000      49 promptflow-runtime INFO     Start checking run status
        for run resume_from_run_with_image_and_aggregation_node\n2024-04-10 13:24:24
        +0000     196 promptflow-runtime INFO     [49--196] Start processing flowV2......\n2024-04-10
        13:24:24 +0000     196 promptflow-runtime INFO     Runtime version: 20240403.v2.
        PromptFlow version: 1.8.0rc3\n2024-04-10 13:24:24 +0000     196 promptflow-runtime
        INFO     Setting mlflow tracking uri...\n2024-04-10 13:24:24 +0000     196
        promptflow-runtime INFO     Validating ''AzureML Data Scientist'' user authentication...\n2024-04-10
        13:24:25 +0000     196 promptflow-runtime INFO     Successfully validated
        ''AzureML Data Scientist'' user authentication.\n2024-04-10 13:24:25 +0000     196
        promptflow-runtime INFO     Using AzureMLRunStorageV2\n2024-04-10 13:24:25
        +0000     196 promptflow-runtime INFO     Setting mlflow tracking uri to ''azureml://eastus.api.azureml.ms/mlflow/v1.0/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/promptflow-eastus-dev''\n2024-04-10
        13:24:25 +0000     196 promptflow-runtime INFO     Initialized blob service
        client.\n2024-04-10 13:24:25 +0000     196 promptflow-runtime INFO     Blob
        service client has api version: 2023-11-03\n2024-04-10 13:24:25 +0000     196
        promptflow-runtime INFO     Setting mlflow tracking uri to ''azureml://eastus.api.azureml.ms/mlflow/v1.0/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/promptflow-eastus-dev''\n2024-04-10
        13:24:25 +0000     196 promptflow-runtime INFO     Creating unregistered output
        Asset for Run resume_from_run_with_image_and_aggregation_node...\n2024-04-10
        13:24:25 +0000     196 promptflow-runtime INFO     Created debug_info Asset:
        azureml://locations/eastus/workspaces/00000/data/azureml_resume_from_run_with_image_and_aggregation_node_output_data_debug_info/versions/1\n2024-04-10
        13:24:25 +0000     196 promptflow-runtime INFO     Creating unregistered output
        Asset for Run resume_from_run_with_image_and_aggregation_node...\n2024-04-10
        13:24:25 +0000     196 promptflow-runtime INFO     Created flow_outputs output
        Asset: azureml://locations/eastus/workspaces/00000/data/azureml_resume_from_run_with_image_and_aggregation_node_output_data_flow_outputs/versions/1\n2024-04-10
        13:24:25 +0000     196 promptflow-runtime INFO     Patching resume_from_run_with_image_and_aggregation_node...\n2024-04-10
        13:24:27 +0000     196 promptflow-runtime INFO     Resolve data from url finished
        in 1.8118338819999735 seconds\n2024-04-10 13:24:27 +0000     196 promptflow-runtime
        INFO     Starting the aml run ''resume_from_run_with_image_and_aggregation_node''...\n2024-04-10
        13:24:28 +0000     196 execution.bulk     INFO     The timeout for the batch
        run is 36000 seconds.\n2024-04-10 13:24:28 +0000     196 execution.bulk     INFO     Set
        process count to 4 by taking the minimum value among the factors of {''default_worker_count'':
        4, ''row_count'': 15}.\n2024-04-10 13:24:33 +0000     196 execution.bulk     INFO     Process
        name(ForkProcess-4:2:1)-Process id(328)-Line number(1) start execution.\n2024-04-10
        13:24:33 +0000     196 execution.bulk     INFO     Process name(ForkProcess-4:2:2)-Process
        id(335)-Line number(0) start execution.\n2024-04-10 13:24:33 +0000     196
        execution.bulk     INFO     Process name(ForkProcess-4:2:3)-Process id(344)-Line
        number(2) start execution.\n2024-04-10 13:24:33 +0000     196 execution.bulk     INFO     Process
        name(ForkProcess-4:2:4)-Process id(354)-Line number(3) start execution.\n2024-04-10
        13:24:34 +0000     344 execution          ERROR    Node flip_image in line
        2 failed. Exception: Execution failure in ''flip_image'': (ValueError) Random
        failure.\nTraceback (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 182, in _invoke_tool_inner\n    return f(**kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\nValueError:
        Random failure\n\nThe above exception was the direct cause of the following
        exception:\n\nTraceback (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 90, in invoke_tool\n    result = self._invoke_tool_inner(node, f, kwargs)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 206, in _invoke_tool_inner\n    raise ToolExecutionError(node_name=node_name,
        module=module) from e\npromptflow._core._errors.ToolExecutionError: Execution
        failure in ''flip_image'': (ValueError) Random failure\n2024-04-10 13:24:34
        +0000     335 execution          ERROR    Node flip_image in line 0 failed.
        Exception: Execution failure in ''flip_image'': (ValueError) Random failure.\nTraceback
        (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 182, in _invoke_tool_inner\n    return f(**kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\nValueError:
        Random failure\n\nThe above exception was the direct cause of the following
        exception:\n\nTraceback (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 90, in invoke_tool\n    result = self._invoke_tool_inner(node, f, kwargs)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 206, in _invoke_tool_inner\n    raise ToolExecutionError(node_name=node_name,
        module=module) from e\npromptflow._core._errors.ToolExecutionError: Execution
        failure in ''flip_image'': (ValueError) Random failure\n2024-04-10 13:24:34
        +0000     354 execution          ERROR    Node flip_image in line 3 failed.
        Exception: Execution failure in ''flip_image'': (ValueError) Random failure.\nTraceback
        (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 182, in _invoke_tool_inner\n    return f(**kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\nValueError:
        Random failure\n\nThe above exception was the direct cause of the following
        exception:\n\nTraceback (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 90, in invoke_tool\n    result = self._invoke_tool_inner(node, f, kwargs)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 206, in _invoke_tool_inner\n    raise ToolExecutionError(node_name=node_name,
        module=module) from e\npromptflow._core._errors.ToolExecutionError: Execution
        failure in ''flip_image'': (ValueError) Random failure\n2024-04-10 13:24:34
        +0000     328 execution          ERROR    Node flip_image in line 1 failed.
        Exception: Execution failure in ''flip_image'': (ValueError) Random failure.\nTraceback
        (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 182, in _invoke_tool_inner\n    return f(**kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\nValueError:
        Random failure\n\nThe above exception was the direct cause of the following
        exception:\n\nTraceback (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 90, in invoke_tool\n    result = self._invoke_tool_inner(node, f, kwargs)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 206, in _invoke_tool_inner\n    raise ToolExecutionError(node_name=node_name,
        module=module) from e\npromptflow._core._errors.ToolExecutionError: Execution
        failure in ''flip_image'': (ValueError) Random failure\n2024-04-10 13:24:34
        +0000     196 execution.bulk     INFO     Process name(ForkProcess-4:2:3)-Process
        id(344)-Line number(2) completed.\n2024-04-10 13:24:34 +0000     196 execution.bulk     INFO     Process
        name(ForkProcess-4:2:3)-Process id(344)-Line number(4) start execution.\n2024-04-10
        13:24:34 +0000     196 execution.bulk     INFO     Process name(ForkProcess-4:2:2)-Process
        id(335)-Line number(0) completed.\n2024-04-10 13:24:34 +0000     196 execution.bulk     INFO     Process
        name(ForkProcess-4:2:2)-Process id(335)-Line number(5) start execution.\n2024-04-10
        13:24:34 +0000     335 execution          ERROR    Node flip_image in line
        5 failed. Exception: Execution failure in ''flip_image'': (ValueError) Random
        failure.\nTraceback (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 182, in _invoke_tool_inner\n    return f(**kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\nValueError:
        Random failure\n\nThe above exception was the direct cause of the following
        exception:\n\nTraceback (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 90, in invoke_tool\n    result = self._invoke_tool_inner(node, f, kwargs)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 206, in _invoke_tool_inner\n    raise ToolExecutionError(node_name=node_name,
        module=module) from e\npromptflow._core._errors.ToolExecutionError: Execution
        failure in ''flip_image'': (ValueError) Random failure\n2024-04-10 13:24:34
        +0000     196 execution.bulk     INFO     Process name(ForkProcess-4:2:1)-Process
        id(328)-Line number(1) completed.\n2024-04-10 13:24:34 +0000     196 execution.bulk     INFO     Process
        name(ForkProcess-4:2:4)-Process id(354)-Line number(3) completed.\n2024-04-10
        13:24:34 +0000     196 execution.bulk     INFO     Process name(ForkProcess-4:2:1)-Process
        id(328)-Line number(6) start execution.\n2024-04-10 13:24:34 +0000     196
        execution.bulk     INFO     Process name(ForkProcess-4:2:4)-Process id(354)-Line
        number(7) start execution.\n2024-04-10 13:24:34 +0000     196 execution.bulk     INFO     Finished
        4 / 15 lines.\n2024-04-10 13:24:34 +0000     196 execution.bulk     INFO     Average
        execution time for completed lines: 1.5 seconds. Estimated time for incomplete
        lines: 16.5 seconds.\n2024-04-10 13:24:34 +0000     354 execution          ERROR    Node
        flip_image in line 7 failed. Exception: Execution failure in ''flip_image'':
        (ValueError) Random failure.\nTraceback (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 182, in _invoke_tool_inner\n    return f(**kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\nValueError:
        Random failure\n\nThe above exception was the direct cause of the following
        exception:\n\nTraceback (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 90, in invoke_tool\n    result = self._invoke_tool_inner(node, f, kwargs)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 206, in _invoke_tool_inner\n    raise ToolExecutionError(node_name=node_name,
        module=module) from e\npromptflow._core._errors.ToolExecutionError: Execution
        failure in ''flip_image'': (ValueError) Random failure\n2024-04-10 13:24:34
        +0000     196 execution.bulk     INFO     Process name(ForkProcess-4:2:2)-Process
        id(335)-Line number(5) completed.\n2024-04-10 13:24:34 +0000     328 execution          ERROR    Node
        flip_image in line 6 failed. Exception: Execution failure in ''flip_image'':
        (ValueError) Random failure.\nTraceback (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 182, in _invoke_tool_inner\n    return f(**kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\nValueError:
        Random failure\n\nThe above exception was the direct cause of the following
        exception:\n\nTraceback (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 90, in invoke_tool\n    result = self._invoke_tool_inner(node, f, kwargs)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 206, in _invoke_tool_inner\n    raise ToolExecutionError(node_name=node_name,
        module=module) from e\npromptflow._core._errors.ToolExecutionError: Execution
        failure in ''flip_image'': (ValueError) Random failure\n2024-04-10 13:24:34
        +0000     196 execution.bulk     INFO     Process name(ForkProcess-4:2:2)-Process
        id(335)-Line number(8) start execution.\n2024-04-10 13:24:34 +0000     335
        execution          ERROR    Node flip_image in line 8 failed. Exception: Execution
        failure in ''flip_image'': (ValueError) Random failure.\nTraceback (most recent
        call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 182, in _invoke_tool_inner\n    return f(**kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\nValueError:
        Random failure\n\nThe above exception was the direct cause of the following
        exception:\n\nTraceback (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 90, in invoke_tool\n    result = self._invoke_tool_inner(node, f, kwargs)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 206, in _invoke_tool_inner\n    raise ToolExecutionError(node_name=node_name,
        module=module) from e\npromptflow._core._errors.ToolExecutionError: Execution
        failure in ''flip_image'': (ValueError) Random failure\n2024-04-10 13:24:34
        +0000     196 execution.bulk     INFO     Process name(ForkProcess-4:2:4)-Process
        id(354)-Line number(7) completed.\n2024-04-10 13:24:34 +0000     196 execution.bulk     INFO     Process
        name(ForkProcess-4:2:4)-Process id(354)-Line number(9) start execution.\n2024-04-10
        13:24:35 +0000     196 execution.bulk     INFO     Process name(ForkProcess-4:2:1)-Process
        id(328)-Line number(6) completed.\n2024-04-10 13:24:35 +0000     196 execution.bulk     INFO     Process
        name(ForkProcess-4:2:1)-Process id(328)-Line number(10) start execution.\n2024-04-10
        13:24:35 +0000     196 execution.bulk     INFO     Process name(ForkProcess-4:2:2)-Process
        id(335)-Line number(8) completed.\n2024-04-10 13:24:35 +0000     196 execution.bulk     INFO     Process
        name(ForkProcess-4:2:2)-Process id(335)-Line number(11) start execution.\n2024-04-10
        13:24:35 +0000     196 execution.bulk     INFO     Process name(ForkProcess-4:2:3)-Process
        id(344)-Line number(4) completed.\n2024-04-10 13:24:35 +0000     196 execution.bulk     INFO     Process
        name(ForkProcess-4:2:3)-Process id(344)-Line number(12) start execution.\n2024-04-10
        13:24:35 +0000     196 execution.bulk     INFO     Process name(ForkProcess-4:2:4)-Process
        id(354)-Line number(9) completed.\n2024-04-10 13:24:35 +0000     196 execution.bulk     INFO     Process
        name(ForkProcess-4:2:4)-Process id(354)-Line number(13) start execution.\n2024-04-10
        13:24:35 +0000     354 execution          ERROR    Node flip_image in line
        13 failed. Exception: Execution failure in ''flip_image'': (ValueError) Random
        failure.\nTraceback (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 182, in _invoke_tool_inner\n    return f(**kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\nValueError:
        Random failure\n\nThe above exception was the direct cause of the following
        exception:\n\nTraceback (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 90, in invoke_tool\n    result = self._invoke_tool_inner(node, f, kwargs)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 206, in _invoke_tool_inner\n    raise ToolExecutionError(node_name=node_name,
        module=module) from e\npromptflow._core._errors.ToolExecutionError: Execution
        failure in ''flip_image'': (ValueError) Random failure\n2024-04-10 13:24:35
        +0000     196 execution.bulk     INFO     Finished 10 / 15 lines.\n2024-04-10
        13:24:35 +0000     196 execution.bulk     INFO     Average execution time
        for completed lines: 0.71 seconds. Estimated time for incomplete lines: 3.55
        seconds.\n2024-04-10 13:24:35 +0000     196 execution.bulk     INFO     Process
        name(ForkProcess-4:2:4)-Process id(354)-Line number(13) completed.\n2024-04-10
        13:24:35 +0000     196 execution.bulk     INFO     Process name(ForkProcess-4:2:3)-Process
        id(344)-Line number(12) completed.\n2024-04-10 13:24:35 +0000     196 execution.bulk     INFO     Process
        name(ForkProcess-4:2:2)-Process id(335)-Line number(11) completed.\n2024-04-10
        13:24:35 +0000     196 execution.bulk     INFO     Process name(ForkProcess-4:2:4)-Process
        id(354)-Line number(14) start execution.\n2024-04-10 13:24:35 +0000     196
        execution.bulk     INFO     Process name(ForkProcess-4:2:1)-Process id(328)-Line
        number(10) completed.\n2024-04-10 13:24:36 +0000     196 execution.bulk     INFO     Process
        name(ForkProcess-4:2:4)-Process id(354)-Line number(14) completed.\n2024-04-10
        13:24:36 +0000     196 execution.bulk     INFO     Finished 15 / 15 lines.\n2024-04-10
        13:24:36 +0000     196 execution.bulk     INFO     Average execution time
        for completed lines: 0.54 seconds. Estimated time for incomplete lines: 0.0
        seconds.\n2024-04-10 13:24:36 +0000     196 execution.bulk     INFO     The
        thread monitoring the process [344-ForkProcess-4:2:3] will be terminated.\n2024-04-10
        13:24:36 +0000     196 execution.bulk     INFO     The thread monitoring the
        process [335-ForkProcess-4:2:2] will be terminated.\n2024-04-10 13:24:36 +0000     196
        execution.bulk     INFO     The thread monitoring the process [328-ForkProcess-4:2:1]
        will be terminated.\n2024-04-10 13:24:36 +0000     196 execution.bulk     INFO     The
        thread monitoring the process [354-ForkProcess-4:2:4] will be terminated.\n2024-04-10
        13:24:36 +0000     344 execution.bulk     INFO     The process [344] has received
        a terminate signal.\n2024-04-10 13:24:36 +0000     335 execution.bulk     INFO     The
        process [335] has received a terminate signal.\n2024-04-10 13:24:36 +0000     328
        execution.bulk     INFO     The process [328] has received a terminate signal.\n2024-04-10
        13:24:36 +0000     354 execution.bulk     INFO     The process [354] has received
        a terminate signal.\n2024-04-10 13:24:40 +0000     196 execution          ERROR    9/15
        flow run failed, indexes: [0,1,2,3,5,6,7,8,13], exception of index 0: Execution
        failure in ''flip_image'': (ValueError) Random failure\n2024-04-10 13:24:41
        +0000     196 execution.bulk     INFO     Executing aggregation nodes...\n2024-04-10
        13:24:41 +0000     196 execution.bulk     INFO     Finish executing aggregation
        nodes.\n2024-04-10 13:24:41 +0000     196 promptflow-runtime INFO     Post
        processing batch result...\n2024-04-10 13:24:44 +0000     196 execution.bulk     INFO     Upload
        status summary metrics for run resume_from_run_with_image_and_aggregation_node
        finished in 2.6853729979998207 seconds\n2024-04-10 13:24:44 +0000     196
        execution.bulk     INFO     Upload metrics for run resume_from_run_with_image_and_aggregation_node
        finished in 0.2815945979996286 seconds\n2024-04-10 13:24:44 +0000     196
        promptflow-runtime INFO     Successfully write run properties {\"azureml.promptflow.total_tokens\":
        0, \"_azureml.evaluate_artifacts\": \"[{\\\"path\\\": \\\"instance_results.jsonl\\\",
        \\\"type\\\": \\\"table\\\"}]\"} with run id ''resume_from_run_with_image_and_aggregation_node''\n2024-04-10
        13:24:44 +0000     196 execution.bulk     INFO     Upload RH properties for
        run resume_from_run_with_image_and_aggregation_node finished in 0.07237009599975863
        seconds\n2024-04-10 13:24:44 +0000     196 promptflow-runtime INFO     Creating
        Artifact for Run resume_from_run_with_image_and_aggregation_node...\n2024-04-10
        13:24:44 +0000     196 promptflow-runtime INFO     Created instance_results.jsonl
        Artifact.\n2024-04-10 13:24:44 +0000     196 promptflow-runtime WARNING  [resume_from_run_with_image_and_aggregation_node]
        Run failed. Execution stackTrace: Traceback (most recent call last):\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 182, in _invoke_tool_inner\n    return f(**kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  [REDACTED: External
        StackTrace]\n\nThe above exception was the direct cause of the following exception:\n\nTraceback
        (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 958, in _exec\n    output, aggregation_inputs = self._exec_inner_with_trace(\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 866, in _exec_inner_with_trace\n    output, aggregation_inputs = self._exec_inner(\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 895, in _exec_inner\n    output, nodes_outputs = self._traverse_nodes(inputs,
        context)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 1144, in _traverse_nodes\n    nodes_outputs, bypassed_nodes = self._submit_to_scheduler(context,
        inputs, batch_nodes)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 1181, in _submit_to_scheduler\n    return scheduler.execute(self._line_timeout_sec)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 89, in execute\n    raise e\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 72, in execute\n    self._dag_manager.complete_nodes(self._collect_outputs(completed_futures))\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 113, in _collect_outputs\n    each_node_result = each_future.result()\n  [REDACTED:
        External StackTrace]\n\n2024-04-10 13:24:45 +0000     196 promptflow-runtime
        INFO     Ending the aml run ''resume_from_run_with_image_and_aggregation_node''
        with status ''Completed''...\n2024-04-10 13:25:27 +0000      49 promptflow-runtime
        INFO     Process 196 finished\n2024-04-10 13:25:27 +0000      49 promptflow-runtime
        INFO     [49] Child process finished!\n2024-04-10 13:25:27 +0000      49 promptflow-runtime
        INFO     [resume_from_run_with_image_and_aggregation_node] End processing
        bulk run\n2024-04-10 13:25:27 +0000      49 promptflow-runtime ERROR    Submit
        flow request failed Code: 400 InnerException type: ToolExecutionError Exception
        type hierarchy: UserError/ToolExecutionError\n2024-04-10 13:25:27 +0000      49
        promptflow-runtime INFO     Cleanup working dir /mnt/host/service/app/38539/requests/resume_from_run_with_image_and_aggregation_node
        for bulk run\n"'
    headers:
      connection:
      - keep-alive
      content-length:
      - '29860'
      content-type:
      - application/json; charset=utf-8
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-request-time:
      - '0.688'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - promptflow-azure-sdk/1.0.0.dev0 azsdk-python-azuremachinelearningdesignerserviceclient/unknown
        Python/3.9.19 (Windows-10-10.0.22631-SP0)
    method: GET
    uri: https://eastus.api.azureml.ms/flow/api/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/BulkRuns/name/logContent
  response:
    body:
      string: '"2024-04-12 08:28:48 +0000      49 promptflow-runtime INFO     [name]
        Receiving v2 bulk run request dd8c0ce2-bfb8-4ae4-8ed4-1ca3c1dafb24: {\"flow_id\":
        \"name\", \"flow_run_id\": \"name\", \"flow_source\": {\"flow_source_type\":
        1, \"flow_source_info\": {\"snapshot_id\": \"5736ca27-2c86-4efa-b25b-786d71f83a72\"},
        \"flow_dag_file\": \"flow.dag.yaml\"}, \"log_path\": \"https://promptfloweast0432322450.blob.core.windows.net/azureml/ExperimentRun/dcid.name/logs/azureml/executionlogs.txt?sv=2019-07-07&sr=b&sig=**data_scrubbed**&skoid=3741a7ff-b7ad-4041-ae1a-b4232876e8f0&sktid=00000000-0000-0000-0000-000000000000&skt=2024-04-12T07%3A46%3A05Z&ske=2024-04-13T15%3A56%3A05Z&sks=b&skv=2019-07-07&st=2024-04-12T08%3A18%3A47Z&se=2024-04-12T16%3A28%3A47Z&sp=rcw\",
        \"app_insights_instrumentation_key\": \"InstrumentationKey=**data_scrubbed**;IngestionEndpoint=https://eastus-6.in.applicationinsights.azure.com/;LiveEndpoint=https://eastus.livediagnostics.monitor.azure.com/\",
        \"batch_timeout_sec\": 36000, \"data_inputs\": {\"data\": \"azureml://datastores/workspaceblobstore/paths/LocalUpload/f0a11846460e7f82ede2efcac357243a/input_data/\"},
        \"inputs_mapping\": {\"input_image\": \"${data.input_image}\"}, \"azure_storage_setting\":
        {\"azure_storage_mode\": 1, \"storage_account_name\": \"promptfloweast0432322450\",
        \"blob_container_name\": \"azureml-blobstore-f8925d22-478a-4b5c-8e16-a85158d03b9b\",
        \"flow_artifacts_root_path\": \"promptflow/PromptFlowArtifacts/name/name\",
        \"blob_container_sas_token\": \"?sv=2019-07-07&sr=c&sig=**data_scrubbed**&skoid=3741a7ff-b7ad-4041-ae1a-b4232876e8f0&sktid=00000000-0000-0000-0000-000000000000&skt=2024-04-12T08%3A28%3A47Z&ske=2024-04-19T08%3A28%3A47Z&sks=b&skv=2019-07-07&se=2024-04-19T08%3A28%3A47Z&sp=racwl\",
        \"output_datastore_name\": \"workspaceblobstore\"}, \"resume_from_run_id\":
        \"resume_from_run_with_image_and_aggregation_node\"}\n2024-04-12 08:28:48
        +0000      49 promptflow-runtime INFO     Runtime version: 20240403.v2. PromptFlow
        version: 1.8.0rc3\n2024-04-12 08:28:48 +0000      49 promptflow-runtime INFO     Updating
        name to Status.Preparing...\n2024-04-12 08:28:48 +0000      49 promptflow-runtime
        INFO     Downloading snapshot to /mnt/host/service/app/38659/requests/name\n2024-04-12
        08:28:48 +0000      49 promptflow-runtime INFO     Get snapshot sas url for
        5736ca27-2c86-4efa-b25b-786d71f83a72.\n2024-04-12 08:28:49 +0000      49 promptflow-runtime
        INFO     Snapshot 5736ca27-2c86-4efa-b25b-786d71f83a72 contains 13 files.\n2024-04-12
        08:28:49 +0000      49 promptflow-runtime INFO     Download snapshot 5736ca27-2c86-4efa-b25b-786d71f83a72
        completed.\n2024-04-12 08:28:49 +0000      49 promptflow-runtime INFO     Successfully
        download snapshot to /mnt/host/service/app/38659/requests/name\n2024-04-12
        08:28:49 +0000      49 promptflow-runtime INFO     About to execute a python
        flow.\n2024-04-12 08:28:49 +0000      49 promptflow-runtime INFO     Set otlp_endpoint
        to http://127.0.0.1:38659//aml-api/v1.0/traces\n2024-04-12 08:28:49 +0000      49
        promptflow-runtime INFO     Use spawn method to start child process.\n2024-04-12
        08:28:49 +0000      49 promptflow-runtime INFO     Starting to check process
        120 status for run name\n2024-04-12 08:28:49 +0000      49 promptflow-runtime
        INFO     Start checking run status for run name\n2024-04-12 08:28:53 +0000     120
        promptflow-runtime INFO     [49--120] Start processing flowV2......\n2024-04-12
        08:28:53 +0000     120 promptflow-runtime INFO     Runtime version: 20240403.v2.
        PromptFlow version: 1.8.0rc3\n2024-04-12 08:28:53 +0000     120 promptflow-runtime
        INFO     Setting mlflow tracking uri...\n2024-04-12 08:28:53 +0000     120
        promptflow-runtime INFO     Validating ''AzureML Data Scientist'' user authentication...\n2024-04-12
        08:28:54 +0000     120 promptflow-runtime INFO     Successfully validated
        ''AzureML Data Scientist'' user authentication.\n2024-04-12 08:28:54 +0000     120
        promptflow-runtime INFO     Using AzureMLRunStorageV2\n2024-04-12 08:28:54
        +0000     120 promptflow-runtime INFO     Setting mlflow tracking uri to ''azureml://eastus.api.azureml.ms/mlflow/v1.0/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/promptflow-eastus-dev''\n2024-04-12
        08:28:54 +0000     120 promptflow-runtime INFO     Initialized blob service
        client.\n2024-04-12 08:28:54 +0000     120 promptflow-runtime INFO     Blob
        service client has api version: 2023-11-03\n2024-04-12 08:28:54 +0000     120
        promptflow-runtime INFO     Setting mlflow tracking uri to ''azureml://eastus.api.azureml.ms/mlflow/v1.0/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/promptflow-eastus-dev''\n2024-04-12
        08:28:54 +0000     120 promptflow-runtime INFO     Creating unregistered output
        Asset for Run name...\n2024-04-12 08:28:54 +0000     120 promptflow-runtime
        INFO     Created debug_info Asset: azureml://locations/eastus/workspaces/00000/data/azureml_name_output_data_debug_info/versions/1\n2024-04-12
        08:28:54 +0000     120 promptflow-runtime INFO     Creating unregistered output
        Asset for Run name...\n2024-04-12 08:28:54 +0000     120 promptflow-runtime
        INFO     Created flow_outputs output Asset: azureml://locations/eastus/workspaces/00000/data/azureml_name_output_data_flow_outputs/versions/1\n2024-04-12
        08:28:54 +0000     120 promptflow-runtime INFO     Patching name...\n2024-04-12
        08:28:56 +0000     120 promptflow-runtime INFO     Resolve data from url finished
        in 1.5800774110002749 seconds\n2024-04-12 08:28:56 +0000     120 promptflow-runtime
        INFO     Starting the aml run ''name''...\n2024-04-12 08:28:57 +0000     120
        promptflow-runtime INFO     Prepare resume data for run name, resume from
        run resume_from_run_with_image_and_aggregation_node.\n2024-04-12 08:29:06
        +0000     120 promptflow-runtime INFO     Download output asset of resume
        run finished in 9.662562630000139 seconds\n2024-04-12 08:29:11 +0000     120
        promptflow-runtime INFO     Download debug info asset of resume run finished
        in 4.372355099999822 seconds\n2024-04-12 08:29:13 +0000     120 execution.bulk     INFO     Skipped
        the execution of 6 existing results.\n2024-04-12 08:29:13 +0000     120 execution.bulk     INFO     The
        timeout for the batch run is 36000 seconds.\n2024-04-12 08:29:13 +0000     120
        execution.bulk     INFO     Set process count to 4 by taking the minimum value
        among the factors of {''default_worker_count'': 4, ''row_count'': 9}.\n2024-04-12
        08:29:17 +0000     120 execution.bulk     INFO     Process name(ForkProcess-2:2:3)-Process
        id(332)-Line number(0) start execution.\n2024-04-12 08:29:17 +0000     120
        execution.bulk     INFO     Process name(ForkProcess-2:2:1)-Process id(315)-Line
        number(1) start execution.\n2024-04-12 08:29:17 +0000     120 execution.bulk     INFO     Process
        name(ForkProcess-2:2:2)-Process id(322)-Line number(3) start execution.\n2024-04-12
        08:29:17 +0000     120 execution.bulk     INFO     Process name(ForkProcess-2:2:4)-Process
        id(345)-Line number(2) start execution.\n2024-04-12 08:29:17 +0000     332
        execution          ERROR    Node flip_image in line 0 failed. Exception: Execution
        failure in ''flip_image'': (ValueError) Random failure.\nTraceback (most recent
        call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 182, in _invoke_tool_inner\n    return f(**kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38659/requests/name/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\nValueError:
        Random failure\n\nThe above exception was the direct cause of the following
        exception:\n\nTraceback (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 90, in invoke_tool\n    result = self._invoke_tool_inner(node, f, kwargs)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 206, in _invoke_tool_inner\n    raise ToolExecutionError(node_name=node_name,
        module=module) from e\npromptflow._core._errors.ToolExecutionError: Execution
        failure in ''flip_image'': (ValueError) Random failure\n2024-04-12 08:29:17
        +0000     322 execution          ERROR    Node flip_image in line 3 failed.
        Exception: Execution failure in ''flip_image'': (ValueError) Random failure.\nTraceback
        (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 182, in _invoke_tool_inner\n    return f(**kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38659/requests/name/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\nValueError:
        Random failure\n\nThe above exception was the direct cause of the following
        exception:\n\nTraceback (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 90, in invoke_tool\n    result = self._invoke_tool_inner(node, f, kwargs)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 206, in _invoke_tool_inner\n    raise ToolExecutionError(node_name=node_name,
        module=module) from e\npromptflow._core._errors.ToolExecutionError: Execution
        failure in ''flip_image'': (ValueError) Random failure\n2024-04-12 08:29:18
        +0000     120 execution.bulk     INFO     Process name(ForkProcess-2:2:3)-Process
        id(332)-Line number(0) completed.\n2024-04-12 08:29:18 +0000     120 execution.bulk     INFO     Process
        name(ForkProcess-2:2:3)-Process id(332)-Line number(5) start execution.\n2024-04-12
        08:29:18 +0000     120 execution.bulk     INFO     Process name(ForkProcess-2:2:2)-Process
        id(322)-Line number(3) completed.\n2024-04-12 08:29:18 +0000     332 execution          ERROR    Node
        flip_image in line 5 failed. Exception: Execution failure in ''flip_image'':
        (ValueError) Random failure.\nTraceback (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 182, in _invoke_tool_inner\n    return f(**kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38659/requests/name/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\nValueError:
        Random failure\n\nThe above exception was the direct cause of the following
        exception:\n\nTraceback (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 90, in invoke_tool\n    result = self._invoke_tool_inner(node, f, kwargs)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 206, in _invoke_tool_inner\n    raise ToolExecutionError(node_name=node_name,
        module=module) from e\npromptflow._core._errors.ToolExecutionError: Execution
        failure in ''flip_image'': (ValueError) Random failure\n2024-04-12 08:29:18
        +0000     120 execution.bulk     INFO     Process name(ForkProcess-2:2:2)-Process
        id(322)-Line number(6) start execution.\n2024-04-12 08:29:18 +0000     120
        execution.bulk     INFO     Finished 2 / 9 lines.\n2024-04-12 08:29:18 +0000     120
        execution.bulk     INFO     Average execution time for completed lines: 2.5
        seconds. Estimated time for incomplete lines: 17.5 seconds.\n2024-04-12 08:29:18
        +0000     322 execution          ERROR    Node flip_image in line 6 failed.
        Exception: Execution failure in ''flip_image'': (ValueError) Random failure.\nTraceback
        (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 182, in _invoke_tool_inner\n    return f(**kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38659/requests/name/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\nValueError:
        Random failure\n\nThe above exception was the direct cause of the following
        exception:\n\nTraceback (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 90, in invoke_tool\n    result = self._invoke_tool_inner(node, f, kwargs)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 206, in _invoke_tool_inner\n    raise ToolExecutionError(node_name=node_name,
        module=module) from e\npromptflow._core._errors.ToolExecutionError: Execution
        failure in ''flip_image'': (ValueError) Random failure\n2024-04-12 08:29:18
        +0000     120 execution.bulk     INFO     Process name(ForkProcess-2:2:4)-Process
        id(345)-Line number(2) completed.\n2024-04-12 08:29:18 +0000     120 execution.bulk     INFO     Process
        name(ForkProcess-2:2:4)-Process id(345)-Line number(7) start execution.\n2024-04-12
        08:29:18 +0000     120 execution.bulk     INFO     Process name(ForkProcess-2:2:1)-Process
        id(315)-Line number(1) completed.\n2024-04-12 08:29:18 +0000     345 execution          ERROR    Node
        flip_image in line 7 failed. Exception: Execution failure in ''flip_image'':
        (ValueError) Random failure.\nTraceback (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 182, in _invoke_tool_inner\n    return f(**kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  File \"/mnt/host/service/app/38659/requests/name/flip_image.py\",
        line 12, in passthrough\n    raise ValueError(\"Random failure\")\nValueError:
        Random failure\n\nThe above exception was the direct cause of the following
        exception:\n\nTraceback (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 90, in invoke_tool\n    result = self._invoke_tool_inner(node, f, kwargs)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 206, in _invoke_tool_inner\n    raise ToolExecutionError(node_name=node_name,
        module=module) from e\npromptflow._core._errors.ToolExecutionError: Execution
        failure in ''flip_image'': (ValueError) Random failure\n2024-04-12 08:29:18
        +0000     120 execution.bulk     INFO     Process name(ForkProcess-2:2:1)-Process
        id(315)-Line number(8) start execution.\n2024-04-12 08:29:18 +0000     120
        execution.bulk     INFO     Process name(ForkProcess-2:2:3)-Process id(332)-Line
        number(5) completed.\n2024-04-12 08:29:18 +0000     120 execution.bulk     INFO     Process
        name(ForkProcess-2:2:3)-Process id(332)-Line number(13) start execution.\n2024-04-12
        08:29:18 +0000     120 execution.bulk     INFO     Process name(ForkProcess-2:2:2)-Process
        id(322)-Line number(6) completed.\n2024-04-12 08:29:18 +0000     120 execution.bulk     INFO     Process
        name(ForkProcess-2:2:4)-Process id(345)-Line number(7) completed.\n2024-04-12
        08:29:19 +0000     120 execution.bulk     INFO     Process name(ForkProcess-2:2:1)-Process
        id(315)-Line number(8) completed.\n2024-04-12 08:29:19 +0000     120 execution.bulk     INFO     Process
        name(ForkProcess-2:2:3)-Process id(332)-Line number(13) completed.\n2024-04-12
        08:29:19 +0000     120 execution.bulk     INFO     Finished 9 / 9 lines.\n2024-04-12
        08:29:19 +0000     120 execution.bulk     INFO     Average execution time
        for completed lines: 0.67 seconds. Estimated time for incomplete lines: 0.0
        seconds.\n2024-04-12 08:29:19 +0000     120 execution.bulk     INFO     The
        thread monitoring the process [322-ForkProcess-2:2:2] will be terminated.\n2024-04-12
        08:29:19 +0000     120 execution.bulk     INFO     The thread monitoring the
        process [345-ForkProcess-2:2:4] will be terminated.\n2024-04-12 08:29:19 +0000     120
        execution.bulk     INFO     The thread monitoring the process [315-ForkProcess-2:2:1]
        will be terminated.\n2024-04-12 08:29:19 +0000     322 execution.bulk     INFO     The
        process [322] has received a terminate signal.\n2024-04-12 08:29:19 +0000     120
        execution.bulk     INFO     The thread monitoring the process [332-ForkProcess-2:2:3]
        will be terminated.\n2024-04-12 08:29:19 +0000     345 execution.bulk     INFO     The
        process [345] has received a terminate signal.\n2024-04-12 08:29:19 +0000     315
        execution.bulk     INFO     The process [315] has received a terminate signal.\n2024-04-12
        08:29:19 +0000     332 execution.bulk     INFO     The process [332] has received
        a terminate signal.\n2024-04-12 08:29:23 +0000     120 execution          ERROR    5/15
        flow run failed, indexes: [6,9,10,11,12], exception of index 6: Execution
        failure in ''flip_image'': (ValueError) Random failure\n2024-04-12 08:29:23
        +0000     120 execution.bulk     INFO     Executing aggregation nodes...\n2024-04-12
        08:29:24 +0000     120 execution.bulk     INFO     Finish executing aggregation
        nodes.\n2024-04-12 08:29:24 +0000     120 promptflow-runtime INFO     Post
        processing batch result...\n2024-04-12 08:29:26 +0000     120 execution.bulk     INFO     Upload
        status summary metrics for run name finished in 1.8654378299997916 seconds\n2024-04-12
        08:29:26 +0000     120 execution.bulk     INFO     Upload metrics for run
        name finished in 0.3429648249998536 seconds\n2024-04-12 08:29:26 +0000     120
        promptflow-runtime INFO     Successfully write run properties {\"azureml.promptflow.total_tokens\":
        0, \"_azureml.evaluate_artifacts\": \"[{\\\"path\\\": \\\"instance_results.jsonl\\\",
        \\\"type\\\": \\\"table\\\"}]\"} with run id ''name''\n2024-04-12 08:29:26
        +0000     120 execution.bulk     INFO     Upload RH properties for run name
        finished in 0.07745388300008926 seconds\n2024-04-12 08:29:26 +0000     120
        promptflow-runtime INFO     Creating Artifact for Run name...\n2024-04-12
        08:29:26 +0000     120 promptflow-runtime INFO     Created instance_results.jsonl
        Artifact.\n2024-04-12 08:29:26 +0000     120 promptflow-runtime WARNING  [name]
        Run failed. Execution stackTrace: Traceback (most recent call last):\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/_core/flow_execution_context.py\",
        line 182, in _invoke_tool_inner\n    return f(**kwargs)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/tracing/_trace.py\",
        line 415, in wrapped\n    output = func(*args, **kwargs)\n  [REDACTED: External
        StackTrace]\n\nThe above exception was the direct cause of the following exception:\n\nTraceback
        (most recent call last):\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 958, in _exec\n    output, aggregation_inputs = self._exec_inner_with_trace(\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 866, in _exec_inner_with_trace\n    output, aggregation_inputs = self._exec_inner(\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 895, in _exec_inner\n    output, nodes_outputs = self._traverse_nodes(inputs,
        context)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 1144, in _traverse_nodes\n    nodes_outputs, bypassed_nodes = self._submit_to_scheduler(context,
        inputs, batch_nodes)\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/flow_executor.py\",
        line 1181, in _submit_to_scheduler\n    return scheduler.execute(self._line_timeout_sec)\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 89, in execute\n    raise e\n  File \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 72, in execute\n    self._dag_manager.complete_nodes(self._collect_outputs(completed_futures))\n  File
        \"/azureml-envs/prompt-flow/runtime/lib/python3.9/site-packages/promptflow/executor/_flow_nodes_scheduler.py\",
        line 113, in _collect_outputs\n    each_node_result = each_future.result()\n  [REDACTED:
        External StackTrace]\n\n2024-04-12 08:29:27 +0000     120 promptflow-runtime
        INFO     Ending the aml run ''name'' with status ''Completed''...\n"'
    headers:
      connection:
      - keep-alive
      content-length:
      - '22047'
      content-type:
      - application/json; charset=utf-8
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-request-time:
      - '0.442'
    status:
      code: 200
      message: OK
version: 1
